(this["webpackJsonpfinance-app"]=this["webpackJsonpfinance-app"]||[]).push([[0],{197:function(e){e.exports=JSON.parse('{"Afghanistan":{"code":"AF"},"\xc5land Islands":{"code":"AX"},"Albania":{"code":"AL"},"Algeria":{"code":"DZ"},"American Samoa":{"code":"AS"},"Andorra":{"code":"AD"},"Angola":{"code":"AO"},"Anguilla":{"code":"AI"},"Antarctica":{"code":"AQ"},"Antigua and Barbuda":{"code":"AG"},"Argentina":{"code":"AR"},"Armenia":{"code":"AM"},"Aruba":{"code":"AW"},"Australia":{"code":"AU"},"Austria":{"code":"AT"},"Azerbaijan":{"code":"AZ"},"Bahamas":{"code":"BS"},"Bahrain":{"code":"BH"},"Bangladesh":{"code":"BD"},"Barbados":{"code":"BB"},"Belarus":{"code":"BY"},"Belgium":{"code":"BE"},"Belize":{"code":"BZ"},"Benin":{"code":"BJ"},"Bermuda":{"code":"BM"},"Bhutan":{"code":"BT"},"Bolivia":{"code":"BO"},"Bosnia and Herzegovina":{"code":"BA"},"Botswana":{"code":"BW"},"Bouvet Island":{"code":"BV"},"Brazil":{"code":"BR"},"British Indian Ocean Territory":{"code":"IO"},"Brunei":{"code":"BN"},"Bulgaria":{"code":"BG"},"Burkina Faso":{"code":"BF"},"Burundi":{"code":"BI"},"Cambodia":{"code":"KH"},"Cameroon":{"code":"CM"},"Canada":{"code":"CA"},"Cabo Verde":{"code":"CV"},"Cayman Islands":{"code":"KY"},"Central African Republic":{"code":"CF"},"Chad":{"code":"TD"},"Chile":{"code":"CL"},"China":{"code":"CN"},"Christmas Island":{"code":"CX"},"Cocos (Keeling) Islands":{"code":"CC"},"Colombia":{"code":"CO"},"Comoros":{"code":"KM"},"Congo (Kinshasa)":{"code":"CG"},"Congo (Brazzaville)":{"code":"CD"},"Cook Islands":{"code":"CK"},"Costa Rica":{"code":"CR"},"Cote d\'Ivoire":{"code":"CI"},"Croatia":{"code":"HR"},"Cuba":{"code":"CU"},"Cyprus":{"code":"CY"},"Czechia":{"code":"CZ"},"Denmark":{"code":"DK"},"Djibouti":{"code":"DJ"},"Dominica":{"code":"DM"},"Dominican Republic":{"code":"DO"},"Ecuador":{"code":"EC"},"Egypt":{"code":"EG"},"El Salvador":{"code":"SV"},"Equatorial Guinea":{"code":"GQ"},"Eritrea":{"code":"ER"},"Estonia":{"code":"EE"},"Ethiopia":{"code":"ET"},"Falkland Islands":{"code":"FK"},"Faroe Islands":{"code":"FO"},"Fiji":{"code":"FJ"},"Finland":{"code":"FI"},"France":{"code":"FR"},"French Guiana":{"code":"GF"},"French Polynesia":{"code":"PF"},"French Southern Territories":{"code":"TF"},"Gabon":{"code":"GA"},"Gambia":{"code":"GM"},"Georgia":{"code":"GE"},"Germany":{"code":"DE"},"Ghana":{"code":"GH"},"Gibraltar":{"code":"GI"},"Greece":{"code":"GR"},"Greenland":{"code":"GL"},"Grenada":{"code":"GD"},"Guadeloupe":{"code":"GP"},"Guam":{"code":"GU"},"Guatemala":{"code":"GT"},"Guernsey":{"code":"GG"},"Guinea":{"code":"GN"},"Guinea-Bissau":{"code":"GW"},"Guyana":{"code":"GY"},"Haiti":{"code":"HT"},"Heard Island and Mcdonald Islands":{"code":"HM"},"Holy See":{"code":"VA"},"Honduras":{"code":"HN"},"Hong Kong":{"code":"HK"},"Hungary":{"code":"HU"},"Iceland":{"code":"IS"},"India":{"code":"IN"},"Indonesia":{"code":"ID"},"Iran":{"code":"IR"},"Iraq":{"code":"IQ"},"Ireland":{"code":"IE"},"Isle of Man":{"code":"IM"},"Israel":{"code":"IL"},"Italy":{"code":"IT"},"Jamaica":{"code":"JM"},"Japan":{"code":"JP"},"Jersey":{"code":"JE"},"Jordan":{"code":"JO"},"Kazakhstan":{"code":"KZ"},"Kenya":{"code":"KE"},"Kiribati":{"code":"KI"},"Democratic People\'s Republic of Korea":{"code":"KP"},"Korea, South":{"code":"KR"},"Kosovo":{"code":"XK"},"Kuwait":{"code":"KW"},"Kyrgyzstan":{"code":"KG"},"Laos":{"code":"LA"},"Latvia":{"code":"LV"},"Lebanon":{"code":"LB"},"Lesotho":{"code":"LS"},"Liberia":{"code":"LR"},"Libya":{"code":"LY"},"Liechtenstein":{"code":"LI"},"Lithuania":{"code":"LT"},"Luxembourg":{"code":"LU"},"Macao":{"code":"MO"},"North Macedonia":{"code":"MK"},"Madagascar":{"code":"MG"},"Malawi":{"code":"MW"},"Malaysia":{"code":"MY"},"Maldives":{"code":"MV"},"Mali":{"code":"ML"},"Malta":{"code":"MT"},"Marshall Islands":{"code":"MH"},"Martinique":{"code":"MQ"},"Mauritania":{"code":"MR"},"Mauritius":{"code":"MU"},"Mayotte":{"code":"YT"},"Mexico":{"code":"MX"},"Micronesia, Federated States of":{"code":"FM"},"Moldova":{"code":"MD"},"Monaco":{"code":"MC"},"Mongolia":{"code":"MN"},"Montenegro":{"code":"ME"},"Montserrat":{"code":"MS"},"Morocco":{"code":"MA"},"Mozambique":{"code":"MZ"},"Myanmar":{"code":"MM"},"Namibia":{"code":"NA"},"Nauru":{"code":"NR"},"Nepal":{"code":"NP"},"Netherlands":{"code":"NL"},"Netherlands Antilles":{"code":"AN"},"New Caledonia":{"code":"NC"},"New Zealand":{"code":"NZ"},"Nicaragua":{"code":"NI"},"Niger":{"code":"NE"},"Nigeria":{"code":"NG"},"Niue":{"code":"NU"},"Norfolk Island":{"code":"NF"},"Northern Mariana Islands":{"code":"MP"},"Norway":{"code":"NO"},"Oman":{"code":"OM"},"Pakistan":{"code":"PK"},"Palau":{"code":"PW"},"occupied Palestinian territory":{"code":"PS"},"Panama":{"code":"PA"},"Papua New Guinea":{"code":"PG"},"Paraguay":{"code":"PY"},"Peru":{"code":"PE"},"Philippines":{"code":"PH"},"Pitcairn":{"code":"PN"},"Poland":{"code":"PL"},"Portugal":{"code":"PT"},"Puerto Rico":{"code":"PR"},"Qatar":{"code":"QA"},"Runion":{"code":"RE"},"Romania":{"code":"RO"},"Russia":{"code":"RU"},"Rwanda":{"code":"RW"},"Saint Helena":{"code":"SH"},"Saint Kitts and Nevis":{"code":"KN"},"Saint Lucia":{"code":"LC"},"Saint Pierre and Miquelon":{"code":"PM"},"Saint Vincent and the Grenadines":{"code":"VC"},"Samoa":{"code":"WS"},"San Marino":{"code":"SM"},"Sao Tome and Principe":{"code":"ST"},"Saudi Arabia":{"code":"SA"},"Senegal":{"code":"SN"},"Serbia":{"code":"RS"},"Seychelles":{"code":"SC"},"Sierra Leone":{"code":"SL"},"Singapore":{"code":"SG"},"Slovakia":{"code":"SK"},"Slovenia":{"code":"SI"},"Solomon Islands":{"code":"SB"},"Somalia":{"code":"SO"},"South Africa":{"code":"ZA"},"South Georgia and the South Sandwich Islands":{"code":"GS"},"Spain":{"code":"ES"},"Sri Lanka":{"code":"LK"},"Sudan":{"code":"SD"},"Suriname":{"code":"SR"},"Svalbard and Jan Mayen":{"code":"SJ"},"Swaziland":{"code":"SZ"},"Sweden":{"code":"SE"},"Switzerland":{"code":"CH"},"Syria":{"code":"SY"},"Taiwan*":{"code":"TW"},"Tajikistan":{"code":"TJ"},"Tanzania":{"code":"TZ"},"Thailand":{"code":"TH"},"Timor-Leste":{"code":"TL"},"Togo":{"code":"TG"},"Tokelau":{"code":"TK"},"Tonga":{"code":"TO"},"Trinidad and Tobago":{"code":"TT"},"Tunisia":{"code":"TN"},"Turkey":{"code":"TR"},"Turkmenistan":{"code":"TM"},"Turks and Caicos Islands":{"code":"TC"},"Tuvalu":{"code":"TV"},"Uganda":{"code":"UG"},"Ukraine":{"code":"UA"},"United Arab Emirates":{"code":"AE"},"United Kingdom":{"code":"GB"},"US":{"code":"US"},"United States Minor Outlying Islands":{"code":"UM"},"Uruguay":{"code":"UY"},"Uzbekistan":{"code":"UZ"},"Vanuate":{"code":"VU"},"Venezuela":{"code":"VE"},"Vietnam":{"code":"VN"},"British Virgin Islands":{"code":"VG"},"United States Virgin Islands":{"code":"VI"},"Wallis and Futuna":{"code":"WF"},"Western Sahara":{"code":"EH"},"Yemen":{"code":"YE"},"Zambia":{"code":"ZM"},"Zimbabwe":{"code":"ZW"},"Sint Maarten":{"code":"sx"},"South Sudan":{"code":"ss"}}')},243:function(e){e.exports=JSON.parse('["United States","Canada","Afghanistan","Albania","Algeria","American Samoa","Andorra","Angola","Anguilla","Antarctica","Antigua and/or Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Bouvet Island","Brazil","British Indian Ocean Territory","Brunei Darussalam","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Cape Verde","Cayman Islands","Central African Republic","Chad","Chile","China","Christmas Island","Cocos (Keeling) Islands","Colombia","Comoros","Congo","Cook Islands","Costa Rica","Croatia (Hrvatska)","Cuba","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","East Timor","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Falkland Islands (Malvinas)","Faroe Islands","Fiji","Finland","France","France, Metropolitan","French Guiana","French Polynesia","French Southern Territories","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Heard and Mc Donald Islands","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran (Islamic Republic of)","Iraq","Ireland","Israel","Italy","Ivory Coast","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Korea, Democratic People\'s Republic of","Korea, Republic of","Kuwait","Kyrgyzstan","Lao People\'s Democratic Republic","Latvia","Lebanon","Lesotho","Liberia","Libyan Arab Jamahiriya","Liechtenstein","Lithuania","Luxembourg","Macau","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Micronesia, Federated States of","Moldova, Republic of","Monaco","Mongolia","Montserrat","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","Netherlands Antilles","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Niue","Norfolk Island","Northern Mariana Islands","Norway","Oman","Pakistan","Palau","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Pitcairn","Poland","Portugal","Puerto Rico","Qatar","Reunion","Romania","Russian Federation","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Georgia South Sandwich Islands","Spain","Sri Lanka","St. Helena","St. Pierre and Miquelon","Sudan","Suriname","Svalbard and Jan Mayen Islands","Swaziland","Sweden","Switzerland","Syrian Arab Republic","Taiwan","Tajikistan","Tanzania, United Republic of","Thailand","Togo","Tokelau","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Turks and Caicos Islands","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States minor outlying islands","Uruguay","Uzbekistan","Vanuatu","Vatican City State","Venezuela","Vietnam","Virgin Islands (British)","Virgin Islands (U.S.)","Wallis and Futuna Islands","Western Sahara","Yemen","Yugoslavia","Zaire","Zambia","Zimbabwe"]')},451:function(e,t,a){},452:function(e,t,a){},464:function(e,t,a){},465:function(e,t,a){},466:function(e,t,a){},467:function(e,t,a){},515:function(e,t){},627:function(e,t){},636:function(e,t,a){},643:function(e,t){},645:function(e,t){},658:function(e,t){},660:function(e,t){},688:function(e,t){},690:function(e,t){},691:function(e,t){},696:function(e,t){},698:function(e,t){},704:function(e,t){},706:function(e,t){},725:function(e,t){},737:function(e,t){},740:function(e,t){},758:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(25),r=a.n(o),i=(a(451),a(452),a(4)),s=a(2),l=a(196),u=a(10),d=a(36),j=a(59),b=a(844),p=a(102),h=a(822),O=a(824),f=a(90),g=a(80),m=a(387),x=a.n(m),v=a(5),y=a(11),k=a(1),S=Object(n.createContext)(),C=function(e){return localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):""},T={keymetrics:C("keymetrics"),prices:C("prices"),metricsHistorical:C("metricsHistorical"),generalData:{indexList:C("indexList")},currentCompany:{name:"",ticker:""},financials:{balance:{},income:{},cashflow:{}},peers:{},indexes:{},visitedCompanies:[],portfolioHistory:{},portfolioHistoryByCompany:{},userActivity:C("userActivity")||[],currentPossesions:{stocks:[]},generatedSeries:{data:{dates:{}},ready:!1},companiesImpact:{},areHistoricPricesReady:!1,setPruebaReady:!1,stockLibrary:[],missingTicker:"",following:[],portfolioSeriesReady:!1,simulation:{quotes:null}},E=function(e,t){switch(console.log(t.payload,"tiiiiipo"),console.log("heeey"),t.type){case"STORE_DATA":return Object(s.a)(Object(s.a)({},e),{},Object(u.a)({},t.payload.field,Object(s.a)(Object(s.a)({},e[t.payload.field]),{},Object(u.a)({},t.payload.ticker,t.payload.value))));case"STORE_GENERAL_DATA":return console.log(t.payload,"tu putisima madre"),Object(s.a)(Object(s.a)({},e),{},{generalData:Object(s.a)(Object(s.a)({},e.generalData),{},Object(u.a)({},t.payload.field,t.payload.value))});case"SET_COMPANY":return console.log(t,"que puta"),Object(s.a)(Object(s.a)({},e),{},{currentCompany:Object(s.a)(Object(s.a)({},e.currentCompany),{},{name:t.payload.name,ticker:t.payload.ticker})});case"SET_FINANCIALS":return Object(s.a)(Object(s.a)({},e),{},{financials:Object(s.a)(Object(s.a)({},e.financials),{},Object(u.a)({},t.payload.field,Object(s.a)(Object(s.a)({},e.financials.field),{},Object(u.a)({},t.payload.ticker,t.payload.value))))});case"SET_INDEXES":return Object(s.a)(Object(s.a)({},e),{},{indexes:Object(s.a)(Object(s.a)({},e.indexes),{},Object(u.a)({},t.payload.field,Object(s.a)(Object(s.a)({},e.indexes[t.payload.field]),{},Object(u.a)({},t.payload.ticker,t.payload.value))))});case"ADD_VISITED_COMPANY":return Object(s.a)(Object(s.a)({},e),{},{visitedCompanies:[].concat(Object(y.a)(e.visitedCompanies),[t.payload])});case"STORE_PORTFOLIO_HISTORY_BY_DATE":return Object(s.a)(Object(s.a)({},e),{},{portfolioHistory:t.payload});case"STORE_PORTFOLIO_HISTORY_BY_COMPANY_CHART_READY":return Object(s.a)(Object(s.a)({},e),{},{portfolioHistoryByCompany:t.payload});case"STOCK_OPERATION":var a=t.payload,n=a.operationType,c=a.unitPrice,o=!1;0===e.userActivity.length&&(o=!0);var r="buy"===n?{unitaryCost:c}:{priceSold:c};return Object(s.a)(Object(s.a)({},e),{},{userActivity:[].concat(Object(y.a)(e.userActivity),[{date:t.payload.date,operationType:n,details:Object(s.a)({ticker:t.payload.ticker,amount:t.payload.amount},r),isFirstOperation:o}])});case"ADD_DIRECT_HISTORY":return Object(s.a)(Object(s.a)({},e),{},{userActivity:[].concat(Object(y.a)(e.userActivity),Object(y.a)(t.payload)),isUserActivityReady:!0});case"SELL_STOCK":var i=e.userCash+t.payload;return Object(s.a)(Object(s.a)({},e),{},{userCash:i});case"ADD_PORTFOLIO_CURRENT_POSSESIONS":var l,d,j=t.payload,b=j.ticker,p=j.date,h=j.unitaryPrice,O=j.amount,f=j.assetType,g="buy"===t.payload.operationType?e.currentPossesions.userCash-t.payload.cashNetOperation:e.currentPossesions.userCash+t.payload.cashNetOperation,m=e.currentPossesions.stocks.find((function(e){return e.ticker===b}));return m?(d=0===(l="buy"===t.payload.operationType?m.amount+t.payload.amount:m.amount-t.payload.amount)?e.currentPossesions.stocks.filter((function(e){return e.ticker!==b})):e.currentPossesions.stocks.map((function(e){return e.ticker===b&&(e.amount=l,"buy"===t.payload.operationType&&(e.unitaryCost=function(e,t,a){return e.unitaryCost*e.amount/(e.amount+t)+a*t/(e.amount+t)}(e,O,h))),e})),Object(s.a)(Object(s.a)({},e),{},{currentPossesions:{userCash:g,stocks:d}})):(d=[].concat(Object(y.a)(e.currentPossesions.stocks),[{ticker:b,amount:t.payload.amount,date:p,unitaryCost:h,assetType:f}]),Object(s.a)(Object(s.a)({},e),{},{currentPossesions:{userCash:g,stocks:d},missingTicker:b}));case"SET_INITIAL_POSSESIONS":return Object(s.a)(Object(s.a)({},e),{},{currentPossesions:{stocks:t.payload.stocks,userCash:t.payload.cash}});case"ADD_UNIQUE_STOCKS":var x=e.stockLibrary;return x.includes(t.payload.ticker)||(x=[].concat(Object(y.a)(x),[t.payload.ticker])),Object(s.a)(Object(s.a)({},e),{},{stockLibrary:x});case"SET_INITIAL_UNIQUE_STOCKS":return Object(s.a)(Object(s.a)({},e),{},{stockLibrary:t.payload});case"STORE_GENERATED_SERIES":return Object(s.a)(Object(s.a)({},e),{},{generatedSeries:{data:t.payload,ready:!0}});case"RESTART_GENERATED_SERIES":return Object(s.a)(Object(s.a)({},e),{},{generatedSeries:{data:"",ready:!1}});case"STORE_PORTFOLIO_SERIES":return Object(s.a)(Object(s.a)({},e),{},{portfolioSeries:t.payload,portfolioSeriesReady:!0});case"SET_PORTFOLIO_SERIES_AWAITING":return Object(s.a)(Object(s.a)({},e),{},{portfolioSeries:null,portfolioSeriesReady:!0});case"RESTART_PORTFOLIO_SERIES":return Object(s.a)(Object(s.a)({},e),{},{portfolioSeries:null,portfolioSeriesReady:!1});case"SET_ARE_HISTORIC_PRICES_READY":return Object(s.a)(Object(s.a)({},e),{},{areHistoricPricesReady:t.payload});case"ENABLE":return console.log("eeenaaaabled"),Object(s.a)(Object(s.a)({},e),{},{setPruebaReady:!0});case"SET_MISSING_TICKER":return Object(s.a)(Object(s.a)({},e),{},{missingTicker:[t.payload]});case"RESTART_MISSING_TICKER":return Object(s.a)(Object(s.a)({},e),{},{missingTicker:""});case"STORE_IMPACT_BY_COMPANY":return Object(s.a)(Object(s.a)({},e),{},{companiesImpact:{data:t.payload,ready:!0}});case"COMPANIES_IMPACT_AWAITING":return Object(s.a)(Object(s.a)({},e),{},{companiesImpact:{data:null,ready:!0}});case"STORE_COMPANIES_CHANGE":return Object(s.a)(Object(s.a)({},e),{},{companiesChange:t.payload});case"STORE_USER_INTEREST":return Object(s.a)(Object(s.a)({},e),{},{following:t.payload});case"SET_FIRST_SERIE":return Object(s.a)(Object(s.a)({},e),{},{addFirstSerie:t.payload});case"SET_SIMULATION_QUOTES":return Object(s.a)(Object(s.a)({},e),{},{simulation:Object(s.a)(Object(s.a)({},e.simulation),{},{quotes:t.payload})});case"REINITILIZE":return Object(s.a)(Object(s.a)({},e),{},{setPruebaReady:!1,generatedSeries:{data:"",ready:!1},areHistoricPricesReady:!1,portfolioSeriesReady:!1,userActivity:[]});default:return e}},w=function(e){var t=e.children,a=Object(n.useReducer)(E,T),c=Object(i.a)(a,2),o=c[0],r=c[1];return Object(k.jsx)(S.Provider,{value:{state:o,dispatch:r},children:t})},N=function(){return Object(n.useContext)(S)},I=Object(n.createContext)(),R=function(e){var t=e.children,a=Object(n.useState)(!1),c=Object(i.a)(a,2),o=c[0],r=c[1],s=Object(n.useState)(!1),l=Object(i.a)(s,2),u=l[0],d=l[1],j=Object(n.useState)(!0),b=Object(i.a)(j,2),p=b[0],h=b[1],O=Object(n.useState)(!0),f=Object(i.a)(O,2),g=f[0],m=f[1],x=Object(n.useState)(240),v=Object(i.a)(x,2),y=v[0],S=v[1],C=Object(n.useState)(""),T=Object(i.a)(C,2),E=T[0],w=T[1];return Object(k.jsx)(I.Provider,{value:{sidebarOpen:o,setSidebarOpen:r,showOverlay:u,setShowOverlay:d,tickerMove:p,setTickerMove:h,mountApproval:g,setMountApproval:m,drawerWidth:y,setDrawerWidth:S,imageUrl:E,setImageUrl:w},children:t})},A=function(){return Object(n.useContext)(I)},P=function(){var e=Object(n.useState)(window.innerWidth),t=Object(i.a)(e,2),a=t[0],c=t[1],o=function(){c(window.innerWidth)};return Object(n.useEffect)((function(){return window.addEventListener("resize",o),function(){window.removeEventListener("resize",o)}}),[]),{viewport:a}},L=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),_=function(e){return Math.round(100*(e+Number.EPSILON))/100},D=a(846),F=a(823),M=a(201),B=(a(386),a(385),a(95)),W=a.n(B),K=c.a.createContext(),U={isAuthenticated:!1,token:function(){var e=W.a.getJSON("token");if(!e||"undefined"===e)return"";console.log(e,"tokeeun");try{return JSON.parse(e)}catch(t){return e}}(),info:{email:null},ready:!1,config:{staticImage:!0}},G=function(e,t){switch(t.type){case"SET_USER":return Object(s.a)(Object(s.a)({},e),{},{isAuthenticated:!0,info:t.payload,ready:!0});case"SET_USER_NULL":return localStorage.removeItem("token"),console.log("user set nullllll"),Object(s.a)(Object(s.a)({},e),{},{isAuthenticated:!1,info:{email:null},ready:!0,token:null});case"SET_TOKEN":return console.log(t.payload,"setting user nulltokkenset"),Object(s.a)(Object(s.a)({},e),{},{token:t.payload});case"ADD_USER_INFO":return Object(s.a)(Object(s.a)({},e),{},{info:Object(s.a)(Object(s.a)({},e.info),t.payload)});case"SET_USER_AND_TOKEN":var a=t.payload,n=a.email,c=a.token;return Object(s.a)(Object(s.a)({},e),{},{isAuthenticated:!0,info:{email:n},token:c});case"UPDATE_IMAGE":return console.log("mmaaariccon"),console.log(t.payload,"qe cojoeee"),console.log(URL.createObjectURL(t.payload),"qe cojoeee2"),Object(s.a)(Object(s.a)({},e),{},{info:Object(s.a)(Object(s.a)({},e.info),{},{imageUrl:URL.createObjectURL(t.payload)})});default:return e}},H=function(e){var t=e.children,a=Object(n.useReducer)(G,U),c=Object(i.a)(a,2),o=c[0],r=c[1];return Object(k.jsx)(K.Provider,{value:{userState:o,userDispatch:r},children:t})},q=function(){return Object(n.useContext)(K)},z=K,J=a(20),V=a.n(J),Y=a(34),Q=function(e){var t=e.ticker,a=e.children,c=Object(n.useState)({currentPrice:"",loading:!1,error:""}),o=Object(i.a)(c,2),r=o[0],l=r.currentPrice,u=r.loading,d=r.error,j=o[1];return Object(n.useEffect)((function(){t&&function(){var e=Object(Y.a)(V.a.mark((function e(t){var a,n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!0})})),e.prev=1,e.next=4,fetch("https://finnhub.io/api/v1/quote?symbol=".concat(t,"&token=btm6dp748v6ud360stcg"));case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,j((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!1,currentPrice:n.c})})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),j((function(t){return Object(s.a)(Object(s.a)({},t),{},{loading:!1,error:e.t0.message})}));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()(t)}),[t]),Object(k.jsx)(k.Fragment,{children:a({currentPrice:l,loading:u,error:d})})},Z=a(32),X=a(813),$=a(814),ee=a(817),te=a(815),ae=a(764),ne=a(765),ce=a(819),oe=a(820),re=a(258),ie=a(821),se=a(761),le=Object(j.a)({root:{animationDuration:"550ms"},circle:{strokeLinecap:"round"}}),ue={opacity:0,transition:"all 0.1s ease"},de={entering:{opacity:1},entered:{opacity:1},exiting:{opacity:0},exited:{opacity:0}},je=function(e){var t=e.adaptable,a=void 0!==t&&t,n=e.animState,c=le();return console.log("loooader"),a?Object(k.jsx)("div",{className:"wrapper-referencef",style:Object(s.a)(Object(s.a)({},ue),de[n]),children:Object(k.jsx)("div",{className:"loader-wrapper",children:Object(k.jsx)(se.a,{disableShrink:!0,thickness:4,classes:{root:c.root,circular:c.circular}})})}):Object(k.jsx)("div",{className:"wrapper-reference",children:Object(k.jsx)("span",{className:"loader-wrapper",children:Object(k.jsx)(se.a,{disableShrink:!0,thickness:4,classes:{root:c.root,circular:c.circular}})})})},be=function(e){var t=e.split("-"),a=parseInt(t[1])-1;return new Date(t[0],a.toString(),t[2]).getTime()},pe=function(e){var t=new Date(e),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t){if(11===e)return(e+1).toString();e++}return 1===e.toString().length?"0".concat(e.toString()):e.toString()},n=a(t.getMonth(),!0),c=a(t.getDate());return t.getFullYear()+"-"+n+"-"+c};var he=a(816),Oe=a(420),fe=c.a.forwardRef((function(e,t){return Object(k.jsx)(Oe.a,Object(s.a)({ref:t},e))})),ge=function(e){var t=e.modalOpen,a=e.setModalOpen,n=e.ticker,c=e.qty,o=e.orderTotal,r=e.submitOrder,i=e.operationType,s=function(){a(!1)};return Object(k.jsx)("div",{children:Object(k.jsxs)(X.a,{open:t,onClose:s,TransitionComponent:fe,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(k.jsx)($.a,{id:"alert-dialog-title",children:"Use Google's location service?"}),Object(k.jsx)(te.a,{children:Object(k.jsxs)(he.a,{id:"alert-dialog-description",children:["You are going to ",i," ",c," stocks of ",n," for ",L.format(o)]})}),Object(k.jsxs)(ee.a,{children:[Object(k.jsx)(p.a,{onClick:s,style:{background:"red"},variant:"contained",children:"Cancel"}),Object(k.jsx)(p.a,{onClick:r,color:"primary",variant:"contained",autoFocus:!0,children:"Confirm"})]})]})})},me=a(44),xe=a(383),ve=a.n(xe),ye=a(31),ke=a(853),Se=a(818),Ce=a(384),Te=a.n(Ce),Ee=a(848),we=pe(Date.now()),Ne=Object(j.a)({root:{color:"white !Important"}}),Ie=me.a.div({height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}),Re=function(e,t){var a=t.stocks.find((function(t){return t.ticker===e}));return a?a.amount:0},Ae=function(e){var t=e.ticker,a=e.currentPrice,o=e.loading,r=e.error,s=e.assetType,l=e.fundId,u=void 0===l?null:l,d=N(),j=d.state,b=d.dispatch,h=j.setPruebaReady,O=Object(Z.a)(),f=q().userState;console.log(a,"preciooo");var g=Object(n.useState)(1),m=Object(i.a)(g,2),x=m[0],v=m[1],y=Object(n.useState)(""),S=Object(i.a)(y,2),C=S[0],T=S[1],E=c.a.useState(!1),w=Object(i.a)(E,2),I=w[0],R=w[1],A=c.a.useState("buy"),P=Object(i.a)(A,2),L=P[0],_=P[1],D=Object(n.useRef)(!1),F=Object(n.useState)(!1),M=Object(i.a)(F,2),B=M[0],W=M[1],K=Object(n.useState)({open:!1,msg:""}),U=Object(i.a)(K,2),G=U[0],H=U[1],z=Object(Ee.a)(),J=Object(n.useState)(""),V=Object(i.a)(J,2);V[0],V[1],Ne();Object(n.useEffect)((function(){a&&T(a*x)}),[x,a]);var Y=function(){D.current=!0,b({type:"SET_ARE_HISTORIC_PRICES_READY",payload:!0}),b({type:"SET_FIRST_SERIE",payload:!0})},Q=function(e){console.log("showww wrro modal"),H({open:!0,text:e})};return f.isAuthenticated?Object(k.jsxs)("div",{className:"stock-shop",children:[o&&Object(k.jsx)(je,{}),r&&Object(k.jsx)("p",{children:r}),h?a&&Object(k.jsxs)("div",{children:[Object(k.jsx)(_e,{errorModal:G,setErrorModal:H}),Object(k.jsx)(Le,{open:B,handleClose:function(){W(!1)},currentPrice:a,orderTotal:C,setQty:v,qty:x,operationType:L,handleType:function(e,t){console.log(t,"tiipu"),_(t)},checkIsValidOperation:function(){if(console.log("ejecuuuuuuua"),"buy"===L&&C>j.currentPossesions.userCash)return Q("Not enough cash to perform operation");console.log(Re(t,j.currentPossesions),"que cantidad teniamos"),"sell"===L&&Re(t,j.currentPossesions)<x?Q("You are selling more units than what you actually own"):R(!0)}}),Object(k.jsx)(p.a,{onClick:function(){W(!0)},"aria-label":"buy or sell asset",variant:"contained",style:{background:O.palette.success.main,color:"white"},size:"large",startIcon:Object(k.jsx)(Te.a,{}),children:"Operate"}),Object(k.jsx)(ge,{modalOpen:I,qty:x,orderTotal:C,ticker:t,submitOrder:function(){if(W(!1),R(!1),f.info.email){var e=!(j.userActivity.length>0);if(e)Y(),localStorage.setItem("firstDate",JSON.stringify(Date.now()));else j.userActivity.find((function(e){return e.isFirstOperation})).date===we&&Y();fetch("".concat("https://financeapp-v1.herokuapp.com","/api/v1/operations/addoperation"),{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({user:f.info.email,order:{operationType:L,ticker:t,amount:x,price:a,date:we,isFirstOperation:e,assetType:s,fundId:u}})}).then((function(e){b({type:"ADD_PORTFOLIO_CURRENT_POSSESIONS",payload:{ticker:t,amount:x,operationType:L,cashNetOperation:C,date:we,unitaryPrice:a,fundId:u}}),b({type:"ADD_UNIQUE_STOCKS",payload:{ticker:t}}),b({type:"STOCK_OPERATION",payload:{date:we,operationType:L,amount:x,ticker:t,unitPrice:a}}),b({type:"RESTART_GENERATED_SERIES"}),D.current&&b({type:"RESTART_PORTFOLIO_SERIES"})})).catch((function(e){console.log(e,"pputa fall\xf3")}))}else alert("please log in")},operationType:L,setOpen:W,setModalOpen:R})]}):Object(k.jsx)("div",{children:"Loading initial data..."})]}):Object(k.jsxs)(Ie,{children:[Object(k.jsxs)("p",{style:{marginBottom:"10px"},children:[Object(k.jsx)(ye.b,{to:{pathname:"/login",state:{background:z}},children:"Login"})," to invest"]}),Object(k.jsx)(ve.a,{})]})},Pe=me.a.span((function(e){return{color:"buy"===e.operationType?"#3f51b5":"#f50057"}})),Le=function(e){var t,a=e.open,n=e.handleClose,c=e.currentPrice,o=e.orderTotal,r=e.setQty,i=e.qty,s=e.operationType,l=e.handleType,d=e.checkIsValidOperation,j=Object(Z.a)();return Object(k.jsxs)(X.a,{open:a,TransitionComponent:M.a,keepMounted:!0,onClose:n,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",fullWidth:!0,maxWidth:"xs",disableEnforceFocus:!0,disableAutoFocus:!0,children:[Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(k.jsxs)($.a,{id:"alert-dialog-slide-title",children:["How much do you want to",Object(k.jsxs)(Pe,{operationType:s,children:[" ",s]}),"?"]}),Object(k.jsx)(ee.a,{children:Object(k.jsx)(ke.a,{"aria-label":"buy or sell",exclusive:!0,onChange:l,value:s,orientation:"vertical",children:[["buy",j.palette.primary.main,j.palette.primary.light],["sell",j.palette.secondary.main,j.palette.secondary.light]].map((function(e){return Object(k.jsx)(Se.a,{value:e[0],style:e[0]===s?{background:e[1],color:"white"}:null,variant:"contained",children:e[0]},e[0])}))})})]}),Object(k.jsx)(te.a,{children:Object(k.jsxs)(ae.a,{id:"alert-dialog-slide-description",children:[Object(k.jsxs)(ne.a,{children:[Object(k.jsx)(ce.a,{primary:"price/ud"}),Object(k.jsx)(oe.a,{children:Object(k.jsx)("p",{children:L.format(c)})})]}),Object(k.jsxs)(ne.a,{children:[Object(k.jsx)(ce.a,{children:"Choose Quantity"}),Object(k.jsx)(oe.a,{children:Object(k.jsx)(re.a,{value:i,onChange:function(e){r(e.target.value)},inputProps:{type:"number",min:0},style:{width:"50px"}})})]}),Object(k.jsx)(ie.a,{}),Object(k.jsxs)(ne.a,{children:[Object(k.jsx)(ce.a,{children:"Total Value"}),Object(k.jsx)(oe.a,{children:L.format(o)})]})]})}),Object(k.jsxs)(ee.a,{children:[Object(k.jsx)(p.a,(t={onClick:n,color:"primary",variant:"outlined"},Object(u.a)(t,"color","secondary"),Object(u.a)(t,"children","Cancel"),t)),Object(k.jsx)(p.a,{onClick:d,color:"primary",disabled:!s,variant:"outlined",children:"Submit"}),!s&&Object(k.jsx)("span",{children:"Please select operation type"})]})]})},_e=function(e){var t=e.errorModal,a=e.setErrorModal;return Object(k.jsxs)(X.a,{open:t.open,onClose:function(){a({open:!1})},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",fullWidth:!0,maxWidth:"xs",children:[Object(k.jsx)($.a,{children:"Operation is not valid"}),Object(k.jsx)(te.a,{children:t.text}),Object(k.jsx)(ee.a,{children:Object(k.jsx)(p.a,{onClick:function(){a({open:!1})},color:"secondary",children:"Close"})})]})},De=Object(j.a)((function(e){var t;return{appBarCompany:{flexDirection:"row",alignItems:"center",transition:e.transitions.create(["top","transform"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),transform:"translateX(0px)"},appBarCompanyShift:{transform:"translateX(".concat(240,"px)")},tab:Object(u.a)({marginLeft:"60px"},e.breakpoints.down("sm"),{marginLeft:"0px"}),white:{borderColor:"white"},tabItem:(t={fontSize:"12px"},Object(u.a)(t,e.breakpoints.up("sm"),{minWidth:"auto"}),Object(u.a)(t,e.breakpoints.up("md"),{minWidth:"120px",fontSize:"0.88rem"}),Object(u.a)(t,e.breakpoints.up("lg"),{minWidth:"160px"}),t),scrollButtons:Object(u.a)({width:"30px"},e.breakpoints.up("sm"),{display:"none"})}})),Fe=function(e){var t=e.menuCompaniesOpen,a=e.topNavigation,c=N(),o=c.state,r=o.currentCompany,l=o.following,j=(c.dispatch,A()),b=j.sidebarOpen,p=j.setMountApproval,O=(q().userState.info,function(e){var t=P().viewport,a=Object(n.useState)({height:60,width:0}),c=Object(i.a)(a,2),o=c[0],r=o.height,s=o.width,l=c[1];return Object(n.useEffect)((function(){e.current&&l({height:e.current.offsetHeight,width:e.current.offsetWidth})}),[e,t]),{height:r,width:s}}(a).height),f=Object(d.g)(),g=Object(n.useState)(0),m=Object(i.a)(g,2),x=m[0],y=m[1];function S(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}console.log(r,l,"muuuuwwww");var C={entering:{top:"".concat(O,"px")},entered:{top:"".concat(O,"px")},exiting:{top:"0px"},exited:{top:"0px"}},T=function(e,t){y(t)},E=De(),w=function(e){f.push("".concat(e,"/").concat(r.ticker))},I=Object(n.useState)(!1),R=Object(i.a)(I,2),L=(R[0],R[1]);return Object(n.useEffect)((function(){if(l.length){var e=l.find((function(e){return e===r.ticker}));L(!!e)}else L(!1)}),[l]),Object(k.jsx)(M.a,{in:t,timeout:300,onExited:function(){p(!0)},children:function(e){return Object(k.jsx)(h.a,{className:Object(v.a)(E.appBarCompany,Object(u.a)({},E.appBarCompanyShift,b)),style:C[e],children:Object(k.jsxs)(D.a,{value:x,onChange:T,"aria-label":"simple tabs example",classes:{root:E.tab,scrollButtons:E.scrollButtons},variant:"scrollable",scrollButtons:"on",children:[Object(k.jsx)(F.a,Object(s.a)(Object(s.a)({label:"Overview"},S(0)),{},{onClick:function(){w("/companies/overview")},classes:{root:E.tabItem}})),Object(k.jsx)(F.a,Object(s.a)(Object(s.a)({label:"Financials"},S(1)),{},{onClick:function(){w("/companies/financials")},classes:{root:E.tabItem}})),Object(k.jsx)(F.a,Object(s.a)(Object(s.a)({label:"Key metrics"},S(2)),{},{onClick:function(){w("/companies/keymetrics")},classes:{root:E.tabItem}})),Object(k.jsx)(F.a,Object(s.a)(Object(s.a)({label:"News"},S(2)),{},{onClick:function(){f.push("/news")},classes:{root:E.tabItem}}))]})})}})},Me=a(12),Be=a(263),We=a(182),Ke=a(79),Ue=a.n(Ke),Ge=!0,He=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=Object(n.useState)(""),o=Object(i.a)(c,2),r=o[0],s=o[1];return Object(n.useEffect)((function(){if(Ge)Ge=!1;else{if(!a){var n=setTimeout((function(){s(e)}),t);return function(){return clearTimeout(n)}}s(e)}}),[e]),r},qe=(a(464),Object(j.a)((function(e){return{search:{position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Me.d)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Me.d)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0},searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(u.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create(["width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:function(e){return e.isFocused?"250px":"180px"}}),resultsList:{position:"absolute",left:0,top:"100%",width:"100%",padding:"1rem",listStyle:"none",textDecoration:"none"},menuBody:{background:"cornflowerblue",position:"absolute",width:"100%",top:"100%",overflow:"hidden",height:function(e){return e.isFocused?e.menuHeight+"px":"0px"},transition:e.transitions.create(["height"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})}}}))),ze=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)({value:"",cancel:!1}),r=Object(i.a)(o,2),s=r[0],l=r[1],u=function(e,t){var a=Object(n.useState)(""),c=Object(i.a)(a,2),o=c[0],r=c[1];return Object(n.useEffect)((function(){if(Ge)return console.log(Ge,"firstlooo"),void(Ge=!1);if(!e.cancel){var a=setTimeout((function(){console.log(e.value,"vallllll"),r(e.value)}),t);return function(){return clearTimeout(a)}}r("")}),[e]),o}(s,300),d=Ve(u),j=d.data,b=d.loading,p=(d.error,Object(n.useRef)(null)),h=Object(n.useState)(0),O=Object(i.a)(h,2),f=O[0],g=O[1];Object(n.useEffect)((function(){p.current&&g(p.current.getBoundingClientRect().height)}),[j,b]);var m=qe({isFocused:a,menuHeight:f});return Object(k.jsxs)("div",{className:m.search,children:[Object(k.jsx)("div",{className:m.searchIcon,children:Object(k.jsx)(Ue.a,{})}),Object(k.jsx)(Be.a,{onChange:function(e,t){e.persist(),console.log(t,"targggg"),console.log(e.target.value,"targggg"),l({cancel:!1,value:e.target.value})},value:s.value,placeholder:"Search\u2026",classes:{root:m.inputRoot,input:m.inputInput},onFocus:function(){c(!0)},onBlur:function(){l({value:"",cancel:!0}),c(!1),g(0)}}),Object(k.jsx)("div",{className:m.menuBody,style:{transformOrigin:"top"},children:Object(k.jsx)("div",{style:{position:"relative"},children:Object(k.jsx)(We.a,{in:!!j||b,timeout:300,mountOnEnter:!0,unmountOnExit:!0,children:Object(k.jsxs)("ul",{ref:p,className:m.resultsList,children:[" ",b?Object(k.jsx)(se.a,{style:{display:"block"}}):j&&j.map((function(e){return Object(k.jsx)(Je,{info:e},e.name)}))]})})})})]})},Je=function(e){var t=e.info;return Object(k.jsx)("li",{className:"list-item-search",children:t.name})},Ve=function(e){var t=Object(n.useState)({data:"",loading:!1,error:null}),a=Object(i.a)(t,2),c=a[0],o=c.data,r=c.loading,l=c.error,u=a[1],d=function(){var e=Object(Y.a)(V.a.mark((function e(t){var a,n,c,o;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("quuuuery"),t){e.next=4;break}return u({loading:!1,data:""}),e.abrupt("return");case 4:return e.prev=4,u((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!0})})),e.next=8,fetch("".concat("https://financeapp-v1.herokuapp.com","/api/v1/recurringTasks/search/").concat(t));case 8:return a=e.sent,e.next=11,a.json();case 11:n=e.sent,c=n.data,o=c.filter((function(e){return"Stock"===e.assetType})),u((function(e){return Object(s.a)(Object(s.a)({},e),{},{data:o,loading:!1})})),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),u((function(t){return Object(s.a)(Object(s.a)({},t),{},{loading:!1,error:e.t0.message})}));case 20:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){d(e)}),[e]),{data:o,loading:r,error:l}},Ye=Object(j.a)((function(e){return{root:{display:"flex"},grow:{flex:"1 1 auto"},menuButton:{marginRight:36},title:Object(u.a)({display:"none"},e.breakpoints.up("sm"),{flexGrow:1,display:"unset"}),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:function(e){var t=e.drawerWidth;return e.viewport<600?"100%":"calc(100% - ".concat(t,"px)")},transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},hide:{display:"none"},desktopActions:Object(u.a)({display:"none"},e.breakpoints.up("md"),{display:"flex",alignItems:"center",marginLeft:"auto"})}})),Qe=function(){var e=Object(d.g)(),t=N(),a=t.state,c=t.dispatch,o=P().viewport,r=A(),s=r.sidebarOpen,l=r.drawerWidth,j=r.setSidebarOpen,b=Object(d.h)(),m=Object(n.useRef)(null),y=Object(n.useState)(!1),S=Object(i.a)(y,2),C=S[0],T=S[1];console.log(e,"hiiiii");var E=Object(d.h)();console.log(E,"psspsp"),Object(n.useEffect)((function(){var e=b.pathname.split("/").filter((function(e){return""!==e}));console.log(e[0],"first pathname query"),"companies"===e[0]?T(!0):(console.log("ahora es falso"),T(!1))}),[b]),console.log(b,"locationnnnnn");var w=Ye({drawerWidth:l,viewport:o}),I=q(),R=I.userDispatch,_=I.userState.isAuthenticated;return Object(k.jsxs)("div",{children:[Object(k.jsx)(h.a,{"data-testid":"navbar",position:"fixed",className:Object(v.a)(w.appBar,Object(u.a)({},w.appBarShift,s)),ref:m,children:Object(k.jsxs)(O.a,{children:[Object(k.jsx)(g.a,{color:"inherit","aria-label":"open drawer",onClick:function(){j(!0)},edge:"start",className:Object(v.a)(w.menuButton,Object(u.a)({},w.hide,s)),children:Object(k.jsx)(x.a,{})}),Object(k.jsx)(f.a,{variant:"h6",noWrap:!0,className:w.title,children:C?a.currentCompany.name:"FinnTrack"}),Object(k.jsx)("div",{className:w.grow}),Object(k.jsx)(ze,{}),Object(k.jsxs)("div",{className:w.desktopActions,children:[Object(k.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){e.push("/login",{background:b})},children:"login"}),_&&Object(k.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){var t;t=function(){return e.push("/login")},c({type:"REINITILIZE"}),W.a.remove("token"),R({type:"SET_USER_NULL"}),t()},children:"Logout"}),_&&Object(k.jsxs)(f.a,{children:[L.format(a.currentPossesions.userCash)," $"]})]})]})}),Object(k.jsx)(Fe,{menuCompaniesOpen:C,topNavigation:m})]})},Ze=a(827),Xe=a(392),$e=a.n(Xe),et=a(391),tt=a.n(et),at=a(770),nt=a(245),ct=a.n(nt),ot=a(828),rt=a(825),it=Object(j.a)((function(e){return{root:{color:e.palette.text.primary,"&:hover > $content":{backgroundColor:e.palette.action.hover},"&:focus > $content, &$selected > $content":{backgroundColor:"var(--tree-view-bg-color, ".concat(e.palette.grey[400],")"),color:"var(--tree-view-color)"},"&:focus > $content $label, &:hover > $content $label, &$selected > $content $label":{backgroundColor:"transparent"},padding:function(e){return e.isTitle?"0.5rem 0":0}},content:{color:e.palette.text.secondary,borderTopRightRadius:e.spacing(2),borderBottomRightRadius:e.spacing(2),paddingRight:e.spacing(1),fontWeight:e.typography.fontWeightMedium,"$expanded > &":{fontWeight:e.typography.fontWeightRegular}},group:{marginLeft:0,"& $content":{paddingLeft:e.spacing(2)}},expanded:{},selected:{},label:{fontWeight:"inherit",color:"inherit"},labelRoot:{display:"flex",alignItems:"center",padding:e.spacing(.5,0)},labelIcon:{marginRight:e.spacing(1)},labelText:{fontWeight:"inherit",flexGrow:1,marginLeft:e.spacing(4)},iconContainer:{width:"9px"}}})),st=function(e){var t=it({isTitle:e.isTitle}),a=e.labelText,n=e.labelIcon,c=e.labelInfo,o=e.color,r=e.bgColor,i=e.ariaLabel,u=void 0===i?"":i,d=Object(l.a)(e,["labelText","labelIcon","labelInfo","color","bgColor","ariaLabel"]);return Object(k.jsx)(rt.a,Object(s.a)({"aria-label":u,label:Object(k.jsxs)("div",{className:t.labelRoot,children:[Object(k.jsx)(n,{color:"inherit",className:t.labelIcon}),Object(k.jsx)(f.a,{variant:"body1",className:t.labelText,children:a}),Object(k.jsx)(f.a,{variant:"caption",color:"inherit",children:c})]}),style:{"--tree-view-color":o,"--tree-view-bg-color":r},classes:{root:t.root,content:t.content,expanded:t.expanded,selected:t.selected,group:t.group,label:t.label,iconContainer:t.iconContainer}},d))},lt=a(248),ut=a.n(lt),dt=a(246),jt=a.n(dt),bt=a(186),pt=a.n(bt),ht=a(187),Ot=a.n(ht),ft=a(188),gt=a.n(ft),mt=a(247),xt=a.n(mt),vt=a(243),yt=a(826),kt=(a(465),a(389)),St=a.n(kt),Ct=a(388),Tt=a.n(Ct),Et=(me.a.div({width:"600px",margin:"0 auto"}),Object(j.a)({label:{height:"100px",width:"100px",display:"block","&:hover":{}}}),function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),r=Object(i.a)(o,2),s=(r[0],r[1]),l=Object(n.useState)(!1),u=Object(i.a)(l,2),d=u[0],j=u[1],b=q(),p=b.userState.info,h=b.userDispatch,O=Object(n.useState)(!1),f=Object(i.a)(O,2),g=f[0],m=f[1],x=Object(n.useState)(p.imageUrl?p.imageUrl:""),v=Object(i.a)(x,2),y=v[0],S=v[1],C=y||p.imageUrl,T=function(e){if(e.preventDefault(),a){var t=new FormData;t.append("image",a),t.append("email",p.email),j(!0),fetch("".concat("https://financeapp-v1.herokuapp.com","/api/v1/users/upload"),{body:t,method:"POST"}).then((function(e){return e.blob()})).then((function(e){h({type:"UPDATE_IMAGE",payload:e}),j(!1)})).catch((function(e){s(JSON.stringify(e))}))}};return Object(k.jsx)("div",{className:"contact-details",children:Object(k.jsxs)("form",{onSubmit:T,children:[Object(k.jsxs)("label",{htmlFor:"upload",className:"label-upload",children:[C?Object(k.jsxs)(n.Fragment,{children:[Object(k.jsx)("img",{src:C,style:g?{display:"inline"}:{display:"none"},onLoad:function(){m(!0)}}),Object(k.jsx)(Tt.a,{className:"swap-icon"}),Object(k.jsx)("div",{className:"overlay"}),!g&&Object(k.jsx)(yt.a,{variant:"rect",width:210,height:118})]}):Object(k.jsx)("img",{src:"https://gamemakers.com/wp-content/uploads/2020/06/no-image.jpg",style:{objectFit:"contain",height:"100%",display:"block",marginBottom:"1rem"}}),Object(k.jsx)("input",{type:"file",onChange:function(e){c(e.target.files[0]),S(URL.createObjectURL(e.target.files[0]))},style:{display:"none"},id:"upload"})]}),Object(k.jsx)(wt,{loading:d,handleSubmit:T,children:"submit"})]})})}),wt=function(e){var t=e.loading,a=e.handleSubmit;return Object(k.jsx)(p.a,{onClick:a,endIcon:t?Object(k.jsx)(se.a,{}):null,startIcon:Object(k.jsx)(St.a,{}),variant:"contained",color:"primary",children:t?"submiting..":"submit"})},Nt=(a(466),a(131)),It=a(202),Rt=a(200),At=a(103),Pt=a(195),Lt=(a(467),me.a.div({width:"600px",margin:"0 auto"}),Object(j.a)({}),function(){var e=q(),t=e.userState.info,a=e.userDispatch,c=Object(n.useState)(t.country?t.country:""),o=Object(i.a)(c,2),r=o[0],s=o[1],l=Object(n.useState)(t.gender?t.gender:""),u=Object(i.a)(l,2),d=u[0],j=u[1],b=Object(n.useState)(t.nacimiento?t.nacimiento.split("T")[0]:""),h=Object(i.a)(b,2),O=h[0],f=h[1],g=Object(n.useState)({firstName:t.firstName?t.firstName:"",lastName:t.lastName?t.lastName:""}),m=Object(i.a)(g,2),x=m[0],v=x.firstName,y=x.lastName,S=m[1];return Object(k.jsx)("div",{className:"contact-details",children:Object(k.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n={country:r,gender:d,dateBirth:O,firstName:v,lastName:y,email:t.email};fetch("".concat("https://financeapp-v1.herokuapp.com","/api/v1/users/complete"),{headers:{"Content-Type":"application/json"},body:JSON.stringify(n),method:"POST"}).then((function(e){return console.log(e),e})).then((function(e){return e.json()})).then((function(e){var t=e.fieldsToUpdate;a({type:"ADD_USER_INFO",payload:t})})).catch((function(e){throw new Error(e)}))},className:"form",children:[Object(k.jsx)(Bt,{firstName:v,lastName:y,setNames:S}),Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(k.jsx)(Ft,{dateBirth:O,setDateBirth:f}),Object(k.jsx)(Dt,{gender:d,setGender:j})]}),Object(k.jsx)(_t,{country:r,setCountry:s}),Object(k.jsx)(p.a,{type:"submit",variant:"contained",color:"primary",children:"submit"})]})})}),_t=function(e){var t=e.country,a=e.setCountry,c=Object(n.useState)(!1),o=Object(i.a)(c,2),r=o[0],s=o[1];return Object(k.jsxs)(Nt.a,{style:{width:"100%"},children:[Object(k.jsx)(It.a,{id:"select-country",children:"Country"}),Object(k.jsxs)(Rt.a,{labelId:"select-country",open:r,onClose:function(){s(!1)},onOpen:function(){s(!0)},value:t,onChange:function(e){a(e.target.value)},children:[Object(k.jsx)(At.a,{value:""}),vt.map((function(e){return Object(k.jsx)(At.a,{value:e,children:e})}))]})]})},Dt=function(e){var t=e.gender,a=e.setGender;return Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)(Mt,{children:"gender:"}),Object(k.jsx)(p.a,{variant:"female"===t?"contained":"outlined",color:"secondary",onClick:function(){a("female")},children:Object(k.jsx)(Pt.a,{style:{fontSize:"20px"}})}),Object(k.jsx)(p.a,{variant:"male"===t?"contained":"outlined",color:"primary",onClick:function(){a("male")},children:Object(k.jsx)(Pt.b,{style:{fontSize:"20px"}})})]})},Ft=function(e){var t=e.setDateBirth,a=e.dateBirth,c=Object(n.useState)(!1),o=Object(i.a)(c,2),r=o[0],s=o[1];return Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)(Mt,{focused:r,children:"Birthdate"}),Object(k.jsx)(re.a,{type:"date",defaultValue:a,onChange:function(e){t(e.target.value)},InputLabelProps:{shrink:!0},onFocus:function(){s(!0)},onBlur:function(){s(!1)}})]})},Mt=me.a.label((function(e){return{display:"block",color:e.focused?"#3f51b5":"unset"}})),Bt=(me.a.div({}),function(e){var t=e.firstName,a=e.lastName,c=e.setNames,o=Object(n.useState)(""),r=Object(i.a)(o,2),l=r[0],d=r[1],j=function(e){d(e.target.name)},b=function(e){var t=e.target,a=t.name,n=t.value;c((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(u.a)({},a,n))}))};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)(Mt,{htmlFor:"firstName",focused:"firstName"===l,children:"First name"}),Object(k.jsx)(re.a,{id:"firstName",type:"text",value:t,name:"firstName",variant:"outlined",onFocus:j,onChange:b,size:"small"})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)(Mt,{htmlFor:"lastName",focused:"lastName"===l,children:"Last name"}),Object(k.jsx)(re.a,{id:"lastName",type:"text",value:a,name:"lastName",variant:"outlined",onFocus:j,onChange:b,size:"small"})]})]})}),Wt=function(){Kt("populate");return Object(k.jsxs)("div",{children:[Object(k.jsx)(Et,{}),Object(k.jsx)(Lt,{})]})},Kt=function(e){var t=q().userState,a=Object(n.useState)({data:"",loading:!0,error:null}),c=Object(i.a)(a,2),o=c[0],r=o.data,l=o.loading,u=o.error,d=c[1];return Object(n.useEffect)((function(){fetch("".concat("https://financeapp-v1.herokuapp.com","/api/v1/users/").concat(e),{headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.info.email}),method:"POST"}).then((function(t){return"image"===e?t.blob():t.json()})).then((function(e){d((function(t){return Object(s.a)(Object(s.a)({},t),{},{loading:!1,data:e})}))})).catch((function(e){d((function(t){return Object(s.a)(Object(s.a)({},t),{},{loading:!1,error:e.message})}))}))}),[]),{data:r,loading:l,error:u}},Ut=function(e){var t=e.children;return q().userState.isAuthenticated?Object(k.jsx)(k.Fragment,{children:t}):Object(k.jsx)(d.a,{to:{pathname:"/pruebaLogin"}})},Gt=a(390),Ht=a.n(Gt),qt=document.getElementById("portal"),zt=(me.a.div({width:"100%",height:"100%",background:"grey"}),function(){console.log(qt,"conteine");var e=q().userState;console.log(e,"q putopasa");var t=e.info,a=Object(n.useState)(""),c=Object(i.a)(a,2),o=c[0],r=c[1],s=function(){r("")},l=Object(n.useState)(!1),u=Object(i.a)(l,2),d=u[0],j=u[1];return t.imageUrl||t.username?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"profile-sidebar",children:[Object(k.jsx)("div",{className:"section-image",onClick:function(){r("image")},children:t.imageUrl?Object(k.jsxs)(k.Fragment,{children:[t.imageUrl&&Object(k.jsx)("img",{src:t.imageUrl,onLoad:function(){var e=setTimeout((function(){j(!0),clearTimeout(e)}),500)},style:d?{display:"inline"}:{display:"none"}}),t.imageUrl&&!d&&Object(k.jsx)(yt.a,{variant:"rect",height:"100%",children:Object(k.jsx)("img",{src:t.imageUrl})})]}):Object(k.jsxs)(n.Fragment,{children:[Object(k.jsx)("p",{children:"Add photo"}),Object(k.jsx)(g.a,{children:Object(k.jsx)(Ht.a,{})})]})}),Object(k.jsx)("div",{className:"section-text",onClick:function(){r("text")},children:t?Object(k.jsx)(Jt,{info:t}):Object(k.jsx)(yt.a,{variant:"rect",height:"100%",style:{display:"inline-block",minWidth:"65%"},children:Object(k.jsx)(Jt,{info:{username:"benitocam"}})})})]}),Object(k.jsx)(Yt,{title:"Update profile Picture",open:o,handleClose:s}),Object(k.jsx)(Qt,{open:o,handleClose:s,info:t,title:"Update profile information"})]}):Object(k.jsx)("div",{className:"profile-sidebar"})}),Jt=function(e){var t=e.info;return t.firstName?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h3",{children:t.firstName}),t.lastName&&Object(k.jsx)("p",{children:t.lastName}),Object(k.jsx)(p.a,{children:"edit profile"})]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h3",{children:t.username}),Object(k.jsx)(p.a,{children:"edit profile"})]})},Vt=c.a.forwardRef((function(e,t){return Object(k.jsx)(Oe.a,Object(s.a)({ref:t},e))})),Yt=function(e){var t=e.handleClose,a=e.open,n=e.title;return r.a.createPortal(Object(k.jsxs)(X.a,{open:"image"===a,onClose:t,TransitionComponent:Vt,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(k.jsx)($.a,{children:n}),Object(k.jsx)(te.a,{children:Object(k.jsx)(Et,{})}),Object(k.jsxs)(ee.a,{children:[Object(k.jsx)(p.a,{onClick:t,variant:"contained",color:"primary",children:"Close"}),Object(k.jsx)(p.a,{onClick:t,variant:"contained",color:"secondary",children:"Cancel"})]})]}),qt)},Qt=function(e){var t=e.handleClose,a=e.open,n=e.info,c=e.title;return r.a.createPortal(Object(k.jsxs)(X.a,{open:"text"===a,onClose:t,TransitionComponent:Vt,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(k.jsx)($.a,{style:{background:"#3f51b5",color:"white",marginBottom:"10px"},children:c}),Object(k.jsx)(te.a,{children:Object(k.jsx)(Lt,{userInfo:n})}),Object(k.jsx)(ee.a,{children:Object(k.jsx)(p.a,{onClick:t,variant:"contained",color:"secondary",children:"Close"})})]}),qt)},Zt=a(394),Xt=a.n(Zt),$t=a(393),ea=a.n($t),ta=Object(j.a)((function(e){var t;return{drawer:{flexShrink:0,whiteSpace:"nowrap",position:"static"},drawerOpen:{width:function(e){return e.drawerWidth},transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflowX:"hidden"},drawerClose:(t={transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},Object(u.a)(t,e.breakpoints.down("sm"),{width:0}),Object(u.a)(t,e.breakpoints.up("sm"),{width:function(t){return t.info.isAuthenticated?"auto ":e.spacing(9)+1}}),t),toolbar:{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1),height:"100px",flexShrink:0},listItemText:{width:"100%",overflow:"hidden"},textSpan:{display:"block",whiteSpace:"nowrap",width:"100%",textOverflow:"ellipsis",overflow:"hidden"}}})),aa=function(){var e,t,a=Object(d.g)(),o=Object(Ee.a)(),r=Object(Z.a)(),s=P().viewport,l=A(),j=l.sidebarOpen,b=l.setSidebarOpen,p=l.drawerWidth,h=N().state,O=q().userState,m=O.isAuthenticated,x=O.info,y=ta({viewport:s,drawerWidth:p,info:x}),S=Object(n.useState)(!1),C=Object(i.a)(S,2),T=(C[0],C[1],c.a.useState([])),E=Object(i.a)(T,2),w=E[0],I=E[1],R=c.a.useState(""),L=Object(i.a)(R,2),_=L[0],D=L[1],F=function(){I([]),b(!1)};return Object(n.useEffect)((function(){m&&b(!0)}),[m]),console.log(o,"localizacioone"),Object(k.jsxs)(Ze.a,{variant:s>600?"permanent":"temporary",className:Object(v.a)(y.drawer,(e={},Object(u.a)(e,y.drawerOpen,j),Object(u.a)(e,y.drawerClose,!j),e)),classes:{paper:Object(v.a)((t={},Object(u.a)(t,y.drawerOpen,j),Object(u.a)(t,y.drawerClose,!j),t))},open:j,onClose:F,children:[Object(k.jsx)("div",{className:y.toolbar,children:!m&&Object(k.jsx)(g.a,{onClick:F,children:"rtl"===r.direction?Object(k.jsx)(tt.a,{}):Object(k.jsx)($e.a,{})})}),m&&x.username&&Object(k.jsx)(zt,{}),Object(k.jsx)(ie.a,{}),Object(k.jsxs)(ot.a,{style:{margin:"1rem 0"},defaultEndIcon:Object(k.jsx)("div",{style:{width:24}}),expanded:w,selected:_,onMouseEnter:!m&&function(){b(!0)},onMouseLeave:!m&&F,onNodeToggle:function(e,t){I(t)},onNodeSelect:function(e,t){D(t)},children:[m&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(st,{nodeId:"20",labelText:"portfolio",labelIcon:ea.a,isTitle:!0,ariaLabel:"portfolio",onLabelClick:function(){a.push("/portfolio")}}),Object(k.jsx)(st,{nodeId:"21",labelText:"Operation History",labelIcon:Xt.a,isTitle:!0,ariaLabel:"Operation History",onLabelClick:function(){a.push("/operations")}}),Object(k.jsx)(ie.a,{})]}),Object(k.jsx)(st,{nodeId:"22",labelText:"Home",labelIcon:Ue.a,isTitle:!0,ariaLabel:"Home",onLabelClick:function(){a.push("/")}}),Object(k.jsx)(st,{nodeId:"23",labelText:"Feed",labelIcon:Ue.a,isTitle:!0,ariaLabel:"Feed",onLabelClick:function(){a.push("/feed")}}),Object(k.jsx)(st,{nodeId:"15",labelText:"People",labelIcon:Ue.a,isTitle:!0,ariaLabel:"People",onLabelClick:function(){a.push("/people")}}),Object(k.jsxs)(st,{nodeId:"1",labelText:"Indexes",labelIcon:ct.a,isTitle:!0,children:[Object(k.jsx)(st,{nodeId:"2",labelText:"S&P 500",labelIcon:pt.a,labelInfo:"90",color:"#1a73e8",bgColor:"#e8f0fe",onLabelClick:function(){a.push("/indexes/sp500")}}),Object(k.jsx)(st,{nodeId:"3",labelText:"NASDAQ",labelIcon:Ot.a,labelInfo:"2,294",color:"#e3742f",bgColor:"#fcefe3",onLabelClick:function(){a.push("/indexes/nasdaq")}}),Object(k.jsx)(st,{nodeId:"4",labelText:"Major INDEXES",labelIcon:gt.a,labelInfo:"3,566",color:"#a250f5",bgColor:"#f3e8fd",onLabelClick:function(){a.push("/indexes/general")}})]}),Object(k.jsxs)(st,{nodeId:"8",labelText:"News",labelIcon:jt.a,isTitle:!0,children:[Object(k.jsx)(st,{nodeId:"9",labelText:"General",labelIcon:pt.a,labelInfo:"90",color:"#1a73e8",bgColor:"#e8f0fe",onLabelClick:function(){a.push("/news/general")}}),Object(k.jsx)(st,{nodeId:"10",labelText:"Forex",labelIcon:Ot.a,labelInfo:"2,294",color:"#e3742f",bgColor:"#fcefe3",onLabelClick:function(){a.push("/news/forex")}}),Object(k.jsx)(st,{nodeId:"11",labelText:"Crypto",labelIcon:gt.a,labelInfo:"3,566",color:"#a250f5",bgColor:"#f3e8fd",onLabelClick:function(){a.push("/news/crypto")}}),Object(k.jsx)(st,{nodeId:"12",labelText:"Merger",labelIcon:xt.a,labelInfo:"733",color:"#3c8039",bgColor:"#e6f4ea",onLabelClick:function(){a.push("/news/merger")}})]}),Object(k.jsx)(st,{nodeId:"14",labelText:"Covid-19",labelIcon:ut.a,isTitle:!0,onClick:function(e){a.push("/covid19")}})]}),Object(k.jsx)(ie.a,{}),Object(k.jsx)(ae.a,{children:h.visitedCompanies.length>0&&h.visitedCompanies.map((function(e,t){return Object(k.jsxs)(ne.a,{button:!0,children:[Object(k.jsx)(at.a,{children:Object(k.jsx)(f.a,{children:e.ticker})}),Object(k.jsx)(ce.a,{primary:e.name,classes:{root:y.listItemText,primary:y.textSpan}})]},e.ticker)}))})]})},na=a(395),ca=a.n(na),oa=(a(501),a(40)),ra=a.n(oa),ia=a(27),sa=a.n(ia),la=function(e){var t=e.datos,a=e.ticker,c=N(),o=(c.state,c.dispatch,Object(n.useState)("")),r=Object(i.a)(o,2),s=r[0],l=r[1];Object(n.useEffect)((function(){if(t.length>0){var e=u(t);console.log(e,"shortdatos"),l(e)}}),[t]),console.log(s,"dataaau");var u=function(e){var t=e.length-365;return console.log(t,"sobras"),t<=0?e:e.slice(e.length-365,e.length)},d={chart:{margin:[0,0,0,0],height:"100%",spacing:[0,0,0,0],borderWidth:0,crisp:!1,type:"areaspline",animation:!1},title:{text:a},series:[{name:a,data:s,color:{linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,"#FF0080"],[1,"#FFFFFF"]]}}],xAxis:{crosshair:!1,lineWidth:0,gridLineWidth:0,lineColor:"transparent",minorTickLength:0,tickLength:0,labels:{enabled:!1},minPadding:0,maxPadding:0},yAxis:{min:0,title:{text:""},lineWidth:0,gridLineWidth:0,lineColor:"transparent",minorTickLength:0,tickLength:0,labels:{enabled:!1},minPadding:0,maxPadding:0},tooltip:{enabled:!1},credits:{enabled:!1},legend:{enabled:!1},plotOptions:{column:{pointPadding:.2,borderWidth:0},series:{animation:!1,marker:{enabled:!1,states:{hover:{enabled:!1}}}}}};return Object(k.jsx)(k.Fragment,{children:s&&Object(k.jsx)(sa.a,{highcharts:ra.a,constructorType:"chart",options:d,containerProps:{style:{overflow:"hidden"}}})})},ua=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1];Object(n.useRef)(null);Object(n.useEffect)((function(){fetch("".concat("https://financeapp-v1.herokuapp.com","/api/v1/recurringTasks/direct_json?field=gainers_losers")).then((function(e){return e.json()})).then((function(e){console.log(e,"respaaa");var t=JSON.parse(e.alldata).map((function(e){return console.log(e,"itom"),e.prices=e.prices.map((function(e){return e.adjClose})),e}));console.log(t,"respaaa2"),c(t.slice(1,7))})).catch((function(e){console.log(e)}))}),[]),console.log(a,"la duuuura");var o=a&&a.map((function(e){return Object(k.jsx)("div",{className:"spacer",children:Object(k.jsxs)("div",{className:"gl-wrapper",children:[Object(k.jsxs)("div",{className:"info",children:[Object(k.jsx)("h6",{children:e.companyName}),Object(k.jsx)("p",{children:e.changes}),Object(k.jsx)("p",{children:e.price})]}),Object(k.jsx)("div",{className:"chart",children:Object(k.jsx)(la,{ticker:e.ticker,datos:e.prices})})]})})}));return Object(k.jsx)(k.Fragment,{children:a&&Object(k.jsx)(ca.a,{animationDuration:800,disableDotsControls:!0,infinite:!0,items:o,autoWidth:!0})})},da=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=N(),o=c.state,r=c.dispatch,l=Object(n.useState)({data:[],loading:!1,error:""}),u=Object(i.a)(l,2),d=u[0],j=d.data,b=d.loading,p=d.error,h=u[1];Object(n.useEffect)((function(){e&&function(){var e=Object(Y.a)(V.a.mark((function e(n){var c,o,i;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=O(t),console.log(f(t),t,"esta o no"),c){e.next=22;break}return e.prev=3,h((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!0})})),console.log(n,"fetch start"),e.next=8,fetch(n);case 8:return o=e.sent,e.next=11,o.json();case 11:i=e.sent,console.log(i,"fooooooooo"),console.log(n,"fetch finished"),h((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!1,data:a?i.data:i})})),console.log(a,"sevidor propi"),r({type:"STORE_GENERAL_DATA",payload:{field:t,value:a?i.data:i}}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(3),h((function(t){return Object(s.a)(Object(s.a)({},t),{},{loading:!1,error:e.t0.message})}));case 22:case"end":return e.stop()}}),e,null,[[3,19]])})));return function(t){return e.apply(this,arguments)}}()(e)}),[]);var O=function(e){return!!o.generalData[e]&&(h((function(t){return Object(s.a)(Object(s.a)({},t),{},{loading:!1,data:o.generalData[e]})})),!0)},f=function(e){return!!localStorage.getItem(e)&&(h((function(t){return Object(s.a)(Object(s.a)({},t),{},{loading:!1,data:JSON.parse(localStorage.getItem(e))})})),!0)};return{data:j,loading:b,error:p}},ja=function(e){var t=e.classnames,a=da("https://financialmodelingprep.com/api/v3/sectors-performance?apikey=651d720ba0c42b094186aa9906e307b4","sectors"),n=a.data,c=a.loading,o=a.error;return Object(k.jsx)("div",{className:t,children:Object(k.jsxs)(ae.a,{children:[c&&Object(k.jsx)("p",{children:"loading..."}),o&&Object(k.jsx)("p",{children:o}),n.length>0&&n.map((function(e){return Object(k.jsxs)(ne.a,{children:[Object(k.jsx)(ce.a,{children:e.sector}),Object(k.jsx)(ce.a,{style:{textAlign:"right"},children:e.changesPercentage})]},e.sector)}))]})})},ba=a(396),pa=/^-/g,ha=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],o=A().tickerMove;return Object(n.useEffect)((function(){fetch("".concat("https://financeapp-v1.herokuapp.com","/api/v1/recurringTasks/direct_json?field=topactives")).then((function(e){return e.json()})).then((function(e){c(JSON.parse(e.alldata))})).catch((function(e){console.log(e)}))}),[]),console.log("reeerendeeel"),Object(k.jsx)("div",{className:"ticker",children:a&&Object(k.jsx)(ba.a,{move:o,children:function(e){e.index;return Object(k.jsx)(k.Fragment,{children:a.map((function(e){return Object(k.jsxs)("span",{style:{marginRight:"15px",whiteSpace:"nowrap"},children:[e.ticker," ",e.price,Object(k.jsxs)("span",{style:pa.test(e.changes)?{color:"red"}:{color:"green"},children:[e.changes," ",e.changesPercentage]})]},e.ticker)}))})}})})},Oa=function(e){var t=e.setSelection,a=Object(n.useState)(!1),c=Object(i.a)(a,2),o=c[0],r=c[1],l=A(),u=l.setShowOverlay,d=l.setTickerMove,j=Object(n.useState)({data:[],loading:!1,error:""}),b=Object(i.a)(j,2),p=b[0],h=p.data,O=p.loading,f=(p.error,b[1]),g=function(){var e=Object(Y.a)(V.a.mark((function e(t){var a,n,c,o;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!0})})),e.next=4,fetch("".concat("https://financeapp-v1.herokuapp.com","/api/v1/recurringTasks/search/").concat(t));case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,c=n.data,o=c.filter((function(e){return"Stock"===e.assetType})),f((function(e){return Object(s.a)(Object(s.a)({},e),{},{data:o,loading:!1})})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),f((function(t){return Object(s.a)(Object(s.a)({},t),{},{loading:!1,error:e.t0.message})}));case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),m=Object(n.useState)(""),x=Object(i.a)(m,2),y=x[0],S=x[1],C=Object(n.useState)(!1),T=Object(i.a)(C,2),E=T[0],w=T[1],N=Object(n.useState)(!1),I=Object(i.a)(N,2),R=I[0],P=I[1],L=Object(n.useState)(!0),_=Object(i.a)(L,2),D=_[0],F=_[1];Object(n.useEffect)((function(){if(h.length>0)G(B.current.offsetHeight),d(!1);else{if(R)return;E&&(u(!1),G(0))}}),[h]),Object(n.useEffect)((function(){y&&(u(!0),w(!0),g(y))}),[y]);var B=Object(n.useRef)(null),W=Object(n.useState)(0),K=Object(i.a)(W,2),U=K[0],G=K[1],H={opacity:0,transition:"all 0.25s ease"},q={entering:{opacity:1},entered:{opacity:1},exiting:{opacity:0},exited:{opacity:0}};console.log(U,"hiiight");return Object(n.useEffect)((function(){console.log(R,"selec")})),Object(k.jsxs)("div",{style:{height:O&&0===h.length?"150px":U>0?U+40+"px":"50px"},className:Object(v.a)("searcher4",{open:E}),onTransitionEnd:function(){r(!0)},children:[Object(k.jsx)("input",{type:"text",value:y,onChange:function(e){S(e.target.value)},onBlur:function(e){console.log("bblurrring"),r(!1),!R&&(console.log("bblurrring ejecutao"),u(!1),w(!1),G(0),d(!0),f((function(e){return Object(s.a)(Object(s.a)({},e),{},{data:[]})})))}}),Object(k.jsx)(M.a,{in:h.length>0&&!O,timeout:300,onEntered:function(){F(!1)},onExited:function(){F(!0)},children:function(e){return Object(k.jsx)(ae.a,{className:"lista-search",style:Object(s.a)(Object(s.a)({},H),q[e]),ref:B,children:h.length>0&&h.map((function(e,a){return Object(k.jsxs)(k.Fragment,{children:[a>0&&Object(k.jsx)(ie.a,{}),Object(k.jsx)(ce.a,{style:{cursor:"pointer"},onClick:function(){console.log("estas clickando"),u(!1),t(e)},onMouseOver:function(){P(!0)},onMouseOut:function(){P(!1)},children:e.name},e.ticker)]})}))})}}),Object(k.jsx)(M.a,{in:O&&D&&o,mountOnEnter:!0,unmountOnExit:!0,children:function(e){return Object(k.jsx)(je,{adaptable:!0,animState:e})}})]})},fa={marginTop:0,marginBottom:"10px"},ga=function(e){var t=e.setSelection,a=A().mountApproval;return console.log("rerendel"),Object(k.jsx)(k.Fragment,{children:a&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(ha,{}),Object(k.jsx)("div",{style:{marginBottom:"200px"},children:Object(k.jsx)(ua,{})}),Object(k.jsx)(Oa,{setSelection:t}),Object(k.jsxs)("div",{className:"p-grid",children:[Object(k.jsx)("div",{className:"p-left radius",children:Object(k.jsx)("h3",{style:fa,children:"destacated News"})}),Object(k.jsxs)("div",{className:"p-right-top radius",children:[Object(k.jsx)("h3",{style:fa,children:"Sector Performance"}),Object(k.jsx)(ja,{classnames:"principal-section"})]})]})]})})},ma=function(e,t,a,c){var o=N(),r=o.state,l=o.dispatch,u=Object(n.useState)({datos:"",loading:!1,error:""}),d=Object(i.a)(u,2),j=d[0],b=j.datos,p=j.loading,h=j.error,O=d[1];Object(n.useEffect)((function(){console.log(b,"daaaatooos"),function(){var n=Object(Y.a)(V.a.mark((function n(o){var i,u,d;return V.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log(f(a),"ceeeeeeee"),f(a)){n.next=19;break}return n.prev=2,O((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!0})})),i=c.explicitUrl||null===o?e:"".concat(e,"/").concat(o),n.next=7,fetch(i);case 7:return u=n.sent,n.next=10,u.json();case 10:d=n.sent,l({type:"STORE_DATA",payload:{ticker:t,field:a,value:d}}),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(2),O((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!1,error:n.t0.message})}));case 17:n.next=20;break;case 19:O((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!1,datos:r[a][t]})}));case 20:case"end":return n.stop()}}),n,null,[[2,14]])})));return function(e){return n.apply(this,arguments)}}()(t)}),[t]),Object(n.useEffect)((function(){if(console.log("ahora",r),r[a]&&r[a][t]&&(O((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!1,datos:r[a][t]})})),"prices"!==a))try{localStorage.setItem(a,JSON.stringify(r[a]))}catch(e){console.log(e,"eeeee")}}),[r]);var f=function(e){return console.log(e,"campo"),!!r[e]&&(console.log(e,t,"esta en mayuscula o que"),!!r[e][t])};return{datos:b,loading:p,error:h}},xa=a(766),va=a(849),ya=Object(j.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120,maxWidth:300},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},noLabel:{marginTop:e.spacing(3)}}})),ka={PaperProps:{style:{maxHeight:224,width:250}}},Sa=function(e){var t=e.fields,a=e.setChosenFields,c=e.chosenFields,o=Object(n.useState)(c),r=Object(i.a)(o,2),s=r[0],l=r[1],u=ya(),d=Object(n.useRef)(null),j=Object(Z.a)(),b=Object(n.useState)(!1),p=Object(i.a)(b,2),h=p[0],O=p[1];Object(n.useEffect)((function(){var e=function(e){d.current.contains(e.target)||O(!1)};return window.addEventListener("click",e),function(){window.removeEventListener("click",e)}})),Object(n.useEffect)((function(){a(s)}),[s]);return Object(k.jsxs)(Nt.a,{className:u.formControl,ref:d,children:[Object(k.jsx)(It.a,{id:"demo-mutiple-chip-label",children:"Chip"}),Object(k.jsx)(Rt.a,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",open:h,onClick:function(e){!h&&O(!0)},multiple:!0,value:s,onChange:function(e){l(e.target.value)},input:Object(k.jsx)(xa.a,{id:"select-multiple-chip"}),renderValue:function(e){return Object(k.jsx)("div",{className:u.chips,children:e.map((function(e){return Object(k.jsx)(va.a,{label:e,className:u.chip,clickable:!0,onDelete:function(){var t;t=e,l((function(e){return e.filter((function(e){return e!==t}))}))}},e)}))})},MenuProps:ka,children:Object.keys(t).map((function(e){return Object(k.jsx)(At.a,{value:e,style:Ca(e,t,j),children:e},e)}))})]})};function Ca(e,t,a){return{fontWeight:-1===Object.keys(t).indexOf(e)?a.typography.fontWeightRegular:a.typography.fontWeightMedium}}var Ta=function(){var e=N().dispatch,t=Object(d.i)();Object(n.useEffect)((function(){var a=t.company;e({type:"SET_COMPANY",payload:{ticker:a}})}),[])},Ea=function(){Ta();var e=N().state.currentCompany.ticker,t="https://financialmodelingprep.com/api/v3/key-metrics/".concat(e.toUpperCase(),"?apikey=651d720ba0c42b094186aa9906e307b4"),a=Object(n.useState)({}),c=Object(i.a)(a,2),o=c[0],r=c[1],s=Object(n.useState)(["tangibleBookValuePerShare","shareholdersEquityPerShare","interestDebtPerShare"]),l=Object(i.a)(s,2),u=l[0],d=l[1],j=ma(t,e,"metricsHistorical",{explicitUrl:!0}),b=j.datos,p=j.loading,h=j.error;Object(n.useEffect)((function(){fetch("https://financialmodelingprep.com/api/v3/key-metrics/AMZN?apikey=651d720ba0c42b094186aa9906e307b4").then((function(e){return e.json()})).then((function(e){console.log(e,"resa")})).catch((function(e){console.log(e,"puto error")}))}),[]);Object(n.useEffect)((function(){if(console.log("momop",b,b.length),b.length>0){console.log("momo");var e=function(e){var t={};return Object.keys(e[0]).forEach((function(e){t[e]=[]})),e.forEach((function(e){Object.keys(e).forEach((function(a){t[a]=[].concat(Object(y.a)(t[a]),[e[a]])}))})),console.log(t,"master"),t}(b);r(e)}}),[b]),console.log(b,"mammmmma");var O={chart:{type:"spline"},title:{text:"Solar Employment Growth by Sector, 2010-2016"},xAxis:{allowDecimals:!1},legend:{layout:"vertical",align:"center",verticalAlign:"bottom"},height:500,plotOptions:{series:{label:{connectorAllowed:!1},pointStart:2014}},series:Object.keys(o).length>0&&u.map((function(e){return console.log(o,"dooota"),{name:e,data:o[e]}})),responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{layout:"vertical",align:"center",verticalAlign:"bottom"}}}]}};return Object(k.jsxs)("div",{children:[p&&Object(k.jsx)("p",{children:"laoding..."}),h&&Object(k.jsx)("p",{children:h}),Object.keys(o).length>0&&Object(k.jsxs)("div",{style:{display:"flex",marginTop:"100px",height:"550px",justifyContent:"flexEnd"},children:[Object(k.jsx)(sa.a,{highcharts:ra.a,options:O,containerProps:{style:{flex:1}}}),Object(k.jsx)(Sa,{fields:o,setChosenFields:d,chosenFields:u})]})]})},wa=a(189),Na=a(397),Ia=a.n(Na),Ra=a(251),Aa=function(e){var t=e.data,a=e.mode;console.log(Ra,"puta higcharts");var c=A().sidebarOpen,o=Object(n.useRef)(null);Object(n.useEffect)((function(){console.log("ahoora"),o.current&&Object.keys(o.current).length>0&&setTimeout((function(){o.current.reflow()}),600)}),[c]);var r={chart:{events:{load:function(){o.current=this}}},title:{text:""},colorAxis:{min:0},mapNavigation:{enabled:!0,enableDoubleClickZoomTo:!0},plotOptions:{animation:!0},series:[{mapData:Ra,data:t,name:"absolute"===a?"Total cases":"Cases/100k habs",dataLabels:{enabled:!0,format:"{point.properties.postal-code}"}}]};return Object(k.jsx)("div",{style:{display:"grid",height:window.innerHeight},children:t.length>0?Object(k.jsx)(sa.a,{highcharts:Ia.a,options:r,constructorType:"mapChart"}):Object(k.jsx)(yt.a,{variant:"rect",animation:"wave",height:"100%",width:"100%"})})},Pa=a(197);var La=a(850),_a=a(851),Da=a(771),Fa=a(847),Ma=Object(j.a)({root:{display:"flex",height:"100%"},slider:{margin:"0 1.5rem"},valueLabel:{transform:"scale(1)",top:0,left:"1.5rem"}}),Ba=function(e){var t=e.setDate,a=e.setMode,c=Object(n.useState)(25),o=Object(i.a)(c,2),r=o[0],s=o[1],l=Object(n.useState)(2),u=Object(i.a)(l,2),d=u[0],j=u[1],b=Object(n.useState)(2020),p=Object(i.a)(b,2),h=p[0],O=p[1],f=Object(n.useRef)(2020),g=Object(n.useRef)(null),m=Object(n.useState)("relative"),x=Object(i.a)(m,2),v=x[0],y=x[1],S=Object(n.useRef)(0),C=function e(t){S.current++,console.log(S.current);try{Array.from(t.children).forEach((function(t){t.classList.contains("MuiSlider-valueLabel")||(1===S.current?t.style.transform="rotate(45deg)":2===S.current&&(t.style.transform="rotate(-45deg)")),e(t)}))}catch(a){console.log("child without descendants, lets")}};Object(n.useEffect)((function(){g.current&&Array.from(g.current.children).forEach((function(e){e.classList.contains("MuiSlider-thumb")&&Array.from(e.children).forEach((function(e){C(e)}))}))}),[g]),Object(n.useEffect)((function(){v&&a(v)}),[v]);Object(n.useEffect)((function(){h===f.current?t(function(e,t,a){var n=t.toString().length<2?"0".concat(t.toString()):t.toString(),c=e.toString().length<2?"0".concat(e.toString()):e.toString();return"".concat(a,"-").concat(c,"-").concat(n)}(d,r,h)):(s(1),j(1)),f.current=h}),[d,r,h]);var T=Ma();return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"dates",children:[Object(k.jsx)(La.a,{ref:g,orientation:"vertical",value:r,min:1,max:Ka[d-1].days,onChange:function(e,t){e.preventDefault(),s(t)},valueLabelDisplay:"on",defaultValue:30,"aria-labelledby":"vertical-slider",marks:!0,classes:{root:T.slider,valueLabel:T.valueLabel}}),Object(k.jsx)(La.a,{orientation:"vertical",min:1,max:12,value:d,marks:Ka,onChange:function(e,t){e.stopPropagation(),j(t)},valueLabelDisplay:"off",defaultValue:30,"aria-labelledby":"vertical-slider",classes:{root:T.slider}}),Object(k.jsx)(La.a,{style:{height:"50%"},orientation:"vertical",min:2020,max:2021,value:h,marks:Wa,onChange:function(e,t){e.stopPropagation(),O(t)},valueLabelDisplay:"off",defaultValue:30,"aria-labelledby":"vertical-slider",classes:{root:T.slider}})]}),Object(k.jsxs)(_a.a,{"aria-label":"gender",name:"gender1",value:v,onChange:function(e){y(e.target.value)},style:{flexDirection:"row"},children:[Object(k.jsx)(Da.a,{value:"absolute",control:Object(k.jsx)(Fa.a,{}),label:"absolute"}),Object(k.jsx)(Da.a,{value:"relative",control:Object(k.jsx)(Fa.a,{}),label:"relative"})]})]})},Wa=[{label:2020,value:2020},{label:2021,value:2021}],Ka=[{name:"January",label:"Jan",value:1,days:31},{name:"February",label:"Feb",value:2,days:28},{name:"March",label:"Mar",value:3,days:31},{name:"April",label:"Apr",value:4,days:30},{name:"May",label:"May",value:5,days:31},{name:"June",label:"Jun",value:6,days:30},{name:"July",label:"Jul",value:7,days:31},{name:"August",label:"Aug",value:8,days:31},{name:"September",label:"Sep",value:9,days:30},{name:"October",label:"Oct",value:10,days:31},{name:"November",label:"Nov",value:11,days:30},{name:"December",label:"Dec",value:12,days:31}],Ua=function(){var e=Object(n.useState)({datosHuge:[],loadingHuge:!1,errorHuge:""}),t=Object(i.a)(e,2),a=t[0],c=a.datosHuge,o=a.loadingHuge,r=a.errorHuge,l=t[1],u=["Burma","Diamond Princess","Eswatini","MS Zaandam","East Timor","West Bank and Gaza","Kosovo","Jersey"],d=Object(n.useState)("2020-10-15"),j=Object(i.a)(d,2),b=j[0],p=j[1],h=Object(n.useState)("relative"),O=Object(i.a)(h,2),f=O[0],g=O[1],m=Object(n.useRef)([]),x=Object(n.useRef)(null),v=Object(n.useRef)(""),S=(Object(n.useRef)(null),da("".concat("https://financeapp-v1.herokuapp.com","/api/v1/recurringTasks/other/countriesPopulation"),"population_by_country")),C=function(e){var t,a,n=Object(wa.a)(S.data);try{for(n.s();!(a=n.n()).done;){var c=a.value;c.country.toLowerCase()===e.toLowerCase()&&(t=c)}}catch(o){n.e(o)}finally{n.f()}return t?parseInt(t.population):(m.current=[].concat(Object(y.a)(m.current),[{country:e,countrypop:t}]),0)};return Object(n.useEffect)((function(){console.log(b,"feeecha");var e=function(){var e=Object(Y.a)(V.a.mark((function e(){var t,a,n,c;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l((function(e){return Object(s.a)(Object(s.a)({},e),{},{loadingHuge:!0,errorHuge:""})})),x.current=new AbortController,e.next=5,fetch("https://api.covid19tracking.narrativa.com/api/".concat(b),{signal:x.current.signal});case 5:return t=e.sent,e.next=8,t.json();case 8:a=e.sent,console.log(a,"datota"),n=[],Object.keys(a.dates[b].countries).forEach((function(e){if(console.log(e),!u.includes(e)){var t=a.dates[b].countries;C(e);void 0!==Pa[e]&&(console.log(Pa[e],e,"que cujuno"),n=[].concat(Object(y.a)(n),[[Pa[e].code.toLowerCase(),t[e].today_confirmed,C(e),e]]))}})),console.log(JSON.parse(JSON.stringify(n)),"111joderrrr"),c="absolute"===f?n.map((function(e){return e.slice(0,2)})):n.map((function(e){return e[2]>0?(e[1]=Math.round(e[1]/e[2]*1e5),e):null})).filter((function(e){return null!==e})).map((function(e){return e.slice(0,2)})),console.log(JSON.parse(JSON.stringify(c)),"joderrrr"),console.log(m,"no encontrado"),x.current.signal.aborted||l((function(e){return Object(s.a)(Object(s.a)({},e),{},{loadingHuge:!1,datosHuge:c})})),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),"The user aborted a request."!==e.t0.message&&l((function(e){return Object(s.a)(Object(s.a)({},e),{},{loadingHuge:!1,errorHuge:"".concat(b," not available")})}));case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(){return e.apply(this,arguments)}}();o&&(x.current.abort(),console.log("aborted")),S.data&&S.data.length>0&&e()}),[b,f,S.data]),console.log(c,"data"),console.log(S,"population"),Object(n.useEffect)((function(){v.current&&(console.log(v.current,"curranti"),function(e){var t=0,a=0,n=0,c=0;function o(o){console.log("dragging",e),console.log(o,"eventou"),(o=o||window.event).preventDefault(),t=n-o.clientX,a=c-o.clientY,n=o.clientX,c=o.clientY,e.style.top=e.offsetTop-a+"px",e.style.left=e.offsetLeft-t+"px"}function r(){document.onmouseup=null,document.onmousemove=null}e.onmousedown=function(e){(console.log(e.target,"targat"),console.log(e,"targat"),e.target.querySelector(".dates"))&&((e=e||window.event).preventDefault(),n=e.clientX,c=e.clientY,document.onmouseup=r,document.onmousemove=o)}}(v.current))}),[]),Object(k.jsxs)("div",{style:{position:"relative"},children:[Object(k.jsx)(qa,{error:r}),Object(k.jsx)(Aa,{data:c,mode:f}),Object(k.jsx)("div",{className:"sliders-container",ref:v,children:Object(k.jsx)(Ba,{setDate:p,setMode:g})})]})},Ga={width:"100%",height:"100%",position:"absolute",zIndex:1,transition:"all 0.5s ease",display:"flex",justifyContent:"center",alignItems:"center"},Ha={entering:{opacity:1},entered:{opacity:1},exiting:{opacity:0},exited:{opacity:0}},qa=function(e){var t=e.error;return Object(k.jsx)(M.a,{in:t,timeout:500,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:function(e){return Object(k.jsxs)("div",{style:Object(s.a)(Object(s.a)({},Ga),Ha[e]),children:[Object(k.jsx)("div",{style:{opacity:.6,width:"100%",height:"100%",background:"grey"}}),Object(k.jsx)("div",{style:{position:"absolute"},children:t})]})}})},za=function(e){var t=e.item;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(ie.a,{}),Object(k.jsxs)("div",{className:"news-item",children:[Object(k.jsx)("div",{className:"image-container",children:Object(k.jsx)("img",{src:t.image,alt:t.headline})}),Object(k.jsxs)("div",{className:"content",children:[Object(k.jsx)("p",{className:"news-subtitle",children:t.category}),Object(k.jsx)("h4",{className:"news-title",children:t.headline}),Object(k.jsx)("p",{className:"news-summary",children:t.summary})]})]})]})},Ja=function(e){var t=e.item,a=Object(n.useState)(!1),c=Object(i.a)(a,2);c[0],c[1];return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(ie.a,{}),Object(k.jsxs)("div",{className:"news-item-over fade-img-wrapper",children:[Object(k.jsx)("div",{className:"image-container",children:Object(k.jsx)("img",{src:t.image,alt:t.headline})}),Object(k.jsxs)("div",{className:"content",children:[Object(k.jsx)("p",{className:"news-subtitle",children:t.category}),Object(k.jsx)("h2",{className:"news-title",children:t.headline}),Object(k.jsx)("p",{className:"news-summary",children:t.summary})]})]})]})},Va=function(e){var t=e.chunk;return Object(k.jsxs)("div",{className:"news-grid-parent",children:[Object(k.jsx)(Ja,{item:t[0]}),Object(k.jsx)(Ya,{items:t.slice(1,3)})]})},Ya=function(e){var t=e.items;return console.log(t,"toooo"),Object(k.jsx)("div",{className:"news-layout-small fade-img-wrapper",children:t.length>0&&t.map((function(e){return Object(k.jsx)(Qa,{item:e})}))})},Qa=function(e){var t=e.item;return Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(k.jsx)("div",{style:{backgroundImage:"url(".concat(t.image,")"),height:"50%",backgroundSize:"cover",flex:1}}),Object(k.jsx)("div",{children:Object(k.jsx)("h5",{style:{marginTop:"0.5rem"},children:t.summary})})]})},Za=a(829),Xa=function(e){var t=e.principal,a=void 0!==t&&t,o=(e.title,e.classnames),r=Object(d.i)().category,s=ma("https://finnhub.io/api/v1/news?category=".concat(r,"&token=btm6dp748v6ud360stcg"),r,"news",{explicitUrl:!0}),l=s.datos,u=s.loading,j=s.error,b=Object(n.useState)(""),p=Object(i.a)(b,2),h=p[0],O=p[1],f=Object(n.useState)(4),g=Object(i.a)(f,2),m=g[0],x=g[1],v=Object(n.useRef)(!1),S=P().viewport,C=c.a.useRef(null),T=Object(Za.a)(C,{root:null,rootMargin:"0px",threshold:1});Object(n.useRef)();Object(n.useEffect)((function(){l.length>0&&function(e){var t=[],a=0,n=3;Array(Math.round(e.length/3)).fill(0).forEach((function(){var c=e.slice(a,n);t=[].concat(Object(y.a)(t),[c]),a+=3,n+=3,console.log(n,"xii")})),console.log(t,"xwww"),O(t)}(l)}),[l]);var E,w=Object(n.useState)(!1),N=Object(i.a)(w,2);N[0],N[1];return console.log(T,"intersec"),Object(n.useEffect)((function(){T&&T.intersectionRatio<1.5&&!v.current&&(x((function(e){return e+1})),v.current=!0,E=setTimeout((function(){v.current=!1,clearTimeout(E)}),500))}),[T]),console.log(l.length,"ojones"),Object(k.jsxs)("div",{className:o,children:[l.length>0&&a?Object(k.jsxs)(k.Fragment,{children:[u&&Object(k.jsx)("p",{children:"loading..."}),j&&Object(k.jsx)("p",{children:j}),Object(k.jsxs)(k.Fragment,{children:[" ",S<1e3?l.map((function(e){return Object(k.jsx)(za,{item:e})})):Object(k.jsx)(k.Fragment,{children:h&&h.slice(1,m).map((function(e,t){return Object(k.jsx)(Va,{chunk:e,index:t},t)}))})]})]}):Object(k.jsx)(k.Fragment,{children:l.length>0&&l.map((function(e){return Object(k.jsx)(za,{item:e})}))}),l.length&&Object(k.jsx)("div",{ref:C,style:{height:"20px"}})]})};Xa.defaultProps={title:function(){return null}};var $a=function(e){var t=e.setField,a=e.field,c=e.setRequest,o=e.campo,r=e.ticker,l=Object(n.useState)(!1),u=Object(i.a)(l,2),d=u[0],j=u[1],b=N().state;return Object(n.useEffect)((function(){!function(e){var t=function(e){switch(e){case"BALANCE_SHEET":return"balance";case"INCOME_STATEMENT":return"income";case"CASH_FLOW":return"cashflow";default:return""}}(e);console.log(t,"lookUpField"),o.current=t,b.financials[t][r]?c((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!1,data:b.financials[t][r]})})):(c((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!0,data:""})})),fetch("https://www.alphavantage.co/query?function=".concat(e,"&symbol=").concat(r,"&apikey=btm6dp748v6ud360stcg")).then((function(e){return e.json()})).then((function(e){if(Object.keys(e).length>0)return c((function(t){return Object(s.a)(Object(s.a)({},t),{},{loading:!1,data:e})}));throw new Error("no data")})).catch((function(e){c((function(t){return Object(s.a)(Object(s.a)({},t),{},{loading:!1,error:e.message})}))})))}(a)}),[a]),Object(k.jsx)("nav",{className:"navigation-right",children:Object(k.jsxs)(Nt.a,{children:[Object(k.jsx)(It.a,{id:"demo-controlled-open-select-label",children:"Campo"}),Object(k.jsxs)(Rt.a,{labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",open:d,onClose:function(){j(!1)},onOpen:function(){j(!0)},value:a,onChange:function(e){c((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!0,data:""})})),t(e.target.value)},children:[Object(k.jsx)(At.a,{value:"",children:Object(k.jsx)("em",{children:"None"})}),Object(k.jsx)(At.a,{value:"BALANCE_SHEET",children:"Balance"}),Object(k.jsx)(At.a,{value:"INCOME_STATEMENT",children:"Beneficios"}),Object(k.jsx)(At.a,{value:"CASH_FLOW",children:"Cash Flow"})]})]})})},en=a(834),tn=a(833),an=a(835),nn=a(831),cn=a(830),on=function(e){var t=P().viewport,a=e.medium,c=e.small,o=e.large,r=Object(n.useState)({cellWidth:0,breakpoint:"small"}),s=Object(i.a)(r,2),l=s[0],u=l.cellWidth,d=l.breakpoint,j=s[1];return Object(n.useEffect)((function(){!function(e){e<a.breakpoint?j({cellWidth:c.cellSize,breakpoint:"small"}):e<o.breakpoint?j({cellWidth:a.cellSize,breakpoint:"medium"}):j({cellWidth:o.cellSize,breakpoint:"large"})}(t)}),[t]),{cellWidth:u,breakpoint:d}},rn=a(8),sn=a(832),ln=a(769),un=a(252),dn=a.n(un),jn=a(198),bn=a.n(jn),pn=Object(j.a)((function(e){var t,a;return{root:(t={background:"white",borderRadius:"10px",margin:"0 auto",width:"100%"},Object(u.a)(t,e.breakpoints.up("md"),{width:"1000px"}),Object(u.a)(t,e.breakpoints.up("lg"),{width:"1250px"}),t),tableConatiner:{},iconButton:{padding:0},cell:Object(u.a)({borderBottom:"none"},e.breakpoints.down("sm"),{paddingLeft:0}),sectionTitleCell:Object(u.a)({},e.breakpoints.down("sm"),{paddingLeft:0}),subtitles:(a={},Object(u.a)(a,e.breakpoints.up("md"),{maxWidth:"130px"}),Object(u.a)(a,e.breakpoints.up("lg"),{maxWidth:"none",width:"200px"}),a)}})),hn=Object(rn.a)({root:{transform:"translateX(1.5rem)"}})(cn.a),On=Object(rn.a)({root:{transform:"translateX(3rem)"}})(cn.a),fn=function(e){return L.format(parseInt(e)/1e6).replace(".00","")},gn=function(e){var t=e.title,a=e.data,n=e.lookupKey,c=e.open,o=e.setOpen,r=pn();return console.log(a,"la datona"),Object(k.jsxs)(nn.a,{children:[Object(k.jsx)(cn.a,{style:{padding:"0.5rem",width:"20px",textAlign:"center"},children:Object(k.jsx)(g.a,{classes:{root:r.iconButton},onClick:function(){o((function(e){return!e}))},children:c?Object(k.jsx)(dn.a,{}):Object(k.jsx)(bn.a,{})})}),Object(k.jsx)(cn.a,{classes:{root:r.sectionTitleCell},colSpan:2,children:Object(k.jsx)("p",{children:t})}),a&&a[n]?Object.keys(a[n]).map((function(e){return Object(k.jsx)(cn.a,{align:"right",children:fn(a[n][e])})})):Array(5).fill(null).map((function(e){return Object(k.jsx)(cn.a,{align:"right",children:"-"})}))]})},mn=function(e){var t=e.title,a=e.data,n=e.lookupKey,c=e.hackWidth,o=pn();return console.log(t,a,n,c,"tutututtup"),Object(k.jsxs)(nn.a,{children:[Object(k.jsx)(cn.a,{classes:{root:o.cell},style:{padding:"0.5rem",width:"20px",textAlign:"center"},children:Object(k.jsx)(g.a,{classes:{root:o.iconButton},style:{visibility:"hidden"},children:Object(k.jsx)(bn.a,{})})}),Object(k.jsx)(hn,{classes:{root:o.cell},colSpan:2,children:Object(k.jsx)("p",{className:o.subtitles,children:t})}),a&&a[n]?Object.keys(a[n]).map((function(e){return Object(k.jsx)(cn.a,{align:"right",style:{width:c+"px"},classes:{root:o.cell},children:fn(a[n][e])})})):Array(5).fill(null).map((function(e){return Object(k.jsx)(cn.a,{align:"right",children:"-"})}))]})},xn=function(e){var t=e.title,a=e.data,n=e.lookupKey,c=e.hackWidth,o=pn();return Object(k.jsxs)(nn.a,{children:[Object(k.jsx)(cn.a,{classes:{root:o.cell},children:Object(k.jsx)(g.a,{classes:{root:o.iconButton},style:{visibility:"hidden"},children:Object(k.jsx)(bn.a,{})})}),Object(k.jsx)(On,{classes:{root:o.cell},colSpan:2,children:Object(k.jsx)("p",{className:o.subtitles,children:t})}),a&&a[n]&&Object.keys(a[n]).map((function(e){return Object(k.jsx)(cn.a,{align:"right",classes:{root:o.cell},style:{width:c+"px"},children:fn(a[n][e])})}))]})},vn=function(e){var t=e.children,a=e.renderTitleSection,c=Object(n.useState)(!1),o=Object(i.a)(c,2),r=o[0],s=o[1];return Object(k.jsxs)(sn.a,{children:[a(r,s),Object(k.jsx)(nn.a,{children:Object(k.jsx)(cn.a,{colSpan:8,className:"nested-cell",children:Object(k.jsx)(ln.a,{in:r,mountOnEnter:!0,timeout:"auto",unmountOnExit:!0,children:Object(k.jsx)(tn.a,{children:Object(k.jsx)(sn.a,{children:t})})})})})]})},yn=function(e){var t=e.title,a=e.data,n=e.lookupKey,c=pn();return console.log(c,"kaostia"),Object(k.jsxs)(nn.a,{children:[Object(k.jsx)(cn.a,{children:Object(k.jsx)(g.a,{classes:{root:c.iconButton},style:{visibility:"hidden"},children:Object(k.jsx)(dn.a,{})})}),Object(k.jsx)(cn.a,{classes:{root:c.sectionTitleCell},colSpan:2,children:Object(k.jsx)("p",{children:t})}),a&&a[n]&&Object.keys(a[n]).map((function(e){return Object(k.jsx)(cn.a,{align:"right",children:fn(a[n][e])})}))]})},kn=Object(j.a)((function(e){var t;return{root:(t={background:"white",borderRadius:"10px",margin:"0 auto",width:"750px"},Object(u.a)(t,e.breakpoints.up("lg"),{width:"1000px"}),Object(u.a)(t,e.breakpoints.up("xl"),{width:"1250px"}),t)}})),Sn={small:{cellSize:110},medium:{breakpoint:1280,cellSize:135},large:{breakpoint:1900,cellSize:170}},Cn=function(e){var t=e.anualdata,a=e.readyData,n=on(Sn),c=n.cellWidth,o=n.breakpoint,r=kn();return Object(k.jsx)(en.a,{children:Object(k.jsxs)(tn.a,{classes:{root:r.root},className:"small"===o&&"financials-table--small",children:[Object(k.jsx)(an.a,{children:Object(k.jsxs)(nn.a,{children:[Object(k.jsx)(cn.a,{colSpan:3}),t.current&&Object.keys(t.current).map((function(e){return Object(k.jsx)(cn.a,{align:"right",children:e})}))]})}),Object(k.jsxs)(vn,{fieldName:"assets",renderTitleSection:function(e,t){return Object(k.jsx)(gn,{open:e,setOpen:t,title:"Cash from Operating Activities",data:a,lookupKey:"operatingCashflow"})},children:[Object(k.jsx)(mn,{hackWidth:c,title:"depreciation",lookupKey:"depreciation",data:a}),Object(k.jsx)(mn,{hackWidth:c,title:"Change in Receivables",lookupKey:"changeInReceivables",data:a}),Object(k.jsx)(mn,{hackWidth:c,title:"change in Account Receivables",lookupKey:"changeInAccountReceivables",data:a}),Object(k.jsx)(mn,{hackWidth:c,title:"change in Inventory",lookupKey:"changeInInventory",data:a}),Object(k.jsx)(mn,{hackWidth:c,title:"other Operating Cash Flow",lookupKey:"otherOperatingCashflow",data:a}),Object(k.jsx)(mn,{hackWidth:c,title:"Investments",lookupKey:"investments",data:a}),Object(k.jsx)(mn,{hackWidth:c,title:"change in Liabilities",lookupKey:"changeInLiabilities",data:a}),Object(k.jsx)(mn,{hackWidth:c,title:"Net Borrowings",lookupKey:"netBorrowings",data:a})]}),Object(k.jsxs)(vn,{fieldName:"assets",renderTitleSection:function(e,t){return Object(k.jsx)(gn,{open:e,setOpen:t,title:"Cash from Investing Activities",data:a,lookupKey:"cashflowFromInvestment"})},children:[Object(k.jsx)(mn,{hackWidth:c,title:"Capital Expenditures",lookupKey:"capitalExpenditures",data:a}),Object(k.jsx)(mn,{hackWidth:c,title:"other Cash Flow from Investing",lookupKey:"otherCashflowFromInvestment",data:a})]}),Object(k.jsxs)(vn,{fieldName:"assets",renderTitleSection:function(e,t){return Object(k.jsx)(gn,{open:e,setOpen:t,title:"Cash from Financing Activities",data:a,lookupKey:"cashflowFromFinancing"})},children:[Object(k.jsx)(mn,{hackWidth:c,title:"other Cash and Short Term Investments",lookupKey:"otherCashflowFromFinancing",data:a}),Object(k.jsx)(mn,{hackWidth:c,title:"change In exchange Rate",lookupKey:"changeInExchangeRate",data:a}),Object(k.jsx)(mn,{hackWidth:c,title:"dividend Payout",lookupKey:"dividendPayout",data:a}),Object(k.jsx)(mn,{hackWidth:c,title:"Stock Sale and Purchase",lookupKey:"stockSaleAndPurchase",data:a})]})]})})},Tn=Object(j.a)((function(e){var t;return{root:(t={background:"white",borderRadius:"10px",margin:"0 auto",width:"750px"},Object(u.a)(t,e.breakpoints.up("lg"),{width:"1000px"}),Object(u.a)(t,e.breakpoints.up("xl"),{width:"1250px"}),t)}})),En={small:{cellSize:110},medium:{breakpoint:1280,cellSize:135},large:{breakpoint:1900,cellSize:168}},wn=function(e){var t=e.anualdata,a=e.readyData,n=on(En),c=n.cellWidth,o=n.breakpoint,r=Tn();return console.log(a,"liisto"),Object(k.jsx)(en.a,{children:Object(k.jsxs)(tn.a,{classes:{root:r.root},className:"small"===o&&"financials-table--small",children:[Object(k.jsx)(an.a,{children:Object(k.jsxs)(nn.a,{children:[Object(k.jsx)(cn.a,{colSpan:3}),t.current&&Object.keys(t.current).map((function(e){return Object(k.jsx)(cn.a,{align:"right",children:e})}))]})}),Object(k.jsx)(yn,{title:"Total Revenue",lookupKey:"totalRevenue",data:a}),Object(k.jsx)(yn,{title:"Cost Of Revenue",lookupKey:"costOfRevenue",data:a}),Object(k.jsx)(yn,{title:"Gross Profit",lookupKey:"grossProfit",data:a}),Object(k.jsxs)(vn,{renderTitleSection:function(e,t){return Object(k.jsx)(gn,{title:"Total Operating Expense",open:e,setOpen:t,lookupKey:"totalOperatingExpense",data:a})},children:[Object(k.jsx)(mn,{title:"selling / General / Administrative",lookupKey:"sellingGeneralAdministrative",data:a,hackWidth:c}),Object(k.jsx)(mn,{title:"research & Development",lookupKey:"researchAndDevelopment",data:a,hackWidth:c}),Object(k.jsx)(mn,{title:"interest Expense",lookupKey:"interestExpense",data:a,hackWidth:c}),Object(k.jsx)(mn,{title:"Other Operating Expense",lookupKey:"otherOperatingExpense",data:a,hackWidth:c})]}),Object(k.jsx)(yn,{title:"Operating Income",lookupKey:"operatingIncome",data:a}),Object(k.jsx)(yn,{title:"Net Interest Income (Expense)",lookupKey:"netInterestIncome",data:a}),Object(k.jsx)(yn,{title:"Net Income",lookupKey:"netIncome",data:a}),Object(k.jsx)(yn,{title:"Extraordinary items",lookupKey:"extraordinaryItems",data:a}),Object(k.jsx)(yn,{title:"Non Recurring",lookupKey:"nonRecurring",data:a}),Object(k.jsx)(yn,{title:"Ordinary Net Income",lookupKey:"netIncomeFromContinuingOperations",data:a}),Object(k.jsx)(yn,{title:"Income Tax Expenses",lookupKey:"incomeTaxExpense",data:a}),Object(k.jsx)(yn,{title:"Discontinued Operations",lookupKey:"discontinuedOperations",data:a}),Object(k.jsx)(yn,{title:"Tax Provision",lookupKey:"taxProvision",data:a})]})})},Nn=Object(j.a)((function(e){var t;return{root:(t={background:"white",borderRadius:"10px",margin:"0 auto",width:"400px"},Object(u.a)(t,e.breakpoints.up("lg"),{width:"1000px"}),Object(u.a)(t,e.breakpoints.up("xl"),{width:"1250px"}),t)}})),In={small:{cellSize:80},medium:{breakpoint:1280,cellSize:125},large:{breakpoint:1900,cellSize:160}},Rn=function(e){var t=e.anualdata,a=e.readyData,n=on(In),c=n.cellWidth,o=n.breakpoint,r=Nn();return Object(k.jsx)(en.a,{children:Object(k.jsxs)(tn.a,{classes:{root:r.root},className:"small"===o&&"financials-table--small",children:[Object(k.jsx)(an.a,{children:Object(k.jsxs)(nn.a,{children:[Object(k.jsx)(cn.a,{colSpan:3}),t.current&&Object.keys(t.current).map((function(e){return Object(k.jsx)(cn.a,{align:"right",children:e})}))]})}),Object(k.jsxs)(vn,{fieldName:"assets",renderTitleSection:function(e,t){return Object(k.jsx)(gn,{open:e,setOpen:t,title:"Total Current Assets",data:a,lookupKey:"totalCurrentAssets"})},children:[Object(k.jsx)(mn,{hackWidth:c,title:"Cash and Short Term Investments",lookupKey:"cashAndShortTermInvestments",data:a}),Object(k.jsx)(xn,{hackWidth:c,title:"Cash",lookupKey:"cash",data:a}),Object(k.jsx)(xn,{hackWidth:c,title:"short Term Investments",lookupKey:"shortTermInvestments",data:a}),Object(k.jsx)(mn,{hackWidth:c,title:"net Receivables",lookupKey:"netReceivables",data:a}),Object(k.jsx)(mn,{hackWidth:c,title:"Total Inventory",lookupKey:"inventory",data:a})]}),Object(k.jsxs)(vn,{fieldName:"total assets",renderTitleSection:function(e,t){return Object(k.jsx)(gn,{title:"Total Assets",open:e,setOpen:t,lookupKey:"totalAssets",data:a})},children:[Object(k.jsx)(mn,{hackWidth:c,title:"Property / Plant / Equipment",lookupKey:"propertyPlantEquipment",data:a}),Object(k.jsx)(xn,{hackWidth:c,title:"Accumulated Depreciation",lookupKey:"accumulatedDepreciation",data:a}),Object(k.jsx)(mn,{hackWidth:c,title:"Goodwill",lookupKey:"goodwill",data:a}),Object(k.jsx)(mn,{hackWidth:c,title:"Intangibles",lookupKey:"intangibleAssets",data:a}),Object(k.jsx)(mn,{hackWidth:c,title:"Long Term Investments",lookupKey:"longTermInvestments",data:a}),Object(k.jsx)(mn,{hackWidth:c,title:"Other Assets",lookupKey:"otherAssets",data:a}),Object(k.jsx)(mn,{hackWidth:c,title:"Other Non Current Assets",lookupKey:"otherNonCurrrentAssets",data:a})]}),Object(k.jsxs)(vn,{renderTitleSection:function(e,t){return Object(k.jsx)(gn,{title:"Total Current Liabilities",open:e,setOpen:t,lookupKey:"totalCurrentLiabilities",data:a})},children:[Object(k.jsx)(mn,{hackWidth:c,title:"Accounts Payable",lookupKey:"accountsPayable",data:a}),Object(k.jsx)(xn,{hackWidth:c,title:"Current Long Term Debt",lookupKey:"currentLongTermDebt",data:a}),Object(k.jsx)(mn,{hackWidth:c,title:"Other Current Liabilities",lookupKey:"otherCurrentLiabilities",data:a})]}),Object(k.jsxs)(vn,{renderTitleSection:function(e,t){return Object(k.jsx)(gn,{title:"Total Non Current Liabilities",open:e,setOpen:t,lookupKey:"totalNonCurrentLiabilities",data:a})},children:[Object(k.jsx)(mn,{hackWidth:c,title:"Total Long Term Debt",lookupKey:"totalLongTermDebt",data:a}),Object(k.jsx)(xn,{hackWidth:c,title:"Long Term Debt",lookupKey:"longTermDebt",data:a}),Object(k.jsx)(xn,{hackWidth:c,title:"Other Non Current Liabilities",lookupKey:"otherNonCurrentLiabilities",data:a}),Object(k.jsx)(xn,{hackWidth:c,title:"Long Liabilities",lookupKey:"otherLiabilities",data:a})]}),Object(k.jsxs)(vn,{renderTitleSection:function(e,t){return Object(k.jsx)(gn,{title:"Total Equity",open:e,setOpen:t,lookupKey:"totalShareholderEquity",data:a})},children:[Object(k.jsx)(mn,{hackWidth:c,title:"Redeemable Preferred Stock, Total",lookupKey:"preferredStockRedeemable",data:a}),Object(k.jsx)(mn,{hackWidth:c,title:"Preferred Stock",lookupKey:"preferredStockTotalEquity",data:a}),Object(k.jsx)(mn,{hackWidth:c,title:"Common Stock, Total",lookupKey:"commonStock",data:a}),Object(k.jsx)(mn,{hackWidth:c,title:"Additional Paid-in Capital",lookupKey:"additionalPaidInCapital",data:a}),Object(k.jsx)(mn,{hackWidth:c,title:"Retained Earnings (Accumulated Deficit)",lookupKey:"retainedEarnings",data:a}),Object(k.jsx)(mn,{hackWidth:c,title:"Retained Earnings (Accumulated Deficit)",lookupKey:"treasuryStock",data:a}),Object(k.jsx)(mn,{hackWidth:c,title:"Other Equity",lookupKey:"otherShareholderEquity",data:a})]}),Object(k.jsx)(yn,{title:"Total Liabilities & Shareholders' Equity",lookupKey:"liabilitiesAndShareholderEquity",data:a}),Object(k.jsx)(yn,{title:"Total Preferred Shares Outstanding",lookupKey:"preferredStockTotalEquity",data:a}),Object(k.jsx)(yn,{title:"Total Common Shares Outstanding",lookupKey:"commonStockSharesOutstanding",data:a})]})})},An=function(){Ta();var e=N(),t=e.state,a=e.dispatch,c=t.currentCompany.ticker,o=Object(n.useState)("BALANCE_SHEET"),r=Object(i.a)(o,2),s=r[0],l=r[1],u=Object(n.useState)({data:"",loading:!1,error:""}),d=Object(i.a)(u,2),j=d[0],b=j.data,p=j.loading,h=j.error,O=d[1],f=Object(n.useRef)("");return Object(n.useEffect)((function(){b&&!t.financials[f.current][c]&&a({type:"SET_FINANCIALS",payload:{field:f.current,ticker:c,value:b}})}),[b]),Object(k.jsxs)("div",{children:[h&&Object(k.jsx)("p",{children:h}),c&&Object(k.jsx)($a,{field:s,setField:l,setRequest:O,campo:f,ticker:c}),p?Object(k.jsx)(je,{}):h?Object(k.jsx)("p",{children:h}):b&&b.annualReports?Object(k.jsx)(Pn,{data:b,field:s}):Object(k.jsx)("p",{children:"Error With data provider"})]})},Pn=function(e){var t=e.data,a=e.field,c=Object(n.useState)(""),o=Object(i.a)(c,2),r=o[0],l=o[1],d=Object(n.useRef)({});return Object(n.useEffect)((function(){t.annualReports.forEach((function(e){d.current=Object(s.a)(Object(s.a)({},d.current),{},Object(u.a)({},e.fiscalDateEnding,e))}));var e={};Object.keys(t.annualReports[0]).forEach((function(t){console.log(t,"campo"),e[t]={},Object.keys(d.current).forEach((function(a){e[t][a]=d.current[a][t],console.log(d.current[a])}))})),l(e)}),[t]),Object(n.useEffect)((function(){console.log(r,"ready")}),[r]),"BALANCE_SHEET"===a?Object(k.jsx)(Rn,{anualdata:d,readyData:r}):"INCOME_STATEMENT"===a?Object(k.jsx)(wn,{anualdata:d,readyData:r}):"CASH_FLOW"===a?Object(k.jsx)(Cn,{anualdata:d,readyData:r}):Object(k.jsx)("p",{children:"Somethign went wrong"})},Ln=a(151),_n=function(e){var t=A().sidebarOpen,a=Object(Ee.a)().pathname;console.log(a,"pappdsdp");var c=P().viewport;console.log(c,"viewpppp"),Object(n.useEffect)((function(){e&&Object.keys(e).length>0&&(console.log(e,"popo"),setTimeout((function(){console.log("reflowwww"),e.reflow()}),200))}),[t,c,a])},Dn={data:"",loading:!1,error:""},Fn=function(e,t){switch(t.type){case"REQUEST_LOADING":return Object(s.a)(Object(s.a)({},e),{},{loading:!1});case"REQUEST_SUCCESS":return Object(s.a)(Object(s.a)({},e),{},{loading:!1,data:t.payload});case"REQUEST_ERROR":return Object(s.a)(Object(s.a)({},e),{},{loading:!1,error:t.payload});default:return e}},Mn=function(e){var t=e.ticker,a=Object(n.useReducer)(Fn,Dn),c=Object(i.a)(a,2),o=c[0],r=o.data,s=(o.loading,o.error,c[1]),l=function(e){return e.filter((function(e){return"2020"===e.period.split("-")[0]}))};Object(n.useEffect)((function(){s({type:"REQUEST_LOADING"}),fetch("https://finnhub.io/api/v1/stock/recommendation?symbol=".concat(t,"&token=btm6dp748v6ud360stcg")).then((function(e){return e.json()})).then((function(e){var t=l(e);t.length?s({type:"REQUEST_SUCCESS",payload:t.reverse()}):s({type:"REQUEST_ERROR",payload:"No data available"})}))}),[]);var u=Object(n.useRef)(null);_n(u.current);var d={chart:{type:"column",events:{load:function(){u.current=this}}},title:{text:"Stacked column chart"},xAxis:{categories:r&&r.map((function(e){return e.period}))},yAxis:{min:0,title:{text:"stock recommendations"},stackLabels:{enabled:!0,style:{fontWeight:"bold",color:ra.a.defaultOptions.title.style&&ra.a.defaultOptions.title.style.color||"gray"}}},legend:{backgroundColor:ra.a.defaultOptions.legend.backgroundColor||"white",borderColor:"#CCC",borderWidth:1,shadow:!1},tooltip:{headerFormat:"<b>{point.x}</b><br/>",pointFormat:"{series.name}: {point.y}<br/>Total: {point.stackTotal}"},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!0}}},series:r&&Object.keys(r[0]).filter((function(e){return"period"!==e})).map((function(e){return{name:e,data:r.map((function(t){return t[e]}))}}))};return Object(k.jsx)(k.Fragment,{children:r&&Object(k.jsx)(sa.a,{highcharts:ra.a,options:d})})},Bn=a(398),Wn=a.n(Bn),Kn=function(e){var t=e.peersData;return Object(k.jsx)(Wn.a,{animation:"slide",className:"carousel--ticker",children:t.map((function(e){return Object(k.jsx)(Un,{info:e})}))})},Un=function(e){var t=e.info,a=t.name,n=t.symbol,c=t.pe;t.changesPercentage,t.price;return Object(k.jsxs)(Ln.a,{style:{height:"100%"},children:[Object(k.jsx)("h5",{children:n}),Object(k.jsx)("p",{children:a}),Object(k.jsx)("p",{children:c})]})},Gn=function(e){var t=e.ticker,a=Object(n.useState)({peerTickers:"",fetching:!1,error:""}),c=Object(i.a)(a,2),o=c[0],r=o.peerTickers,l=(o.fetching,o.error,c[1]),u=Object(n.useState)({peersData:"",pfetching:!1,perror:""}),d=Object(i.a)(u,2),j=d[0],b=j.peersData,p=(j.pfetching,j.perror,d[1]),h=N(),O=h.state,f=h.dispatch;return Object(n.useEffect)((function(){var e=function(){var e=Object(Y.a)(V.a.mark((function e(){var a,n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l((function(e){return Object(s.a)(Object(s.a)({},e),{},{fetching:!0})})),e.next=4,fetch("https://finnhub.io/api/v1/stock/peers?symbol=".concat(t,"&token=btm6dp748v6ud360stcg"));case 4:return a=e.sent,e.next=7,a.json();case 7:if(!(n=e.sent)){e.next=12;break}l((function(e){return Object(s.a)(Object(s.a)({},e),{},{fetching:!1,peerTickers:n})})),e.next=13;break;case 12:throw new Error("no peers found");case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),l((function(t){return Object(s.a)(Object(s.a)({},t),{},{fetching:!1,error:e.t0.message})})),console.log(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();console.log(O.peers[t],"que cojoness"),O.peers[t]?p(O.peers[t]):e()}),[]),Object(n.useEffect)((function(){if(r&&!O.peers[t]){var e=r.slice(1,4).map(function(){var e=Object(Y.a)(V.a.mark((function e(t){var a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://financialmodelingprep.com/api/v3/quote/".concat(t,"?apikey=651d720ba0c42b094186aa9906e307b4"));case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",["error",e.t0.message]);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}());(function(){var a=Object(Y.a)(V.a.mark((function a(){var n,c,o;return V.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return p((function(e){return Object(s.a)(Object(s.a)({},e),{},{pfetching:!0})})),a.next=3,Promise.all(e);case 3:n=a.sent,console.log(n,"zorra"),c=n.filter((function(e){return 0!==e.length})),o=[],c.forEach((function(e){if(Array.isArray(e)){var t=e[0];o=[].concat(Object(y.a)(o),[t])}})),p((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!1,peersData:o})})),f({type:"STORE_DATA",payload:{ticker:t,field:"peers",value:o}});case 10:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}})()()}}),[r]),Object(k.jsx)(k.Fragment,{children:b&&Object(k.jsx)(Kn,{peersData:b})})},Hn=function(e){var t=e.ticker;return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Ln.a,{className:"detail1",children:Object(k.jsx)(Mn,{ticker:t})}),Object(k.jsx)("div",{className:"detail3",children:Object(k.jsx)(Gn,{ticker:t})})]})})},qn=a(845),zn=function(e){var t=e.ticker,a=e.setListHeight,c=N(),o=c.state,r=c.dispatch,s=Object(n.useRef)(null),l=Object(n.useState)(""),u=Object(i.a)(l,2),d=u[0],j=u[1],b=Object(n.useState)(""),p=Object(i.a)(b,2),h=(p[0],p[1]),O=Object(n.useState)(!1),f=Object(i.a)(O,2),g=(f[0],f[1]);return Object(n.useEffect)((function(){console.log("vas"),o.keymetrics[t]&&void 0!==!o.keymetrics[t]?j(o.keymetrics[t]):(console.log("que co\xf1o",o.keymetrics[t]),g(!0),fetch("".concat("https://www.alphavantage.co/query?function=OVERVIEW","&symbol=").concat(t,"&apikey=").concat("btm6dp748v6ud360stcg")).then((function(e){return e.json()})).then((function(e){g(!1),j(e)})).catch((function(e){h(e.message)})))}),[]),Object(n.useEffect)((function(){o.keymetrics[t]||d&&r({type:"STORE_DATA",payload:{ticker:t,field:"keymetrics",value:d}})}),[d]),Object(n.useEffect)((function(){s.current&&Object.keys(d).length>0&&a(s.current.offsetHeight)}),[d]),Object(k.jsx)("ul",{className:"list-modelo",ref:s,children:Object.keys(d).length>0&&Object.keys(d).map((function(e){return"description"===e.toLowerCase()?null:Object(k.jsxs)("li",{children:[Object(k.jsx)(va.a,{label:(t=e,t.replace(/([A-Z])/g," $1").trim()),size:"small"}),Object(k.jsx)("p",{style:{marginLeft:"auto"},children:d[e]})]});var t}))})},Jn=a(45),Vn=a.n(Jn),Yn=function(e){var t=e.ticker,a="".concat("https://financeapp-v1.herokuapp.com","/api/v1/prices/ticker"),c=Object(n.useRef)(null),o=Object(n.useRef)(null),r=N(),s=(r.state,r.dispatch,Object(n.useState)(null)),l=Object(i.a)(s,2),u=l[0],d=l[1],j=ma(a,t,"prices",{explicitUrl:!1}),b=j.datos,p=j.loading,h=(j.error,Object(n.useState)(null)),O=Object(i.a)(h,2),f=O[0],g=O[1];_n(f),console.log(b,"rerenderr");var m=Object(n.useRef)(0);m.current=m.current++,Object(n.useEffect)((function(){if(b.data&&b.data.length>0)if("string"===typeof b.data[0].date){var e=b.data.map((function(e){var t=e.date.split("T")[0].split("-").map((function(e){return parseInt(e)})),a=new Date(t[0],t[1]-1,t[2]);return e.date=a.getTime(),e}));x(e)}else console.log("ready"),x(b.data)}),[b]);var x=function(e){console.log("hola");var t=[],a=[];e.forEach((function(e){var n=[e.date,e.adjOpen,e.adjHigh,e.adjLow,e.adjClose],c=[e.date,e.open,e.high,e.low,e.close];t=[].concat(Object(y.a)(t),[n]),a=[].concat(Object(y.a)(a),[c])})),console.log("ooooohl",t),d(t),c.current=t,o.current=a},v={chart:{zoomType:"x",events:{selection:function(e){e&&console.log(e)},load:function(){g(this)}},id:"chart-stock",animation:{duration:225}},plotOptions:{candlestick:{color:"red",upColor:"rgb(22,177,87)",lineColor:"red",upLineColor:"rgb(22,177,87)",pointPadding:.02}},title:{text:"My chart",zoomType:"x"},rangeSelector:{allButtonsEnabled:!0},navigator:{},series:[{type:"candlestick",data:u,dataGrouping:{units:[["day",[1,2,3,4,5,8,16]],["week",[1,2,3,4]],["month",[1,2,3,4,6]]],smoothed:!0}}]};return Object(k.jsxs)(k.Fragment,{children:[p&&Object(k.jsx)(je,{}),p&&"loading...",u&&Object(k.jsx)(sa.a,{highcharts:Vn.a,options:v,constructorType:"stockChart"}),Object(k.jsx)("button",{onClick:function(){d(o.current)},children:"Not adjusted prices"}),Object(k.jsx)("button",{onClick:function(){d(c.current)},children:"adjusted prices"}),Object(k.jsx)("button",{children:"See income"})]})},Qn=function(){Ta();var e=N(),t=e.state,a=(e.dispatch,t.currentCompany.ticker),c=Object(n.useState)(!1),o=Object(i.a)(c,2),r=o[0],s=o[1],l=(Object(d.i)(),Object(n.useRef)(null)),u=Object(n.useState)(0),j=Object(i.a)(u,2),b=(j[0],j[1]);return Object(n.useEffect)((function(){l.current&&console.log(l.current.offsetHeight,"hhhhhight")}),[l.current]),Object(k.jsx)(k.Fragment,{children:a&&Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{className:"grida",style:{width:"100%"},children:[Object(k.jsx)(Ln.a,{className:"chart",children:Object(k.jsx)(Yn,{ticker:a})}),Object(k.jsxs)(qn.a,{mb:2,children:[Object(k.jsx)("h3",{children:"Actions"}),Object(k.jsx)(Ln.a,{className:"stock-shop",style:{padding:"1rem",width:"100%"},children:Object(k.jsx)(Q,{ticker:a,children:function(e){var t=e.currentPrice,n=e.loading,c=e.error;return Object(k.jsx)(Ae,{currentPrice:t,loading:n,error:c,ticker:a,assetType:"stock"})}})})]}),Object(k.jsx)("div",{className:"keymetrics",children:Object(k.jsxs)(Ln.a,{className:r?"general overflown":"general",ref:l,children:[Object(k.jsx)("button",{onClick:function(){s((function(e){return!e}))},children:"change view"}),Object(k.jsx)(zn,{setListHeight:b,ticker:a})]})}),Object(k.jsx)(Hn,{ticker:a})]})})})},Zn=function(e){var t=e.datos,a=Object(n.useRef)(null),c=Object(n.useState)(""),o=Object(i.a)(c,2),r=o[0],s=o[1];Object(n.useEffect)((function(){console.log("manzana",t.historical),t.historical&&t.historical.length>0?(console.log("entra"),l(t.historical)):console.log("algo pasa, nunca deberia ejecutarse este else")}),[t]);var l=function(e){console.log(e,"koojones que pasa");var a="string"===typeof t.historical[0].date?e.slice(0).map((function(e){var t=e.date.slice(0).split("-").map((function(e){return parseInt(e)}));return e.date=new Date(t).getTime(),e})):e;console.log("hola");var n=[];a.forEach((function(e){var t=[e.date,e.close,e.high,e.low,e.open];n=[].concat(Object(y.a)(n),[t])})),console.log("ooooohl",n),s(n.reverse())},u={chart:{zoomType:"x",events:{selection:function(e){e&&console.log(e)},load:function(){a.current=this}},id:"chart-stock",animation:{duration:225}},plotOptions:{candlestick:{color:"red",upColor:"rgb(22,177,87)",lineColor:"red",upLineColor:"rgb(22,177,87)",pointPadding:.02}},title:{text:"My chart",zoomType:"x"},rangeSelector:{allButtonsEnabled:!0},navigator:{},series:[{type:"candlestick",data:r,dataGrouping:{units:[["day",[1,2,3,4,5,8,16]],["week",[1,2,3,4]],["month",[1,2,3,4,6]]],smoothed:!0}}]};return console.log(r,"jodio"),Object(k.jsxs)(k.Fragment,{children:[r&&Object(k.jsx)(sa.a,{highcharts:Vn.a,options:u,constructorType:"stockChart"}),Object(k.jsx)("div",{children:"kaak"})]})},Xn=function(e,t,a,c){var o=N(),r=o.state,l=o.dispatch,u=Object(n.useState)({datos:"",loading:!1,error:""}),d=Object(i.a)(u,2),j=d[0],b=j.datos,p=j.loading,h=j.error,O=j.wasInState,f=d[1];Object(n.useEffect)((function(){console.log(b,"daaaatooos"),function(){var n=Object(Y.a)(V.a.mark((function n(o){var i,u,d;return V.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log(g(a),"ceeeeeeee"),g(a)){n.next=19;break}return n.prev=2,f((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!0})})),i=c.explicitUrl||null===o?e:"".concat(e,"/").concat(o),n.next=7,fetch(i);case 7:return u=n.sent,n.next=10,u.json();case 10:d=n.sent,l({type:"SET_INDEXES",payload:{ticker:t,field:a,value:d}}),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(2),f((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!1,error:n.t0.message})}));case 17:n.next=20;break;case 19:f((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!1,datos:r.indexes[a][t]})}));case 20:case"end":return n.stop()}}),n,null,[[2,14]])})));return function(e){return n.apply(this,arguments)}}()(t)}),[a]),Object(n.useEffect)((function(){if(console.log("ahora",r),r.indexes[a]&&r.indexes[a][t]&&(console.log("turn off"),f((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!1,datos:r.indexes[a][t]})})),a!==t))try{localStorage.setItem(a,JSON.stringify(r.indexes[a]))}catch(e){console.log(e,"eeeee")}}),[r.indexes]);var g=function(e){return console.log(e,"campo"),!!r.indexes[e]&&(console.log(e,t,"esta en mayuscula o que"),!!r.indexes[e][t])};return{datos:b,loading:p,error:h,wasInState:O}},$n=function(e){var t=e.category,a=e.categorySan,n="https://financialmodelingprep.com/api/v3/historical-price-full/".concat(a[0],"?apikey=651d720ba0c42b094186aa9906e307b4"),c=Xn(n,"prices",t,{explicitUrl:!0}),o=c.datos,r=c.loading,i=c.error;return console.log(r,"cargando1"),console.log(o,"ostia1"),Object(k.jsxs)(k.Fragment,{children:[r&&Object(k.jsx)(je,{}),i&&Object(k.jsx)("p",{children:i}),o&&Object.keys(o).length>0&&Object(k.jsx)(Zn,{datos:o})]})},ec=function(e){var t=e.category,a=e.categorySan,c=N(),o=c.state,r=(c.dispatch,"constituents"),s="https://finnhub.io/api/v1/index/constituents?symbol=".concat(a[1],"&token=btm6dp748v6ud360stcg"),l=Object(n.useRef)(!1),u=Xn(s,r,t,{explicitUrl:!0}),d=(u.datos,u.loading),j=u.error,b=(Object(n.useRef)({}),Object(n.useState)("")),p=Object(i.a)(b,2),h=p[0],O=p[1];return Object(n.useEffect)((function(){console.log("executed",t),o.indexes[t]&&o.indexes[t].constituents&&(console.log(o.indexes[t].constituents,"pota"),fetch("".concat("https://financeapp-v1.herokuapp.com","/api/v1/recurringTasks/indexes/constituents/").concat(t),{body:JSON.stringify({ticker:o.indexes[t].constituents.constituents}),method:"POST",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){O(e.data)})).catch((function(e){console.log(e.message)})))}),[o.indexes,t,l]),Object(k.jsxs)(k.Fragment,{children:[d&&Object(k.jsx)(je,{}),j&&Object(k.jsx)("p",{children:j}),h&&Object(k.jsxs)(tn.a,{children:[Object(k.jsx)(an.a,{children:Object(k.jsxs)(nn.a,{children:[Object(k.jsx)(cn.a,{children:"ticker"}),Object(k.jsx)(cn.a,{children:"open"}),Object(k.jsx)(cn.a,{children:"close"}),Object(k.jsx)(cn.a,{children:"high"}),Object(k.jsx)(cn.a,{children:"low"})]})}),Object(k.jsx)(sn.a,{children:h.map((function(e){return Object(k.jsxs)(nn.a,{children:[Object(k.jsx)(cn.a,{children:e.ticker}),Object(k.jsx)(cn.a,{children:e.open}),Object(k.jsx)(cn.a,{children:e.close}),Object(k.jsx)(cn.a,{children:e.high}),Object(k.jsx)(cn.a,{children:e.low})]})}))})]})]})},tc=function(e){var t=e.index,a=t,n=function(e){switch(e){case"sp500":return["^SP500TR","^GSPC"];case"nasdaq":return["^NDX","^NDX"];case"dowjones":return["^DJI","^DJI"];default:return!1}}(t);return console.log(a,n,"toto"),Object(k.jsxs)("div",{className:"grid--indexes",children:[Object(k.jsx)(Ln.a,{className:"chart",children:Object(k.jsx)($n,{categorySan:n,category:a})}),Object(k.jsx)(Ln.a,{className:"constituents",children:Object(k.jsx)(ec,{className:"components",category:a,categorySan:n})})]})},ac=function(e){var t=e.datos;console.log("helllo");var a=Object(n.useRef)(null),c=Object(n.useState)(""),o=Object(i.a)(c,2),r=o[0],s=o[1];_n(a.current),console.log(t,"datuus"),Object(n.useEffect)((function(){console.log("manzana",t.historical),t.prices&&t.prices.length>0?(console.log("entra"),l(t.prices)):console.log("algo pasa, nunca deberia ejecutarse este else")}),[t]);var l=function(e){console.log(e,"koojones que pasa");var t="string"===typeof e[0].date?e.slice(0).map((function(e){var t=e.date.slice(0).split("-").map((function(e){return parseInt(e)}));return e.date=new Date(t).getTime(),e})):e;console.log("hola");var a=[];t.forEach((function(e){var t=[e.date,e.close,e.high,e.low,e.open];a=[].concat(Object(y.a)(a),[t])})),console.log("ooooohl",a),s(a.reverse())},u={chart:{zoomType:"x",events:{selection:function(e){e&&console.log(e)},load:function(){a.current=this}},id:"chart-stock",animation:{duration:225}},plotOptions:{candlestick:{color:"red",upColor:"rgb(22,177,87)",lineColor:"red",upLineColor:"rgb(22,177,87)",pointPadding:.02}},title:{text:"My chart",zoomType:"x"},rangeSelector:{allButtonsEnabled:!0},navigator:{},series:[{type:"candlestick",data:r,dataGrouping:{units:[["day",[1,2,3,4,5,8,16]],["week",[1,2,3,4]],["month",[1,2,3,4,6]]],smoothed:!0}}]};return console.log(r,"jodio"),Object(k.jsxs)(k.Fragment,{children:[r&&Object(k.jsx)(sa.a,{highcharts:Vn.a,options:u,constructorType:"stockChart"}),Object(k.jsx)("div",{children:"kaak"})]})},nc=function(e){var t=e.datos,a=Object(n.useState)(""),c=Object(i.a)(a,2),o=c[0],r=c[1];Object(n.useEffect)((function(){t.prices&&t.prices.length>0&&function(e){var t=e.map((function(e){return e.close}));r(t)}(t.prices)}),[t]);var s={chart:{type:"spline",margin:0,height:"56.25%",animation:!1},title:{text:""},series:[{name:"Tokyo",data:o,color:"#3f51b5"}],xAxis:{crosshair:!1,lineWidth:0,gridLineWidth:0,lineColor:"transparent",minorTickLength:0,tickLength:0,title:{enabled:!1},labels:{enabled:!1}},yAxis:{min:0,title:{text:""},lineWidth:0,gridLineWidth:0,lineColor:"transparent",minorTickLength:0,tickLength:0,labels:{enabled:!1}},tooltip:{enabled:!1},credits:{enabled:!1},legend:{enabled:!1},plotOptions:{column:{pointPadding:.2,borderWidth:0},series:{animation:!1,marker:{states:{hover:{enabled:!1}}}}}};return Object(k.jsx)(k.Fragment,{children:o&&Object(k.jsx)(sa.a,{highcharts:ra.a,constructorType:"chart",options:s})})},cc=a(192),oc=a.n(cc),rc=a(244),ic=Object(j.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),sc=c.a.forwardRef((function(e,t){return Object(k.jsx)(rc.a,Object(s.a)({direction:"up",ref:t},e))}));function lc(e){var t=e.children,a=e.open,n=e.setOpenChartModal,c=ic(),o=function(){};return Object(k.jsx)("div",{children:Object(k.jsxs)(X.a,{fullScreen:!0,open:a,onClose:o,TransitionComponent:sc,children:[Object(k.jsx)(h.a,{className:c.appBar,children:Object(k.jsxs)(O.a,{children:[Object(k.jsx)(g.a,{edge:"start",color:"inherit",onClick:function(){n(!1)},"aria-label":"close",children:Object(k.jsx)(oc.a,{})}),Object(k.jsx)(f.a,{variant:"h6",className:c.title,children:"Sound"}),Object(k.jsx)(p.a,{autoFocus:!0,color:"inherit",onClick:o,children:"save"})]})}),t]})})}var uc=function(e){var t=e.datos,a=e.setChartSelected,c=e.chartSelected,o=Object(n.useState)(!1),r=Object(i.a)(o,2),s=r[0],l=r[1];return Object(n.useEffect)((function(){c===t.symbol?(l(!0),console.log(t.symbol,"siimbol")):l(!1)}),[c]),Object(k.jsx)("div",{onClick:function(){a(t.symbol)},children:s?Object(k.jsx)(lc,{open:s,setOpenChartModal:l,children:Object(k.jsx)(ac,{datos:t})}):Object(k.jsx)(nc,{datos:t})})},dc=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)({allIndexPrices:[],loading:!1,error2:""}),r=Object(i.a)(o,2),l=r[0],u=l.allIndexPrices,d=(l.loading2,l.error2,r[1]);Object(n.useEffect)((function(){d((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!0})})),fetch("".concat("https://financeapp-v1.herokuapp.com","/api/v1/recurringTasks/indexes/allprices")).then((function(e){return e.json()})).then((function(e){return console.log(e,"laassprecious"),e})).then((function(e){var t=[];e.data.forEach((function(e){e.forEach((function(e){t=[].concat(Object(y.a)(t),[e])}))})),console.log(t,"datususus"),d((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading2:!1,allIndexPrices:t})}))})).catch((function(e){d((function(t){return Object(s.a)(Object(s.a)({},t),{},{loading2:!1,error2:e})}))}))}),[]),console.log(u,"putaprices");var j=function(){if(u&&u.length){var e=Object(y.a)(u);return console.log(e,"papapapa"),e.filter((function(e){return e.prices})).map((function(e){return console.log(e),{name:e.symbol,prices:e.prices[e.prices.length-1]}}))}return null}();return j?Object(k.jsx)("div",{children:Object(k.jsxs)(tn.a,{children:[Object(k.jsx)(an.a,{children:Object(k.jsxs)(nn.a,{children:[Object(k.jsx)(cn.a,{children:"Name"}),Object(k.jsx)(cn.a,{children:"open"}),Object(k.jsx)(cn.a,{children:"close"}),Object(k.jsx)(cn.a,{children:"high"}),Object(k.jsx)(cn.a,{children:"low"}),Object(k.jsx)(cn.a,{children:"change"}),Object(k.jsx)(cn.a,{children:"chart"})]})}),Object(k.jsx)(sn.a,{children:j&&j.map((function(e,t){var n=e.prices,o=e.name;return Object(k.jsxs)(nn.a,{children:[Object(k.jsx)(cn.a,{children:o}),Object(k.jsx)(cn.a,{children:L.format(n.open)}),Object(k.jsx)(cn.a,{children:L.format(n.close)}),Object(k.jsx)(cn.a,{children:L.format(n.high)}),Object(k.jsx)(cn.a,{children:L.format(n.low)}),Object(k.jsx)(cn.a,{children:_(n.change/n.close*100)+"%"}),Object(k.jsx)(cn.a,{style:{padding:0,width:"100px"},children:Object(k.jsx)(uc,{datos:u[t],setChartSelected:c,chartSelected:a})})]})}))})]})}):Object(k.jsx)(jc,{})},jc=function(){return Object(k.jsx)(tn.a,{children:Array(20).fill(null).map((function(){return Object(k.jsxs)(nn.a,{children:[Object(k.jsx)(cn.a,{children:Object(k.jsx)(yt.a,{variant:"text"})}),Object(k.jsxs)(cn.a,{children:[Object(k.jsx)(yt.a,{variant:"text"}),Object(k.jsx)(yt.a,{variant:"text",width:"50%"}),Object(k.jsx)(yt.a,{variant:"text",width:"35%"})]}),Object(k.jsx)(cn.a,{children:Object(k.jsx)(yt.a,{height:20})}),Object(k.jsxs)(cn.a,{children:[Object(k.jsx)(yt.a,{variant:"text"}),Object(k.jsx)(yt.a,{variant:"text",width:"50%"})]}),Object(k.jsx)(cn.a,{children:Object(k.jsx)(yt.a,{height:100})})]})}))})},bc=function(){var e=Object(d.i)().field;return console.log(e,"campu"),Object(k.jsx)(k.Fragment,{children:["sp500","nasdaq","dowjones"].includes(e)?Object(k.jsx)(tc,{index:e}):Object(k.jsx)(dc,{})})},pc=function(){var e=N(),t=e.state,a=e.dispatch,c=Object(n.useState)(!0),o=Object(i.a)(c,2),r=(o[0],o[1]),s=t.portfolioHistory,l=t.generatedSeries,u=t.areHistoricPricesReady,d=t.stockLibrary,j=t.portfolioSeriesReady,b=t.simulation,p=t.addFirstSerie,h=(Object(n.useRef)(!0),q().userState.info),O=(Object(n.useRef)([]),Object(n.useRef)({}),Object(n.useRef)(null)),f=function(e){return fetch("".concat("https://financeapp-v1.herokuapp.com","/api/portfolio/quotes"),{headers:{"Content-Type":"application/json"},body:JSON.stringify({tickers:d}),method:"POST"}).then((function(e){return e.json()})).then((function(t){return e(t)})).catch((function(e){throw new Error(e)}))},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;console.log(t,n,"worker running");var c=new Worker("/worker3.js");c.postMessage({_portfolioHistory:s,_generatedSeries:l,quotes:t,initialDate:n}),c.onmessage=function(t){var n=t.data,c=n.portfolioSeries,o=n.companiesPerformanceImpact;console.log(c,o,"portfolioSeries"),r(!1),Object.keys(o).length?a({type:"STORE_IMPACT_BY_COMPANY",payload:o}):a({type:"COMPANIES_IMPACT_AWAITING"}),console.log("cuuuuuu"),Object.keys(c).length?(console.log("cuuuuuuco"),e(c)):a({type:"SET_PORTFOLIO_SERIES_AWAITING"})}};console.log(l,"muuu");var m=function(e){fetch("".concat("https://financeapp-v1.herokuapp.com","/api/v1/operations/update"),{headers:{"Content-Type":"application/json"},body:JSON.stringify({email:h.email,portfolio:e}),method:"POST"}).then((function(e){return e.json()})).catch((function(e){throw e.message}))},x=function(){var e=Object(Y.a)(V.a.mark((function e(){var t,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://financeapp-v1.herokuapp.com","/api/v1/operations/initial"),{headers:{"Content-Type":"application/json"},body:JSON.stringify({email:h.email}),method:"POST"});case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a.split("T")[0]);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){p&&b.quotes&&g((function(e){a({type:"STORE_PORTFOLIO_SERIES",payload:e}),m(e)}),b.quotes,O.current)}),[b]);var v=function(){var e=Object(Y.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:O.current=e.sent;try{f((function(e){a({type:"SET_SIMULATION_QUOTES",payload:e[0]})}))}catch(t){alert(t.message)}case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){console.log(u,"que cohone"),u&&l.ready&&!j&&(p?v():g((function(e){console.log("what de hell"),a({type:"STORE_PORTFOLIO_SERIES",payload:e}),m(e)})))}),[l,u,j])},hc=function(){var e=N(),t=e.state,a=e.dispatch;Object(n.useEffect)((function(){console.log(t.userActivity,t.setPruebaReady,t.generatedSeries.ready,"actu"),t.userActivity.length>0&&t.setPruebaReady&&!t.generatedSeries.ready&&(console.log("exxecutao"),console.log(t.userActivity,"useactivity"),function(e,t){console.log("called");var a=new Worker("/worker2.js");a.postMessage(e),a.onmessage=function(e){console.log(e.data,"posesions generated");var a=e.data;t(a)}}(t.userActivity,(function(e){console.log("exxecutao2"),a({type:"STORE_GENERATED_SERIES",payload:e})})))}),[t.setPruebaReady,t.generatedSeries])},Oc=a(260),fc=a(400),gc=a.n(fc),mc=a(7),xc=a.n(mc);Vn.a.setOptions({global:{useUTC:!1},lang:{rangeSelectorZoom:""}});var vc=function(e){var t=e.datos,a=Object(n.useRef)(null);Object(n.useRef)(null);_n(a.current);var c=N().state.addFirstSerie,o=Object(n.useState)(""),r=Object(i.a)(o,2),l=r[0],u=r[1],d=Object(n.useState)(!1),j=Object(i.a)(d,2),b=j[0],p=j[1],h=Object(n.useState)(!1),O=Object(i.a)(h,2),f=O[0],g=O[1];!function(e){Object(n.useEffect)((function(){if(e){var t=Array.from(document.querySelectorAll(".highcharts-credits"));console.log(t,"creditsss"),t.forEach((function(e){e.remove()}))}}),[e])}(f);Object(n.useEffect)((function(){if(console.log(a.current,"chaart2221"),t){if(c)return void function(){var e=[],a=JSON.parse(localStorage.getItem("firstDate"));e=[].concat(Object(y.a)(e),[[a,1e3]]);var n=Object.keys(t)[0],c=t[n].liquidativeValue;e=[].concat(Object(y.a)(e),[[Date.now(),c]]),u(e)}();!function(){var e,a=[];Object.keys(t).forEach((function(n,c){console.log(n,"duuta");var o=n.split("-").map((function(e){return parseInt(e)})),r=new Date(o[0],o[1]-1,o[2]);console.log(r,"ttiiimo");var i=r.getTime();c||(e=i-1),console.log(new Date(i),"huuuuuuuuuue"),a.push(Object(s.a)(Object(s.a)({},t[n]),{},{date:i}))}));var n=a.map((function(e){return[e.date,e.liquidativeValue]}));n=[[e,1e3]].concat(Object(y.a)(n)),console.log(n,"dataridi"),u(n)}()}else p(!0)}),[t]);var m={chart:{type:"spline",zoomType:"x",events:{selection:function(e){e&&console.log(e)},load:function(e){g(!0),a.current=this}},id:"chart-stock",animation:{duration:225}},plotOptions:{candlestick:{color:"red",upColor:"rgb(22,177,87)",lineColor:"red",upLineColor:"rgb(22,177,87)",pointPadding:.02}},rangeSelector:{dropdown:"responsive",inputEnabled:!1},series:[{data:l,dataGrouping:{units:[["day",[1,2,3,4,5,8,16]],["week",[1,2,3,4]],["month",[1,2,3,4,6]]],smoothed:!0}}]};return Object(k.jsxs)(Ln.a,{className:"portfolio-chart",children:[b&&Object(k.jsx)("p",{children:"Data is not available untill next day after you submited a operation, if you submited in weekend wait till monday"}),l&&Object(k.jsx)(sa.a,{highcharts:Vn.a,options:m,constructorType:"stockChart"})]})},yc=function(){var e=N(),t=e.state,a=t.generatedSeries,c=t.portfolioHistory,o=t.areHistoricPricesReady,r=t.currentPossesions,l=t.simulation,d=t.addFirstSerie,j=e.dispatch,b=Object(n.useState)({available:!1,loading:!0}),p=Object(i.a)(b,2),h=p[0],O=h.available,f=h.loading,g=p[1];return Object(n.useEffect)((function(){if(d&&l.quotes){var e=function(){console.log("ejecutiio");var e={},t=Date.now();return r.stocks.forEach((function(t){var a=t.ticker;e=Object(s.a)(Object(s.a)({},e),{},Object(u.a)({},a,[]))})),r.stocks.forEach((function(a){var n=l.quotes.find((function(e){return e.ticker===a.ticker})).priceInfo.adjClose,c=a.unitaryCost;console.log(a.ticker,n,c,"chan");var o=(n-c)/c*100;console.log("chang",o),e=Object(s.a)(Object(s.a)({},e),{},Object(u.a)({},a.ticker,[].concat(Object(y.a)(e[a.ticker]),[[t,_(o)]])))})),e}();return j({type:"STORE_COMPANIES_CHANGE",payload:e}),void g({loading:!1,available:!0})}}),[o,a,l]),Object(n.useEffect)((function(){if(!d)if(Object.keys(c).length){if(o&&a.ready){var e=function(){var e={};r.stocks.forEach((function(t){var a=t.ticker;e=Object(s.a)(Object(s.a)({},e),{},Object(u.a)({},a,[]))})),console.log(e,"reeeeuuuer");var t=0;return Object.keys(a.data.dates).forEach((function(n){if(void 0!==c[n]){var o=be(n);console.log(c[n],"que cojooon"),Object.keys(c[n]).forEach((function(r){var i=a.data.dates[n].positions.find((function(e){return r===e.ticker}));if(i){console.log(i,"wasInport");var l=c[n][r].close,d=e[r]&&e[r].length>0&&e[r][e[r].length-1][2];d?t=100*(l-d)/d:(console.log(l,"clooose"),t=100*(l-i.unitaryCost)/i.unitaryCost),console.log(e,e.ticker,r,"ttiiika"),e=Object(s.a)(Object(s.a)({},e),{},Object(u.a)({},r,[].concat(Object(y.a)(e[r]),[[o,_(t),l]]))),console.log(e,"resuuuuulto")}}))}})),console.log(e,"compachnage"),e}();j({type:"STORE_COMPANIES_CHANGE",payload:e}),g({loading:!1,available:!0})}}else g({loading:!1,available:!1})}),[o,a]),{available:O,loading:f}},kc=function(e){var t={chart:{type:"pie"},title:{text:void 0},plotOptions:{pie:{innerSize:100}},series:[{name:"Delivered amount",data:e.data}]};return Object(k.jsx)(sa.a,{highcharts:ra.a,options:t})},Sc=function(){var e=N().state,t=e.currentPossesions.stocks,a=Object(n.useState)(""),c=Object(i.a)(a,2),o=c[0],r=c[1];return Object(n.useEffect)((function(){t.length>0&&e.areHistoricPricesReady&&function(e,t){t(e.map((function(e){return[e.ticker,e.proportion]})))}(function(){var a=[],n=0;return console.log(t,"staaacks"),t.forEach((function(t){console.log(e.portfolioHistoryByCompany);var c,o=e.portfolioHistoryByCompany[t.ticker];if(console.log(o,"hastory"),o&&o.length>0)c=o[o.length-1][1]*t.amount;else{var r=e.currentPossesions.stocks.find((function(e){return e.ticker===t.ticker}));c=r.amount*r.unitaryCost}n+=c,a=[].concat(Object(y.a)(a),[{ticker:t.ticker,marketVal:c}])})),console.log(a,"elmarketall"),a.map((function(e){return e.proportion=e.marketVal/n*100,e}))}(),(function(e){r(e)}))}),[t,e.areHistoricPricesReady]),Object(k.jsx)(Ln.a,{children:o.length&&Object(k.jsx)(kc,{data:o})})},Cc=function(e){var t=e.available,a=e.loading,c=Object(n.useState)(""),o=Object(i.a)(c,2),r=o[0],s=o[1],l=N(),u=l.state,d=(l.dispatch,u.companiesChange);Object(n.useRef)([]),Object(n.useRef)([]);Object(n.useEffect)((function(){if(!a&&t){var e=j(d);s(e)}}),[t]);var j=function(e){var t=[];return Object.entries(e).forEach((function(e){console.log(e,"avoora");var a=e[0],n=e[1].filter((function(e){return Math.abs(e[1])>.1}));t=[].concat(Object(y.a)(t),[{type:"column",name:a,data:n}])})),t},b={chart:{type:"column",alignTicks:!1},plotOptions:{series:{dataGrouping:{approximation:"average",units:[["week",[1]],["month",[1,2,3,4,6]]]}}},series:r};return a?Object(k.jsx)("p",{children:"loading..."}):Object(k.jsxs)(Ln.a,{className:"performance-chart1",children:[!t&&Object(k.jsx)("p",{children:"Data is not available untill next day after you submited a operation, if you submited in weekend wait till monday"}),r&&Object(k.jsx)(sa.a,{highcharts:Vn.a,options:b,constructorType:"stockChart"})]})},Tc=function(){var e=N().state,t=e.generatedSeries,a=Object(n.useState)(),c=Object(i.a)(a,2),o=c[0],r=c[1],l=Object(n.useState)(!1),d=Object(i.a)(l,2),j=d[0],b=d[1],p=Object(n.useState)(!1),h=Object(i.a)(p,2),O=h[0],f=h[1];Object(n.useEffect)((function(){(console.log(e.companiesImpact,t,"sorios"),e.companiesImpact.ready&&t.ready)?(e.companiesImpact.data||(b(!1),f(!0)),e.companiesImpact.data&&(console.log(e.companiesImpact.data,"company impct"),b(!1),function(e,t){var a=[];Object.entries(e).forEach((function(e){var t=e[0],n=e[1];a=[].concat(Object(y.a)(a),[{type:"column",name:t,data:n}])})),t(a)}(function(){var t={};if(Object.keys(e.companiesImpact.data).forEach((function(a){e.companiesImpact.data[a].forEach((function(n){void 0===t[n.ticker]&&(t=Object(s.a)(Object(s.a)({},t),{},Object(u.a)({},n.ticker,[])));var c=be(a),o=e.companiesImpact.data[a].find((function(e){return e.ticker===n.ticker}));o&&(t[n.ticker]=[].concat(Object(y.a)(t[n.ticker]),[[c,o.performance]]))}))})),console.log(t,"ruuudi"),t.other&&t.other.length>0){var a=t.other.filter((function(e){return Math.abs(e[1])>.1}));t=Object(s.a)(Object(s.a)({},t),{},{relevantOthers:a})}return t}(),(function(e){r(e)})))):b(!0)}),[e.companiesImpact,t]);var g={chart:{type:"column",alignTicks:!1},plotOptions:{column:{stacking:"normal"},series:{dataGrouping:{approximation:"average",units:[["week",[1]],["month",[1,2,3,4,6]]]}}},series:o};return Object(k.jsxs)(Ln.a,{children:[j&&Object(k.jsx)("p",{children:"Loading..."}),O&&Object(k.jsx)("p",{children:"Data is not available untill next day after you submited a operation, if you submited in weekend wait till monday"}),o&&Object(k.jsx)(sa.a,{highcharts:Vn.a,options:g,constructorType:"stockChart"})]})},Ec=a(193),wc=a.n(Ec),Nc=a(416),Ic=Object(j.a)({root:{padding:0}}),Rc=function(e){var t=e.openSorter,a=e.setOpenSorter,c=e.handleSorting,o=e.handleSelected,r=e.selected,i=Ic(),s=Object(n.useRef)(!0);Object(n.useEffect)((function(){r&&!s.current&&c(r),s.current=!1}),[r]);var l=Object(rn.a)({root:{"&:hover":{backgroundColor:"antiquewhite"},backgroundColor:"antiquewhite"}})(At.a);return Object(k.jsx)("div",{children:Object(k.jsxs)(Nc.a,{id:"simple-menu",anchorEl:t,keepMounted:!0,open:Boolean(t),onClose:function(){a(null)},disableScrollLock:!0,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},classes:{list:i.root},children:[Object(k.jsx)(l,{children:"Sort By:"}),Object(k.jsx)(At.a,{onClick:function(){o("alphabetical")},className:"alphabetical"===r?"menu-item--selected":null,children:"Alphabetical"}),Object(k.jsx)(At.a,{onClick:function(){o("Relevance")},className:"Relevance"===r?"menu-item--selected":null,children:"Relevance"}),Object(k.jsx)(At.a,{onClick:function(){o("change")},className:"change"===r?"menu-item--selected":null,children:"Change %"})]})})},Ac=function(e){var t=e.setQuery,a=e.query;return Object(k.jsx)(re.a,{placeholder:"...",value:a,onChange:function(e){t(e.target.value)},inputRef:function(e){return e&&e.focus()}})},Pc=function(e,t){switch(t.type){case"SET_LOADING":return Object(s.a)(Object(s.a)({},e),{},{loading:!0});case"SET_ERROR":return Object(s.a)(Object(s.a)({},e),{},{loading:!1,error:t.payload});case"SET_SUCCESS":return Object(s.a)(Object(s.a)({},e),{},{loading:!1,logos:t.payload,successLogo:!0});default:return e}},Lc=function(){var e=N().state,t=e.companiesChange,a=Object(n.useState)(""),c=Object(i.a)(a,2),o=c[0],r=c[1],l=Object(n.useState)(!1),u=Object(i.a)(l,2),d=u[0],j=u[1],b=Object(n.useState)({quotes:""}),p=Object(i.a)(b,2),h=p[0].quotes,O=p[1],f=Object(n.useRef)(null),m=Object(n.useReducer)(Pc,{logos:[],loading:!1,error:null,successLogo:!1}),x=Object(i.a)(m,2),v=x[0],S=v.logos,C=(v.error,v.successLogo),T=x[1],E=Object(n.useState)(!1),w=Object(i.a)(E,2),I=w[0],R=w[1],A=Object(n.useState)(null),P=Object(i.a)(A,2),L=P[0],_=P[1];Object(n.useEffect)((function(){if(e.currentPossesions.stocks.length>0){console.log("axactua"),W(e.currentPossesions.stocks);var t=e.currentPossesions.stocks.map((function(e){return e.ticker}));K(t)}}),[e.currentPossesions]);Object(n.useEffect)((function(){if(console.log(C,h,"quee coja"),C&&h){var a=Object(y.a)(e.currentPossesions.stocks).map((function(a){a.change=function(e){if(!t)return 0;var a=t[e];return a.length?a[a.length-1][1]:0}(a.ticker);var n=S.find((function(e){return a.ticker.toUpperCase()===e.ticker.toUpperCase()})),c=n.logourl,o=n.weburl;if(a.name=n.company_name,"peopleFund"===a.assetType){console.log(e.portfolioHistoryByCompany,e.areHistoricPricesReady,a.ticker,"ka co\xf1u");var r=e.portfolioHistoryByCompany[a.ticker];console.log(r,"odsoidjwo");var i=r.length?r[r.length-1][1]:a.unitaryCost;a.value=i*a.amount}if("stock"===a.assetType){a.logo=c||"https://logo.clearbit.com/".concat(o,"?size=50");var s=h.find((function(e){return a.ticker.toUpperCase()===e.ticker.toUpperCase()}));a.value=s.priceInfo.close*a.amount}return a}));f.current=a,r(a),j(!1)}}),[C,h,t]);var D=Object(n.useState)(""),F=Object(i.a)(D,2),M=F[0],B=F[1],W=function(e){j(!0),T({type:"SET_LOADING"}),fetch("".concat("https://financeapp-v1.herokuapp.com","/api/v1/recurringTasks/companiesInfo/companies_url"),{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({positions:e})}).then((function(e){return e.json()})).then((function(e){T({type:"SET_SUCCESS",payload:e})})).catch((function(e){T({type:"SET_ERROR",payload:e.message})}))},K=function(e){fetch("".concat("https://financeapp-v1.herokuapp.com","/api/v1/recurringTasks/companiesInfo/quotes"),{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({tickers:e})}).then((function(e){return e.json()})).then((function(e){console.log(e,"ruuus"),O((function(t){return Object(s.a)(Object(s.a)({},t),{},{quotes:e[0]})}))}))},U=Object(n.useState)(""),G=Object(i.a)(U,2),H=G[0],q=G[1];Object(n.useEffect)((function(){if(o){var e=f.current.filter((function(e){return e.name.toLowerCase().includes(H.toLowerCase())||e.ticker.toLowerCase().includes(H.toLowerCase())}));r(e)}}),[H]);return Object(k.jsx)(Ln.a,{className:"positions",children:d?Object(k.jsx)(je,{}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("header",{children:[Object(k.jsx)("h3",{children:"My Assets"}),Object(k.jsxs)("div",{className:"header-actions",children:[I&&Object(k.jsx)(Ac,{query:H,setQuery:q}),L&&Object(k.jsx)(Rc,{openSorter:L,setOpenSorter:_,setReadyState:r,handleSorting:function(e){!function(e){switch(e){case"alphabetical":return void r((function(e){return e.sort((function(e,t){return e-t}))}));case"Relevance":return void r((function(e){return e.sort((function(e,t){return e.value-t.value}))}));case"change":r((function(e){return e.sort((function(e,t){return e.change-t.change}))}))}}(e),_(null)},handleSelected:function(e){if(M===e)return B(""),void _(null);B(e)},selected:M}),Object(k.jsx)(g.a,{onClick:function(){_(null),R(!0)},children:Object(k.jsx)(Ue.a,{})}),Object(k.jsx)(g.a,{onClick:function(e){R(!1),_(e.currentTarget)},children:Object(k.jsx)(wc.a,{})})]})]}),Object(k.jsx)("div",{className:"positions-body",children:Object(k.jsx)("ul",{children:o&&o.map((function(e){return Object(k.jsx)(_c,{asset:e})}))})})]})})},_c=function(e){var t=e.asset;return Object(k.jsxs)("li",{children:[Object(k.jsx)(ie.a,{style:{backgroundColor:"white"}}),"stock"===t.assetType?Object(k.jsx)("img",{className:"logo",src:t.logo,alt:"".concat(t.ticker,"-logo")}):Object(k.jsx)(Dc,{fundId:t.fundId}),Object(k.jsxs)("div",{className:"additional-wrap",children:[Object(k.jsxs)("p",{className:"field-2",children:[Object(k.jsxs)("h5",{children:[t.ticker," (",t.name,")"]}),Object(k.jsxs)("p",{children:["Qty: ",t.amount]})]}),Object(k.jsxs)("p",{className:"field-3",children:[Object(k.jsx)("p",{children:L.format(t.value)}),Object(k.jsxs)("p",{children:[t.change,"%"]})]})]})]},t.ticker)},Dc=function(e){var t=e.fundId,a=Object(n.useState)(null),c=Object(i.a)(a,2),o=c[0],r=c[1];return Object(n.useEffect)((function(){t&&function(){var e=Object(Y.a)(V.a.mark((function e(t){var a,n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://financeapp-v1.herokuapp.com","/api/v1/people/image/").concat(t));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,console.log("hooola gay"),console.log(n,"funndi"),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(t).then((function(e){console.log(e,"wiejoiwh"),e&&r(e)})).catch((function(e){throw e}))}),[]),o&&Object(k.jsx)("img",{className:"logo",src:"".concat("https://financeapp-v1.herokuapp.com","/")+o})},Fc="this shows the real impact of every indivual asset on the daily net return of the investment portfolio as a whole",Mc=function(e){pc();var t=N().state,a=t.portfolioSeriesReady,n=(t.stockLibrary,q().userState),c=yc(),o=c.available,r=c.loading;return console.log(t.stockLibrary,"stokklibrai"),n.isAuthenticated?t.areHistoricPricesReady?t.stockLibrary.length?Object(k.jsxs)("main",{className:"dasboard-grid--desktop",children:[Object(k.jsxs)("div",{className:"principal",children:[Object(k.jsxs)("div",{className:"",children:[Object(k.jsx)(Gc,{title:"Net Return",helperText:"this is the net return calculated from daily close prices"}),a?Object(k.jsx)(vc,{datos:t.portfolioSeries}):Object(k.jsx)("p",{children:"Loading..."})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)(Gc,{title:"Net Return by asset",helperText:"this shows the daily return for each individual asset over the time"}),Object(k.jsx)(Cc,{available:o,loading:r})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)(Gc,{title:"Weighted net return by asset",helperText:Fc}),Object(k.jsx)(Tc,{})]})]}),Object(k.jsxs)("div",{className:"secondary",children:[Object(k.jsx)(Kc,{children:Object(k.jsx)(Lc,{})}),Object(k.jsxs)("div",{children:[Object(k.jsx)(Gc,{title:"Portfolio Structure",helperText:Fc}),Object(k.jsx)(Sc,{})]})]})]}):Object(k.jsx)(Wc,{}):Object(k.jsx)("p",{children:"Initializing..."}):Object(k.jsx)(d.a,{to:{pathname:"/login",search:"?redirect=portfolio"}})},Bc=c.a.forwardRef((function(e,t){return Object(k.jsx)(Oe.a,Object(s.a)({ref:t},e))})),Wc=function(){var e=Object(d.g)(),t=Object(n.useState)(!0),a=Object(i.a)(t,2),c=a[0],o=a[1],r=function(){o(!1),e.push("/")};return Object(k.jsxs)(X.a,{TransitionComponent:Bc,open:c,onClose:r,children:[Object(k.jsx)($.a,{children:"Don't have any stock yet"}),Object(k.jsx)(he.a,{children:"Start adding stocks to be able to see performance metrics"}),Object(k.jsx)(ee.a,{children:Object(k.jsx)(p.a,{onClick:r,children:"Ok"})})]})},Kc=me.a.div({height:"400px",display:"flex",flexDirection:"column"}),Uc=me.a.div({display:"flex",alignItems:"center",justifyContent:"space-between"}),Gc=function(e){var t=e.title,a=e.helperText;return Object(k.jsxs)(Uc,{className:"chart-header",children:[Object(k.jsx)("h3",{children:t}),Object(k.jsx)(Oc.a,{title:a,enterDelay:500,leaveDelay:200,children:Object(k.jsx)(g.a,{size:"small",children:Object(k.jsx)(gc.a,{fontSize:"small"})})})]})};Gc.propsTypes={title:xc.a.string.isRequired,helperText:xc.a.string};var Hc=function(){var e=Object(d.j)().path;return function(){var e=A().setMountApproval;Object(n.useEffect)((function(){e(!1)}),[])}(),Object(k.jsxs)(d.d,{children:[Object(k.jsx)(d.b,{path:"".concat(e,"/overview/:company"),exact:!0,children:Object(k.jsx)(Qn,{})}),Object(k.jsx)(d.b,{path:"".concat(e,"/keymetrics/:company"),exact:!0,children:Object(k.jsx)(Ea,{})}),Object(k.jsx)(d.b,{path:"".concat(e,"/financials/:company"),exact:!0,children:Object(k.jsx)(An,{})})]})},qc=function(){var e=A().showOverlay,t={width:"100%",height:"100%",position:"absolute",backgroundColor:"rgba(0,0,0,0.7)",transition:"opacity 0.2s ease",zIndex:4},a={entering:{opacity:0},entered:{opacity:1},exiting:{opacity:1},exited:{opacity:0}};return Object(k.jsx)(M.a,{in:e,mountOnEnter:!0,unmountOnExit:!0,timeout:300,children:function(e){return Object(k.jsx)("div",{style:Object(s.a)(Object(s.a)({},t),a[e])})}})};ra.a.setOptions({global:{useUTC:!1}});var zc=function(e){var t=e.datos,a=(e.title,e.setCurrentPerformance),c=void 0===a?function(){return null}:a,o=Object(n.useRef)(null),r=(N().state.addFirstSerie,Object(n.useState)("")),l=Object(i.a)(r,2),u=l[0],d=l[1],j=function(e,t){t((e[e.length-1][1]-1e3)/1e3*100)};Object(n.useEffect)((function(){t&&function(){var e,a=[];Object.keys(t).forEach((function(n,c){console.log(n,"duuta");var o=n.split("-").map((function(e){return parseInt(e)})),r=new Date(o[0],o[1]-1,o[2]).getTime();c||(e=r-1),a.push(Object(s.a)(Object(s.a)({},t[n]),{},{date:r}))}));var n=a.map((function(e){return[e.date,Math.floor(e.liquidativeValue)]}));n=[[e,1e3]].concat(Object(y.a)(n)),j(n,(function(e){c(e)})),d(n)}()}),[t]);var b={id:"people-overview-stockchart",chart:{type:"areaspline",events:{selection:function(e){e&&console.log(e)},load:function(e){o.current=this}},animation:!1,margin:[0,0,0,0],spacing:[0,0,0,0],borderWidth:0,crisp:!1},title:{text:""},yAxis:{min:0,title:{text:""},lineWidth:0,gridLineWidth:0,lineColor:"transparent",minorTickLength:0,tickLength:0,labels:{enabled:!1},minPadding:0,maxPadding:0},xAxis:{crosshair:!1,lineWidth:0,gridLineWidth:0,lineColor:"transparent",minorTickLength:0,tickLength:0,labels:{enabled:!1},minPadding:0,maxPadding:0},plotOptions:{column:{pointPadding:.2,borderWidth:0},series:{animation:!1,marker:{enabled:!1,states:{hover:{enabled:!1}}}}},rangeSelector:{enabled:!1},navigator:{enabled:!1},scrollbar:{enabled:!1},tooltip:{enabled:!1},credits:{enabled:!1},legend:{enabled:!1},series:[{data:u,color:{linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,"#FF0080"],[1,"#FFFFFF"]]}}]};return Object(k.jsx)(k.Fragment,{children:u&&Object(k.jsx)(sa.a,{highcharts:ra.a,options:b,constructorType:"chart",containerProps:{class:"people-overview-stockchart"}})})},Jc=function(e){var t=e.generatedSeries,a=e.portfolioHistory,c=e.currentPossesions,o=Object(n.useState)({available:!1,loading:!0}),r=Object(i.a)(o,2),l=r[0],d=(l.available,l.loading,r[1]),j=Object(n.useState)(""),b=Object(i.a)(j,2),p=b[0],h=b[1];return Object(n.useEffect)((function(){var e=function(){var e={};c.forEach((function(t){var a=t.ticker;e=Object(s.a)(Object(s.a)({},e),{},Object(u.a)({},a,[]))}));var n=0;return Object.keys(t.dates).forEach((function(c){if(void 0!==a[c]){var o=be(c);Object.keys(a[c]).forEach((function(r){var i=t.dates[c].positions.find((function(e){return r===e.ticker}));if(i){console.log(i,"wasInport");var l=a[c][r].close,d=e[r]&&e[r].length>0&&e[r][e[r].length-1][2];d?n=100*(l-d)/d:(console.log(l,"clooose"),n=100*(l-i.unitaryCost)/i.unitaryCost),e=Object(s.a)(Object(s.a)({},e),{},Object(u.a)({},r,[].concat(Object(y.a)(e[r]),[[o,_(n),l]])))}}))}})),console.log(e,"compachnage"),e}();h(e),d({loading:!1,available:!0})}),[]),{companiesChange:p}},Vc=function(e,t){switch(t.type){case"SET_LOADING":return Object(s.a)(Object(s.a)({},e),{},{loading:!0});case"SET_ERROR":return Object(s.a)(Object(s.a)({},e),{},{loading:!1,error:t.payload});case"SET_SUCCESS":return Object(s.a)(Object(s.a)({},e),{},{loading:!1,logos:t.payload,successLogo:!0});default:return e}},Yc=function(e){var t=e.currentPossesions,a=e.companiesChange,c=Object(n.useState)(""),o=Object(i.a)(c,2),r=o[0],l=o[1],u=Object(n.useState)(!1),d=Object(i.a)(u,2),j=d[0],b=d[1],p=Object(n.useState)({quotes:""}),h=Object(i.a)(p,2),O=h[0].quotes,f=h[1],m=Object(n.useRef)(null),x=Object(n.useReducer)(Vc,{logos:[],loading:!1,error:null,successLogo:!1}),v=Object(i.a)(x,2),S=v[0],C=S.logos,T=(S.error,S.successLogo),E=v[1],w=Object(n.useState)(!1),N=Object(i.a)(w,2),I=N[0],R=N[1],A=Object(n.useState)(null),P=Object(i.a)(A,2),_=P[0],D=P[1];Object(n.useEffect)((function(){if(t.length>0){console.log("axactua"),K(t);var e=t.map((function(e){return e.ticker}));U(e)}}),[t]);Object(n.useEffect)((function(){if(console.log(T,O,"quee coja"),T&&O){var e=Object(y.a)(t).map((function(e){e.change=function(e){if(!a)return 0;var t=a[e];return t.length?t[t.length-1][1]:0}(e.ticker);var t=C.find((function(t){return e.ticker.toUpperCase()===t.ticker.toUpperCase()})),n=t.logourl,c=t.weburl;e.logo=n||"https://logo.clearbit.com/".concat(c,"?size=50"),e.name=t.company_name;var o=O.find((function(t){return e.ticker.toUpperCase()===t.ticker.toUpperCase()}));return e.value=o.priceInfo.close*e.amount,e}));m.current=e,l(e),b(!1)}}),[T,O,a]);var F=Object(n.useState)(""),M=Object(i.a)(F,2),B=M[0],W=M[1],K=function(e){b(!0),E({type:"SET_LOADING"}),fetch("".concat("https://financeapp-v1.herokuapp.com","/api/v1/recurringTasks/companiesInfo/companies_url"),{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({positions:e})}).then((function(e){return e.json()})).then((function(e){E({type:"SET_SUCCESS",payload:e})})).catch((function(e){E({type:"SET_ERROR",payload:e.message})}))},U=function(e){fetch("".concat("https://financeapp-v1.herokuapp.com","/api/v1/recurringTasks/companiesInfo/quotes"),{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({tickers:e})}).then((function(e){return e.json()})).then((function(e){console.log(e,"ruuus"),f((function(t){return Object(s.a)(Object(s.a)({},t),{},{quotes:e[0]})}))}))},G=Object(n.useState)(""),H=Object(i.a)(G,2),q=H[0],z=H[1];Object(n.useEffect)((function(){if(r){var e=m.current.filter((function(e){return e.name.toLowerCase().includes(q.toLowerCase())||e.ticker.toLowerCase().includes(q.toLowerCase())}));l(e)}}),[q]);return Object(k.jsx)(Ln.a,{className:"positions",children:j?Object(k.jsx)(je,{}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("header",{children:[Object(k.jsx)("h3",{children:"My Assets"}),Object(k.jsxs)("div",{className:"header-actions",children:[I&&Object(k.jsx)(Ac,{query:q,setQuery:z}),_&&Object(k.jsx)(Rc,{openSorter:_,setOpenSorter:D,setReadyState:l,handleSorting:function(e){!function(e){switch(e){case"alphabetical":return void l((function(e){return e.sort((function(e,t){return e-t}))}));case"Relevance":return void l((function(e){return e.sort((function(e,t){return e.value-t.value}))}));case"change":return void l((function(e){return e.sort((function(e,t){return e.change-t.change}))}));default:;}}(e),D(null)},handleSelected:function(e){if(B===e)return W(""),void D(null);W(e)},selected:B}),Object(k.jsx)(g.a,{onClick:function(){D(null),R(!0)},children:Object(k.jsx)(Ue.a,{})}),Object(k.jsx)(g.a,{onClick:function(e){R(!1),D(e.currentTarget)},children:Object(k.jsx)(wc.a,{})})]})]}),Object(k.jsx)("div",{className:"positions-body",children:Object(k.jsx)("ul",{children:r&&r.map((function(e){return Object(k.jsxs)("li",{children:[Object(k.jsx)(ie.a,{}),Object(k.jsx)("img",{className:"logo",src:e.logo,alt:"".concat(e.ticker,"-logo")}),Object(k.jsxs)("div",{className:"additional-wrap",children:[Object(k.jsxs)("p",{className:"field-2",children:[Object(k.jsxs)("h5",{children:[e.ticker," (",e.name,")"]}),Object(k.jsxs)("p",{children:["Qty: ",e.amount]})]}),Object(k.jsxs)("p",{className:"field-3",children:[Object(k.jsx)("p",{children:L.format(e.value)}),Object(k.jsxs)("p",{children:[e.change,"%"]})]})]})]},e.name)}))})})]})})},Qc=function(e){var t=e.companiesChange,a=e.available,c=void 0===a||a,o=Object(n.useState)(""),r=Object(i.a)(o,2),s=r[0],l=r[1],u=Object(n.useState)(!0),d=Object(i.a)(u,2),j=d[0],b=d[1];Object(n.useEffect)((function(){t&&b(!1);var e=p(t);l(e)}),[t]);var p=function(e){console.log(e,"dutitu");var t=[];return Object.entries(e).forEach((function(e){console.log(e,"avoora");var a=e[0],n=e[1].filter((function(e){return Math.abs(e[1])>.1}));t=[].concat(Object(y.a)(t),[{type:"column",name:a,data:n}])})),t},h={chart:{type:"column",alignTicks:!1},title:{text:"AAPL Stock Volume"},plotOptions:{series:{dataGrouping:{approximation:"average",units:[["week",[1]],["month",[1,2,3,4,6]]]}}},series:s};return j?Object(k.jsx)("p",{children:"loading..."}):Object(k.jsxs)(Ln.a,{className:"performance-chart1",children:[!c&&Object(k.jsx)("p",{children:"Data is not available untill next day after you submited a operation, if you submited in weekend wait till monday"}),!t&&Object(k.jsx)(je,{}),s&&Object(k.jsx)(sa.a,{highcharts:Vn.a,options:h,constructorType:"stockChart"})]})},Zc=function(e){var t=e.companiesImpact,a=Object(n.useState)(),c=Object(i.a)(a,2),o=c[0],r=c[1],l=Object(n.useState)(!1),d=Object(i.a)(l,2),j=d[0],b=d[1];Object(n.useEffect)((function(){b(!1),function(e,t){var a=[];Object.entries(e).forEach((function(e){var t=e[0],n=e[1];a=[].concat(Object(y.a)(a),[{type:"column",name:t,data:n}])})),t(a)}(function(){var e={};if(Object.keys(t).forEach((function(a){t[a].forEach((function(n){void 0===e[n.ticker]&&(e=Object(s.a)(Object(s.a)({},e),{},Object(u.a)({},n.ticker,[])));var c=be(a),o=t[a].find((function(e){return e.ticker===n.ticker}));o&&(e[n.ticker]=[].concat(Object(y.a)(e[n.ticker]),[[c,o.performance]]))}))})),console.log(e,"ruuudi"),e.other&&e.other.length>0){var a=e.other.filter((function(e){return Math.abs(e[1])>.1}));e=Object(s.a)(Object(s.a)({},e),{},{relevantOthers:a})}return e}(),(function(e){r(e)}))}),[]);var p={chart:{type:"column",alignTicks:!1},title:{text:"AAPL Stock Volume"},plotOptions:{column:{stacking:"normal"},series:{dataGrouping:{approximation:"average",units:[["week",[1]],["month",[1,2,3,4,6]]]}}},series:o};return Object(k.jsxs)(Ln.a,{children:[j&&Object(k.jsx)("p",{children:"Loading..."}),o&&Object(k.jsx)(sa.a,{highcharts:Vn.a,options:p,constructorType:"stockChart"})]})},Xc=function(e){var t=e.portfolioHistory,a=e.currentPossesions,c=Object(n.useState)(""),o=Object(i.a)(c,2),r=o[0],s=o[1];return Object(n.useEffect)((function(){a.length>0&&function(e,t){t(e.map((function(e){return[e.ticker,e.proportion]})))}(function(){var e=[],n=0,c=Object.keys(t),o=c[c.length-1];return Object.entries(t[o]).forEach((function(t){var c=Object(i.a)(t,2),o=c[0],r=c[1],s=a.find((function(e){return e.ticker===o}));if(s){var l=s.amount,u=r.close*l;n+=u,e=[].concat(Object(y.a)(e),[{ticker:o,marketVal:u}])}})),e.map((function(e){return e.proportion=e.marketVal/n*100,e}))}(),(function(e){s(e)}))}),[]),Object(k.jsx)(Ln.a,{children:r.length&&Object(k.jsx)(kc,{data:r})})},$c=a(852),eo=a(836),to=a(837),ao=a(253),no=a(401),co=a.n(no),oo=function(e){var t=e.operations,a=c.a.useState(!1),n=Object(i.a)(a,2),o=n[0],r=n[1];return Object(k.jsxs)("div",{children:[Object(k.jsx)(so,{}),t.map((function(e,t){return Object(k.jsxs)($c.a,{expanded:o==="panel".concat(t),onChange:(a="panel".concat(t),function(e,t){r(!!t&&a)}),children:[Object(k.jsx)(eo.a,{expandIcon:Object(k.jsx)(co.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:Object(k.jsx)(ro,{op:e})}),Object(k.jsx)(to.a,{children:Object(k.jsx)(f.a,{children:"Nulla facilisi. Phasellus sollicitudin nulla et quam mattis feugiat. Aliquam eget maximus est, id dignissim quam."})})]},t);var a}))]})},ro=function(e){var t=e.op,a=Object(d.g)(),n=t.details,c=n.ticker,o=n.amount,r=n.unitaryCost,i=[{id:1,date:t.date,type:t.operationType,ticker:c,amount:o,price:r}];return Object(k.jsx)(ao.a,{rows:i,columns:[{field:"id",hide:!0},{field:"date",headerName:"Column 1",flex:1},{field:"type",headerName:"Column 2",flex:1},{field:"ticker",headerName:"Column 2",flex:1},{field:"amount",headerName:"Column 2",flex:1},{field:"price",headerName:"Column 2",flex:1}],headerHeight:0,hideFooter:!0,autoHeight:!0,density:"standard",onCellClick:function(e){"ticker"===e.field&&a.push("/companies/overview/".concat(e.value))}})},io=Object(j.a)({accordeon:{display:"none"}}),so=function(){var e=io();return Object(k.jsx)("div",{className:"operations-header",children:Object(k.jsx)(ao.a,{rows:[{id:1,date:"",type:"",ticker:"",amount:"",price:""}],columns:[{field:"id",hide:!0},{field:"date",headerName:"date",flex:1},{field:"type",headerName:"type",flex:1},{field:"ticker",headerName:"ticker",flex:1},{field:"amount",headerName:"amount",flex:1},{field:"price",headerName:"price",flex:1},{field:"extra space",headerName:"",width:50}],hideFooter:!0,autoHeight:!0,rowHeight:0,classes:{overlay:e.accordeon},density:"compacted"})})},lo=function(e){var t=e.data;console.log(t,"datonata");var a=Object(n.useRef)(null),c=t.prices,o=t.currentStocks,r=t.possesionsSeries,i=t.companiesImpact,s=t.readyOperations,l=Jc({generatedSeries:r,portfolioHistory:c,currentPossesions:o}).companiesChange;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("main",{className:"dasboard-grid--desktop",children:[Object(k.jsxs)("div",{className:"principal",children:[Object(k.jsx)("div",{ref:a,children:Object(k.jsx)(zc,{datos:null===t||void 0===t?void 0:t.portfolio,title:"".concat(null===t||void 0===t?void 0:t.user.username," Portfolio"),ref:a})}),Object(k.jsx)(Qc,{companiesChange:l}),Object(k.jsx)(Zc,{companiesImpact:i})]}),Object(k.jsxs)("div",{className:"secondary",children:[Object(k.jsx)(Yc,{companiesChange:l,currentPossesions:o}),Object(k.jsx)(Xc,{portfolioHistory:c,currentPossesions:o})]})]}),Object(k.jsx)(oo,{operations:s})]})},uo=function(){var e=Object(d.i)().id,t=Object(n.useState)({data:null,loading:!1,error:""}),a=Object(i.a)(t,2),c=a[0],o=c.data,r=c.loading,l=c.error,u=a[1],j=Object(n.useState)(null),b=Object(i.a)(j,2),p=b[0],h=b[1];Object(n.useEffect)((function(){console.log("randarad"),u((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!0})})),fetch("".concat("https://financeapp-v1.herokuapp.com","/api/v1/people/").concat(e)).then((function(e){return e.json()})).then((function(e){u((function(t){return Object(s.a)(Object(s.a)({},t),{},{loading:!1,data:e})}))})).catch((function(e){u((function(t){return Object(s.a)(Object(s.a)({},t),{},{error:e.message,loading:!1})}))}))}),[]),Object(n.useEffect)((function(){console.log(o,"la datana"),O()}),[o]);var O=function(){if(o){console.log(o,"portfoliou");var e=Object.keys(o.portfolio),t=e[e.length-1];h(o.portfolio[t].liquidativeValue)}},f={loading:!1,error:"",currentPrice:p};return Object(k.jsx)("div",{children:r?Object(k.jsx)("p",{children:"Loading..."}):l?Object(k.jsx)("p",{children:l}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Ae,Object(s.a)(Object(s.a)({ticker:null===o||void 0===o?void 0:o.user.username},f),{},{assetType:"peopleFund",fundId:e})),o&&Object(k.jsx)(lo,{data:o})]})})},jo=a(838),bo=(a(515),a(402)),po=a.n(bo),ho=function(e){var t=e.person,a=t.user,c=t.portfolio,o=Object(n.useState)(null),r=Object(i.a)(o,2),s=r[0],l=r[1];return Object(k.jsxs)(Ln.a,{className:"people-item",children:[a.username&&Object(k.jsx)(Oo,{children:Object(k.jsxs)("div",{className:"people-item__header",children:[Object(k.jsx)(ye.b,{to:"/people/".concat(a.userId),children:Object(k.jsx)(go,{user:a})}),Object(k.jsx)("h6",{className:"people-item__username",children:Object(k.jsx)(ye.b,{to:"/people/".concat(a.userId),children:a.username})})]})}),Object(k.jsx)(fo,{children:function(e){return Object(k.jsx)(zc,{datos:c,title:"".concat(a.firstName," Portfolio"),setCurrentPerformance:l,chartWrapper:e})}}),Object(k.jsx)(mo,{currentPerformance:s})]})},Oo=function(e){var t=e.children;return Object(k.jsx)(k.Fragment,{children:t})},fo=function(e){var t=e.children,a=Object(n.useRef)(null);return Object(k.jsx)("div",{ref:a,className:"people-item__chartWrapper",children:t(a)})},go=function(e){var t=e.user,a=Object(n.useState)(!1),c=Object(i.a)(a,2),o=c[0],r=c[1];return Object(k.jsxs)("div",{className:"people-item__image-container",children:[t.image?Object(k.jsx)("img",{src:"".concat("https://financeapp-v1.herokuapp.com","/").concat(t.image),className:o?"people-item__image--loaded":"people-item__image",onLoad:function(){r(!0)}}):Object(k.jsx)("img",{src:"https://hope.be/wp-content/uploads/2015/05/no-user-image.gif",className:o?"people-item__image--loaded":"people-item__image",onLoad:function(){r(!0)}}),!o&&Object(k.jsx)(yt.a,{style:{width:"100%",height:"100%"}})]})},mo=function(e){var t=e.currentPerformance;return t?Object(k.jsxs)("p",{className:"people__item__performace",children:[Object(k.jsx)(po.a,{style:{transform:"scale(0.7)"}}),t,"%"]}):null},xo=function(e,t){switch(t.type){case"fetching":return Object(s.a)(Object(s.a)({},e),{},{loading:!0});case"success":return Object(s.a)(Object(s.a)({},e),{},{loading:!1,data:t.payload});case"error":return Object(s.a)(Object(s.a)({},e),{},{loading:!1,error:t.payload});default:return e}},vo=function(){var e=Object(n.useReducer)(xo,{data:null,loading:!0,error:""}),t=Object(i.a)(e,2),a=t[0],c=t[1],o=a.data,r=a.loading,l=a.error;Object(n.useEffect)((function(){console.log(o,"doooto")}),[o]);return Object(n.useEffect)((function(){fetch("".concat("https://financeapp-v1.herokuapp.com","/api/v1/people/main")).then((function(e){return e.json()})).then((function(e){return e.map((function(e){var t=e.portfolio,a=t;return"string"===typeof t&&(a=JSON.parse(t)),Object(s.a)(Object(s.a)({},e),{},{portfolio:a})}))})).then((function(e){c({type:"success",payload:e})})).catch((function(e){c({type:"error",payload:e.message})}))}),[]),Object(k.jsx)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-evenly"},children:r?Object(k.jsx)(jo.a,{}):l?Object(k.jsx)("p",{children:l}):o&&o.map((function(e){return Object(k.jsx)(ho,{person:e},e.user.username)}))})},yo=function(){var e=Object(d.j)().path;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(d.b,{path:e,exact:!0,children:Object(k.jsx)(vo,{})}),Object(k.jsx)(d.b,{path:"".concat(e,"/:id"),children:Object(k.jsx)(uo,{})})]})},ko=(a(254),a(88)),So=a(89),Co=a(118),To=a(101),Eo=a(100),wo=a(150),No=a.n(wo),Io=a(839),Ro=a(406),Ao=a.n(Ro),Po=a(407),Lo=a.n(Po),_o=a(408),Do=a.n(_o),Fo=a(405),Mo=a.n(Fo),Bo=a(404),Wo=a.n(Bo),Ko=a(403),Uo=a.n(Ko),Go=No.a.Editor,Ho=No.a.EditorState,qo=No.a.RichUtils,zo=No.a.getDefaultKeyBinding,Jo=(c.a.Component,{CODE:{backgroundColor:"rgba(0, 0, 0, 0.05)",fontFamily:'"Inconsolata", "Menlo", "Consolas", monospace',fontSize:16,padding:2}});function Vo(e){switch(e.getType()){case"blockquote":return"RichEditor-blockquote";default:return null}}var Yo=Object(rn.a)({root:{minWidth:"40px"}})((function(e){var t=e.classes,a=e.children;return Object(k.jsx)(p.a,Object(s.a)(Object(s.a)({classes:{root:t.root}},e),{},{children:a}))})),Qo=function(e){Object(To.a)(a,e);var t=Object(Eo.a)(a);function a(){var e;return Object(ko.a)(this,a),(e=t.call(this)).onToggle=function(t){t.preventDefault(),e.props.onToggle(e.props.style)},e}return Object(So.a)(a,[{key:"render",value:function(){this.props.classes;var e="RichEditor-styleButton";return this.props.active&&(e+=" RichEditor-activeButton"),Object(k.jsx)(Yo,{className:e,onClick:this.onToggle,children:this.props.label})}}]),a}(c.a.Component),Zo=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"},{label:Object(k.jsx)(Uo.a,{}),style:"blockquote"},{label:Object(k.jsx)(Wo.a,{}),style:"unordered-list-item"},{label:Object(k.jsx)(Mo.a,{}),style:"ordered-list-item"}],Xo=function(e){var t=e.editorState,a=t.getSelection(),n=t.getCurrentContent().getBlockForKey(a.getStartKey()).getType();return Object(k.jsx)("div",{className:"RichEditor-controls",children:Zo.map((function(t,a){return Object(k.jsx)(Qo,{active:t.style===n,label:t.label,onToggle:e.onToggle,style:t.style},a)}))})},$o=[{label:Object(k.jsx)(Ao.a,{}),style:"BOLD"},{label:Object(k.jsx)(Lo.a,{}),style:"ITALIC"},{label:Object(k.jsx)(Do.a,{}),style:"UNDERLINE"}],er=function(e){var t=e.editorState.getCurrentInlineStyle();return Object(k.jsx)("div",{className:"RichEditor-controls",children:Object(k.jsx)(Io.a,{size:"small","aria-label":"small outlined button group",children:$o.map((function(a,n){return Object(k.jsx)(Qo,{active:t.has(a.style),label:a.label,onToggle:e.onToggle,style:a.style},n)}))})})},tr=a(262),ar=(a(409),me.a.div({background:"lightblue",marginBottom:"100px",display:"grid"}),me.a.div({}),a(840)),nr=a(410),cr=a.n(nr),or=function(e){var t=e.href;return Object(k.jsx)("a",{href:t,children:Object(k.jsx)(p.a,{size:"large",startIcon:Object(k.jsx)(cr.a,{style:{width:"26px",height:"100%",color:"white"}}),style:{background:"#3b5998",color:"white",width:"100%"},children:"Continue with Facebook"})})},rr=Object(j.a)({formField:{marginBottom:"10px"}}),ir=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),r=Object(i.a)(o,2),l=r[0],u=r[1],j=Object(n.useState)({error:null,loading:!1}),b=Object(i.a)(j,2),h=b[0],O=h.error,f=h.loading,g=b[1],m=q(),x=m.userDispatch,v=m.userState.token,y=Object(d.g)(),S=Object(Ee.a)(),C=y.location.search?y.location.search.split("=")[1]:"",T=Object(Z.a)(),E=Object(ar.a)(T.breakpoints.down("sm")),w=rr();return console.log(v,"infotoken"),v?Object(k.jsx)(d.a,{to:{pathname:"/".concat(C)}}):O?Object(k.jsx)("p",{children:O}):f?Object(k.jsx)("p",{children:"Loading..."}):Object(k.jsx)(X.a,{open:!0,TransitionComponent:sr,onClose:function(){y.goBack()},children:Object(k.jsxs)("div",{className:"form",children:[Object(k.jsx)("h1",{className:"form__title",children:"Sign in"}),Object(k.jsx)("div",{className:"formLocal",children:Object(k.jsxs)("form",{onSubmit:function(e){console.log("upa"),e.preventDefault(),g((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!0})})),fetch("".concat("https://financeapp-v1.herokuapp.com","/api/v1/auth/login"),{headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:l}),method:"POST"}).then((function(e){if(!e.ok)throw new Error("error in passport middleware");return e})).then((function(e){return e.json()})).then((function(e){console.log(e,"reases"),localStorage.setItem("token",JSON.stringify(e.token)),x({type:"SET_USER_AND_TOKEN",payload:{email:a,token:e.token}}),g((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!1})}))})).catch((function(e){g({error:e.message,loading:!1})}))},children:[Object(k.jsx)(re.a,{size:E?"small":"large",type:"text",name:"email",value:a,label:"email",onChange:function(e){c(e.target.value)},required:!0,classes:{root:w.formField}}),Object(k.jsx)(re.a,{size:E?"small":"large",type:"password",name:"password",value:l,label:"password",onChange:function(e){u(e.target.value)},required:!0,classes:{root:w.formField}}),Object(k.jsx)(p.a,{type:"submit",color:"primary",variant:"contained",children:"Continue"}),Object(k.jsxs)("div",{className:"form__footer",children:[Object(k.jsx)("p",{children:"Need to sign up?"}),Object(k.jsx)(p.a,{onClick:function(){y.push(C?"/register?redirect=".concat(C):"/register",{background:S})},variant:"outlined",color:"primary",children:"Signup"})]})]})}),Object(k.jsx)("h5",{className:"form__or",children:"- OR -"}),Object(k.jsxs)("div",{className:"formOauth",children:[Object(k.jsx)(or,{href:"".concat("https://financeapp-v1.herokuapp.com","/api/v1/auth/oauth/facebook")}),Object(k.jsx)(or,{href:"".concat("https://financeapp-v1.herokuapp.com","/api/v1/auth/oauth/google")})]})]})})},sr=c.a.forwardRef((function(e,t){return Object(k.jsx)(rc.a,Object(s.a)({direction:"up",ref:t},e))})),lr=function(){var e=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!0),r=Object(i.a)(o,2),s=r[0],l=r[1],u=q(),d=u.userState;return u.userDispatch,Object(n.useEffect)((function(){l(!0),fetch("".concat("https://financeapp-v1.herokuapp.com","/api/v1/auth/post"),{headers:{Authorization:"bearer ".concat(d.token)}}).then((function(e){if(console.log(e,"resposns"),!e.ok)throw new Error("token not valid");console.log("success nena",e),c(!0),l(!1)})).catch((function(e){c(!1),l(!1),console.log(e.message)}))}),[]),{hasPermission:a,loading:s}}(),t=e.hasPermission;return e.loading?Object(k.jsx)("p",{children:"loading.."}):Object(k.jsx)(k.Fragment,{children:t?Object(k.jsx)("div",{children:"Mira que horto, sip est\xe1s autenticado"}):Object(k.jsx)(d.a,{to:{pathname:"/pruebaLogin"}})})},ur=a(841),dr=a(767),jr=a(768),br=a(411),pr=a.n(br),hr=a(842),Or=a(843),fr=Object(j.a)((function(e){return{formField:{marginBottom:"10px"},helperText:{color:"red"},textField:{width:"100%"},dialog:Object(u.a)({},e.breakpoints.down("sm"),{maxWidth:"none"})}})),gr=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),r=Object(i.a)(o,2),l=r[0],u=r[1],j=Object(n.useState)(""),b=Object(i.a)(j,2),h=b[0],O=b[1],f=Object(n.useState)(""),m=Object(i.a)(f,2),x=m[0],v=m[1],y=q().userDispatch,S=Object(n.useState)(null),C=Object(i.a)(S,2),T=C[0],E=C[1],w=Object(n.useState)(!1),N=Object(i.a)(w,2),I=N[0],R=N[1],A=He(a,800),P=He(l,800),L=Object(n.useState)({email:{error:null,valid:null},username:{error:null,valid:null},password:{error:null,valid:null}}),_=Object(i.a)(L,2),D=_[0],F=_[1];Object(n.useEffect)((function(){F(h&&x?h!==x?function(e){return Object(s.a)(Object(s.a)({},e),{},{password:{error:"passwords must match",valid:!1}})}:function(e){return Object(s.a)(Object(s.a)({},e),{},{password:{error:null,valid:!0}})}:function(e){return Object(s.a)(Object(s.a)({},e),{},{password:{error:null,valid:null}})})}),[h,x]);var M=Object(d.g)();console.log(M,"historyya");var B=M.location.search?M.location.search.split("=")[1]:"";Object(n.useEffect)((function(){A?fetch("".concat("https://financeapp-v1.herokuapp.com","/api/v1/validation/users"),{headers:{"Content-Type":"application/json"},body:JSON.stringify({username:A}),method:"POST"}).then((function(e){return e.json().then((function(t){if(!e.ok)throw new Error(t.msg);F((function(e){return Object(s.a)(Object(s.a)({},e),{},{username:{error:null,valid:!0}})}))}))})).catch((function(e){console.log(e,"error"),F((function(t){return Object(s.a)(Object(s.a)({},t),{},{username:{valid:null,error:e.message}})}))})):F((function(e){return Object(s.a)(Object(s.a)({},e),{},{username:{error:null,valid:null}})}))}),[A]),Object(n.useEffect)((function(){P?fetch("".concat("https://financeapp-v1.herokuapp.com","/api/v1/validation/email"),{headers:{"Content-Type":"application/json"},body:JSON.stringify({email:P}),method:"POST"}).then((function(e){return e.json().then((function(t){if(!e.ok)throw new Error(t.msg);F((function(e){return Object(s.a)(Object(s.a)({},e),{},{email:{error:null,valid:!0}})}))}))})).catch((function(e){console.log(e,"error"),F((function(t){return Object(s.a)(Object(s.a)({},t),{},{email:{valid:null,error:e.message}})}))})):F((function(e){return Object(s.a)(Object(s.a)({},e),{},{email:{error:null,valid:null}})}))}),[P]);var W=function(){fetch("".concat("https://financeapp-v1.herokuapp.com","/api/v1/auth/register"),{headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,email:l,password:h}),method:"POST"}).then((function(e){if(!e.ok)throw new Error("what the hell");return e})).then((function(e){return e.json()})).then((function(e){console.log(e.token,"setting token"),y({type:"SET_TOKEN",payload:e.token}),y({type:"SET_USER",payload:{email:l}}),localStorage.setItem("token",JSON.stringify(e.token)),M.push("/"),R(!0)})).catch((function(e){E(e.message)}))},K=fr();return I?Object(k.jsx)(d.a,{to:"/".concat(B)}):T?Object(k.jsx)("p",{children:T}):Object(k.jsx)(X.a,{open:!0,TransitionComponent:vr,className:K.dialog,classes:{paperWidthFalse:K.dialog},maxWidth:!1,onClose:function(){return M.goBack()},children:Object(k.jsxs)("div",{className:"form",children:[Object(k.jsx)("h1",{className:"form__title",children:"Register"}),Object(k.jsx)("div",{className:"formLocal",children:Object(k.jsxs)("form",{onSubmit:function(e){e.preventDefault(),x===h?W():alert("password don't match")},children:[Object(k.jsx)(mr,{label:"username",field:a,onChange:function(e){c(e.target.value)},styles:K,validation:D.username,type:"text"}),Object(k.jsx)(mr,{label:"email",field:l,onChange:function(e){u(e.target.value)},styles:K,validation:D.email,type:"text"}),Object(k.jsx)(xr,{children:function(e,t){return Object(k.jsx)(mr,{isPassword:!0,label:"password",field:h,onChange:function(e){O(e.target.value)},styles:K,validation:D.password,type:e?"text":"password",endAdornment:Object(k.jsx)(ur.a,{position:"end",children:Object(k.jsx)(g.a,{"aria-label":"toggle password visibility",onClick:t,children:e?Object(k.jsx)(hr.a,{}):Object(k.jsx)(Or.a,{})})})})}}),Object(k.jsx)(xr,{children:function(e,t){return Object(k.jsx)(mr,{isPassword:!0,label:"repeat password",field:x,onChange:function(e){v(e.target.value)},styles:K,validation:D.password,type:e?"text":"password",endAdornment:Object(k.jsx)(ur.a,{position:"end",children:Object(k.jsx)(g.a,{"aria-label":"toggle password visibility",onClick:t,children:e?Object(k.jsx)(hr.a,{}):Object(k.jsx)(Or.a,{})})})})}}),Object(k.jsx)(p.a,{disabled:!D.username.valid||!D.email.valid,type:"submit",color:"primary",variant:"contained",children:"submit"})]})}),Object(k.jsx)("h5",{className:"form__or",children:"- OR -"}),Object(k.jsx)("div",{className:"formOauth",children:Object(k.jsx)(or,{href:"".concat("https://financeapp-v1.herokuapp.com","/api/v1/auth/oauth/facebook")})})]})})},mr=function(e){var t=e.field,a=e.type,n=e.onChange,c=e.label,o=e.styles,r=e.validation,i=e.endAdornment,s=e.isPassword,l=void 0!==s&&s,u=Object(Z.a)(),d=Object(ar.a)(u.breakpoints.down("sm"));return Object(k.jsxs)(Nt.a,{fullWidth:!0,error:!!r.error,variant:"filled",required:!0,className:o.formField,size:d?"small":"medium",children:[Object(k.jsx)(It.a,{htmlFor:c,children:c}),Object(k.jsx)(dr.a,{id:c,error:!!r.error,type:a,value:t,onChange:n,endAdornment:r.valid?Object(k.jsx)(ur.a,{position:"end",children:Object(k.jsx)(g.a,{"aria-label":"toggle password visibility",children:Object(k.jsx)(pr.a,{})})}):l?i:null}),!!r.error&&Object(k.jsx)(jr.a,{classes:{root:o.helperText},children:r.error})]})},xr=function(e){var t=e.children,a=Object(n.useState)(!1),c=Object(i.a)(a,2),o=c[0],r=c[1];return t(o,(function(){r((function(e){return!e}))}))},vr=c.a.forwardRef((function(e,t){return Object(k.jsx)(Oe.a,Object(s.a)({direction:"up",ref:t},e))})),yr=a(199),kr=a.n(yr),Sr=a(255),Cr=a.n(Sr),Tr=a(412),Er=(a(636),function(e){var t=e.message,a=e.selectPost,c=e.selectImg,o=e.isSelected,r=void 0!==o&&o,l=Object(n.useState)({conversationData:null,error:null,loading:!0}),u=Object(i.a)(l,2),d=u[0],j=d.conversationData,b=d.error,p=(d.loading,u[1]),h=t.user,O=t.created_at,f=Object(n.useRef)(function(e){switch(typeof e){case"number":break;case"string":e=+new Date(e);break;case"object":e.constructor===Date&&(e=e.getTime());break;default:e=+new Date}var t=[[60,"seconds",1],[120,"1 minute ago","1 minute from now"],[3600,"minutes",60],[7200,"1 hour ago","1 hour from now"],[86400,"hours",3600],[172800,"Yesterday","Tomorrow"],[604800,"days",86400],[1209600,"Last week","Next week"],[2419200,"weeks",604800],[4838400,"Last month","Next month"],[29030400,"months",2419200],[58060800,"Last year","Next year"],[290304e4,"years",29030400],[580608e4,"Last century","Next century"],[580608e5,"centuries",290304e4]],a=(+new Date-e)/1e3,n="ago",c=1;if(0==a)return"Just now";a<0&&(a=Math.abs(a),n="from now",c=2);for(var o,r=0;o=t[r++];)if(a<o[0])return"string"==typeof o[2]?o[c]:Math.floor(a/o[2])+" "+o[1]+" "+n;return e}(new Date(O).getTime())),g=t.entities.chart?t.entities.chart:null,m=t.entities.giphy?t.entities.giphy:null,x=Object(n.useState)({gifUrl:"",gifLoading:!1,gifError:null}),v=Object(i.a)(x,2),y=v[0],S=y.gifUrl,C=y.gifLoading,T=y.gifError,E=v[1],w=Object(n.useRef)([0,0,1,3,Math.round(10*Math.random())][Math.round(4*Math.random())]);console.log("rereeenderoo"),Object(n.useEffect)((function(){m&&(E((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!0})})),new Tr.GiphyFetch("dly39yAKgF2Yppvpsyxi9mLIG35m1eiR").gif(m.id).then((function(e){var t=e.data;E((function(e){return Object(s.a)(Object(s.a)({},e),{},{gifLoading:!1,gifUrl:t.embed_url})}))})).catch((function(e){E((function(t){return Object(s.a)(Object(s.a)({},t),{},{gifLoading:!1,gifError:e.message})}))})))}),[]),Object(n.useEffect)((function(){console.log("mounting again"),p((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!0})})),fetch("https://api.stocktwits.com/api/2/streams/conversation/".concat(t.id,".json")).then((function(e){return e.json()})).then((function(e){e.errors&&p({error:!0,conversationData:null,laoding:!1}),p((function(t){return Object(s.a)(Object(s.a)({},t),{},{conversationData:e,loading:!1})}))})).catch((function(e){p((function(e){return{error:!0,conversationData:null,laoding:!1}}))}))}),[t]);return console.log(j,"conversdataaa"),t.entities&&console.log(t.entities,"entitieees"),Object(k.jsxs)("div",{className:r?"post is-selected":"post",onClick:function(){a(t)},children:[Object(k.jsx)("div",{className:"post-avatar",children:Object(k.jsx)("img",{className:"avatar",src:h.avatar_url,alt:h.username})}),Object(k.jsxs)("div",{className:"post-body",children:[Object(k.jsxs)("div",{className:"post-header",children:[t.entities.sentiment?Object(k.jsx)(va.a,{size:"small",label:t.entities.sentiment.basic,style:{marginRight:"1rem"}}):null,Object(k.jsx)("span",{children:f.current})]}),Object(k.jsx)("p",{className:"message-text",children:t.body}),g&&Object(k.jsx)("img",{src:g.original,alt:"chart caption",className:r?"body-img bigger":"body-img",onClick:function(e){e.stopPropagation(),c(g.original)}}),m&&Object(k.jsx)(wr,{gifUrl:S,gifLoading:C,gifError:T}),Object(k.jsxs)("div",{className:"post-footer",children:[Object(k.jsx)(tr.a,{badgeContent:w.current,color:"secondary",className:"badge",children:Object(k.jsx)(Cr.a,{})}),b?Object(k.jsx)(tr.a,{badgeContent:0,color:"secondary",className:"badge",children:Object(k.jsx)(kr.a,{})}):j?Object(k.jsx)(tr.a,{badgeContent:j.parent.conversation.replies,color:"secondary",className:"badge",children:Object(k.jsx)(kr.a,{})}):Object(k.jsx)(kr.a,{})]}),Object(k.jsx)("div",{children:Object(k.jsx)(M.a,{in:r,unmountOnExit:!0,mountOnEnter:!0,children:function(e){return Object(k.jsx)(ln.a,{in:j&&j.messages,children:Object(k.jsx)("div",{className:"post-reply-list",children:j&&j.messages&&j.messages.map((function(e){return Object(k.jsx)(Nr,{message:e},e.user.username)}))})})}})})]})]})}),wr=function(e){var t=e.gifUrl,a=e.gifLoading,n=e.gifError;return Object(k.jsxs)(k.Fragment,{children:[" ",a?Object(k.jsx)("p",{children:"Loading..."}):n?Object(k.jsx)("p",{children:n}):Object(k.jsx)("iframe",{src:t,width:"480",height:"270",frameBorder:"0",class:"giphy-embed",allowFullScreen:!0})]})};Er.defaultProps={selectPost:function(e){return null}};var Nr=function(e){var t=e.message,a=t.user;t.created_at;return Object(k.jsxs)("div",{className:"post-reply",children:[Object(k.jsx)("div",{className:"post-avatar",children:Object(k.jsx)("img",{className:"avatar",src:a.avatar_url,alt:a.username})}),Object(k.jsxs)("div",{className:"post-body",children:[Object(k.jsx)("div",{className:"post-header",children:t.entities.sentiment?Object(k.jsx)(va.a,{size:"small",label:t.entities.sentiment.basic}):null}),Object(k.jsx)("p",{className:"message-text",children:t.body}),Object(k.jsx)("div",{className:"post-footer",children:Object(k.jsx)(tr.a,{badgeContent:0,color:"secondary",children:Object(k.jsx)(Cr.a,{})})})]})]})},Ir=c.a.memo(Er),Rr=a(415),Ar=a(413),Pr=a.n(Ar),Lr=function(e){Object(To.a)(a,e);var t=Object(Eo.a)(a);function a(e,n){var c;return Object(ko.a)(this,a),(c=t.call(this,e,n)).state={loading:!0,data:null,error:null,responseType:null,backdropOpen:!1,selectedPost:null,rotatingIcon:!1,imgSelected:null},c.selectPost=function(e){console.log("selectpost fired"),c.setState({selectedPost:e,backdropOpen:!0})},c.unselectPost=function(){c.setState({backdropOpen:!1,selectedPost:null})},c.selectImg=function(e){console.log("selectIMG fired"),c.setState((function(t){return Object(s.a)(Object(s.a)({},t),{},{imgSelected:e})}))},c.unselectImg=function(){c.setState((function(e){return Object(s.a)(Object(s.a)({},e),{},{imgSelected:null})}))},c}return Object(So.a)(a,[{key:"componentDidMount",value:function(){this.props.valores.userState.ready&&this.fetchInterests()}},{key:"componentDidUpdate",value:function(e,t){console.log(t,e,"prevv propss"),t.data!==this.state.data&&console.log(this.state.data,"data recibida"),e.valores!==this.props.valores&&(console.log("valores change",this.props.valores.userState.ready),this.props.valores.userState.ready&&this.fetchInterests())}},{key:"prepareData",value:function(e){if(console.log(e.data,"jooooiia"),!e.data||!e.data.length)return console.log("es nulo"),null;var t=e.data.map((function(e){var t=new Date(e.created_at).getTime();return e.unixTime=t,e})).sort((function(e,t){return t.unixTime-e.unixTime}));return console.log(t,"sortedData"),"trending"===this.state.responseType?t:"interests"===this.state.responseType?this.chunkData(t,30):void 0}},{key:"chunkData",value:function(e,t){var a=[],n=Math.round(e.length/t);this.props.setChunkCount(n);var c=e.length-t*n,o=0;return Array(n).fill(null).forEach((function(){a=[].concat(Object(y.a)(a),[e.slice(o,o+30)]),o+=30})),c&&(a=[].concat(Object(y.a)(a),[e.slice(o,o+c)])),a}},{key:"fetchInterests",value:function(){var e=this;this.setState({rotatingIcon:!0,data:null}),fetch("".concat("https://financeapp-v1.herokuapp.com","/api/v1/interests/populate?email=").concat(this.props.valores.userState.info.email)).then((function(e){return e.json()})).then((function(t){e.setState({responseType:t.type});var a=e.prepareData(t);console.log(a,"readyData bibor"),e.setState({loading:!1,data:a,rotatingIcon:!1}),"interests"===e.state.responseType&&e.props._setIsDataReadyScroll(null!==a)})).catch((function(t){e.setState({laoding:!1,error:t.message,rotatingIcon:!1})}))}},{key:"render",value:function(){var e=this;console.log(this.props.valores.userState,"wopo");var t=this.state,a=t.data,n=t.loading,c=t.responseType,o=t.backdropOpen,r=t.selectedPost,i=t.rotatingIcon,s=t.imgSelected;console.log(a,"lo dataa");var l=this.props.currentChunk;return n?Object(k.jsx)("h3",{children:"Loading..."}):"interests"===c?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{children:a&&a.length&&a.slice(0,l).map((function(t,a){return console.log(t,"qe collons chu"),Object(k.jsx)(Mr,{chunk:t,selectPost:e.selectPost,selectImg:e.selectImg},a)}))}),r&&Object(k.jsx)(_r,{isOpen:o,unselectPost:this.unselectPost,children:Object(k.jsx)(Ir,{message:r,selectPost:this.selectPost,isSelected:!0})}),s&&Object(k.jsx)(Dr,{open:!!s,unselectImg:this.unselectImg,children:Object(k.jsx)("img",{src:s,alt:"image"})})]}):"trending"===c?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(p.a,{startIcon:Object(k.jsx)(Pr.a,{className:i?"rotating-icon":""}),onClick:function(){e.fetchInterests()},children:"Refresh"}),a&&Object(k.jsx)(Fr,{children:a.map((function(t){return Object(k.jsx)(Ir,{message:t,selectPost:e.selectPost})}))}),r&&Object(k.jsx)(_r,{isOpen:o,unselectPost:this.unselectPost,children:Object(k.jsx)(Ir,{message:r,selectPost:this.selectPost,isSelected:!0})})]}):Object(k.jsx)("p",{children:"No responseType returned from server"})}}]),a}(c.a.Component),_r=function(e){var t=e.unselectPost,a=e.children,n=e.isOpen;return Object(k.jsx)(X.a,{open:n,onClick:t,maxWidth:!1,children:a})},Dr=function(e){var t=e.children,a=e.open,n=e.unselectImg;return Object(k.jsx)(X.a,{open:a,onClose:n,maxWidth:"lg",children:Object(k.jsxs)("div",{style:{position:"relative"},children:[t,Object(k.jsx)(g.a,{onClick:n,children:Object(k.jsx)(oc.a,{style:{position:"absolute",right:"0",top:"0",fontSize:"35px"}})})]})})},Fr=function(e){var t=e.children,a=Object(n.useRef)(null),c=Rr.a.timeline();return Object(n.useEffect)((function(){c.to(a.current.childNodes,{opacity:1,ease:"power3.inOut",duration:.4,stagger:.1})}),[]),Object(k.jsx)("div",{ref:a,children:t})},Mr=function(e){var t=e.chunk,a=e.selectPost,n=e.selectImg;return Object(k.jsx)(Fr,{children:t.map((function(e,t){return Object(k.jsx)(Ir,{message:e,selectPost:a,selectImg:n},e.id)}))})},Br=function(e){var t=e.children,a=Object(n.useState)(0),c=Object(i.a)(a,2),o=c[0],r=c[1],s=Object(n.useState)(!1),l=Object(i.a)(s,2),u=l[0],d=l[1],j=Object(n.useState)(1),b=Object(i.a)(j,2),p=b[0],h=b[1],O=Object(n.useRef)(null),f=Object(Za.a)(O,{root:null,rootMargin:"0px",threshold:1}),g=Object(n.useRef)(!1);return Object(n.useEffect)((function(){if(console.log(f,"interseccion baby"),u&&f&&f.intersectionRatio<1.5&&p<=o&&(console.log("interesected"),!g.current)){g.current=!0,h((function(e){return e+1})),console.log("intersection crossed");var e=setTimeout((function(){g.current=!1,clearTimeout(e)}),800)}}),[f]),Object(k.jsxs)("div",{children:[t({setChunkCount:r,_setIsDataReadyScroll:d,currentChunk:p}),Object(k.jsx)("div",{style:{height:"20px"},ref:O})]})},Wr=a(414),Kr=Object(j.a)((function(e){return{root:{display:"flex",position:"relative"},menuButton:{marginRight:36},content:Object(u.a)({flexGrow:1,overflowX:"hidden",position:"relative"},e.breakpoints.up("lg"),{padding:"24px 60px",paddingTop:0}),toolbar:{width:"100%",height:function(e){return"companies"===e.location.pathname.split("/")[1]?"112px":"64px"}},overlay:{position:"absolute",height:"100%",width:"100%",transition:"background 0.4s ease",backgroundColor:function(e){return e.showOverlay?"black":"transparent"}}}})),Ur=pe(Date.now()),Gr=function(){!function(){hc();var e=N(),t=e.state,a=e.dispatch,c=q().userState,o=(t.missingTicker,t.currentPossesions.stocks),r=function(){var e=Object(Y.a)(V.a.mark((function e(){var t,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(c.info,"fetch price ejecutao"),e.prev=1,e.next=4,fetch("".concat("https://financeapp-v1.herokuapp.com","/api/v1/prices/portfolio_prices"),{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(o)});case 4:return t=e.sent,e.next=7,t.json();case 7:return a=e.sent,e.abrupt("return",a);case 11:throw e.prev=11,e.t0=e.catch(1),new Error(e.t0," aquiii puta");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),i=function(e,t){console.log(e,"la arrey");var n=new Worker("/worker.js");n.postMessage(e),n.onmessage=function(n){var c=n.data,o=c.portfolioHistoryByDate,r=c.portfolioHistoryByCompanies;console.log(o,r,"errr work"),a({type:"STORE_PORTFOLIO_HISTORY_BY_COMPANY_CHART_READY",payload:r}),a({type:"STORE_PORTFOLIO_HISTORY_BY_DATE",payload:o}),t(),console.log(r,"ku pusu"),console.log(e,"averaaaa"),console.log(o,"master")}},s=function(){var e=Object(Y.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(o.length,"tokkee"),o.length){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,r();case 5:t=e.sent,console.log(t,"initialprices"),i(t,(function(){a({type:"SET_ARE_HISTORIC_PRICES_READY",payload:!0})}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){t.setPruebaReady&&s()}),[t.setPruebaReady])}();var e=function(){var e=Object(n.useState)(!0),t=Object(i.a)(e,2),a=t[0],c=t[1],o=q(),r=o.userState,s=o.userDispatch;return Object(n.useEffect)((function(){if(console.log(r.token,"qe sddkfjdk"),!r.token)return console.log("setting user null"),c(!1),void s({type:"SET_USER_NULL"});r.token&&(c(!0),fetch("".concat("https://financeapp-v1.herokuapp.com","/api/v1/auth/secret"),{headers:{Authorization:"bearer ".concat(r.token)}}).then((function(e){if(!e.ok)throw new Error("token not valid");return e})).then((function(e){return e.json()})).then((function(e){console.log(e,"resposns"),s({type:"SET_USER",payload:{email:e.email}}),console.log("success nena",e),c(!1)})).catch((function(e){c(!1),s({type:"SET_USER_NULL"}),console.log(e.message)})))}),[r.token]),{loading:a}}().loading,t=q(),a=t.userState,c=t.userDispatch,o=N(),r=o.state,u=o.dispatch;console.log(a.info,"infoo userstate"),function(){var e=q(),t=e.userState,a=e.userDispatch;Object(n.useEffect)((function(){if(t.isAuthenticated&&t.info.static_image){console.log(t,"userState");var e=t.info.email;fetch("".concat("https://financeapp-v1.herokuapp.com","/api/v1/users/image"),{headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e}),method:"POST"}).then((function(e){if(!e.ok)throw new Error("no image, is not really an error");return e})).then((function(e){return e.blob()})).then((function(e){a({type:"UPDATE_IMAGE",payload:e})})).catch((function(e){alert(e.message)}))}}),[t.isAuthenticated,t.info.static_image])}(),Object(n.useEffect)((function(){if(a.isAuthenticated){var e=a.info.email;if(!e)throw new Error("the user is authenticated but we don't have its credentials, wtf");fetch("".concat("https://financeapp-v1.herokuapp.com","/api/v1/operations"),{headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e}),method:"POST"}).then((function(e){return e.json()})).then((function(e){if(e.readyOperations&&u({type:"ADD_DIRECT_HISTORY",payload:e.readyOperations}),e.currentStocks&&u({type:"SET_INITIAL_POSSESIONS",payload:{stocks:e.currentStocks,cash:e.userCash}}),e.userData){var t=e.userData,a=t.image,n=Object(l.a)(t,["image"]);e.userData.static_image?c({type:"ADD_USER_INFO",payload:n}):c({type:"ADD_USER_INFO",payload:Object(s.a)(Object(s.a)({},n),{},{imageUrl:a})})}console.log("hellow"),e.interests&&u({type:"STORE_USER_INTEREST",payload:e.interests}),console.log("hellowa"),e.uniqueStocks&&u({type:"SET_INITIAL_UNIQUE_STOCKS",payload:e.uniqueStocks}),console.log("hellowaa"),e.initialDate?e.initialDate.split("T")[0]===Ur&&u({type:"SET_FIRST_SERIE",payload:!0}):u({type:"SET_FIRST_SERIE",payload:!0}),console.log("hellowaai"),u({type:"ENABLE"})})).catch((function(e){console.log(e)}))}}),[a.isAuthenticated,a.email]);Object(n.useEffect)((function(){!function(){var e=W.a.getJSON("token");e&&localStorage.setItem("token",e)}();var e=new Worker("worker.js");e.postMessage("comeme el culo"),e.onmessage=function(e){console.log(e.data,"web worker funciona")}}),[]);var j=Object(d.g)(),h=Object(d.h)();console.log(j,h,"a ver diferencias");var O=Object(n.useState)(""),f=Object(i.a)(O,2),g=f[0],m=f[1],x=A(),v=(x.setSidebarOpen,x.showOverlay),y=Kr({location:h,showOverlay:v}),S=Object(n.useState)(0),C=Object(i.a)(S,2);C[0],C[1];console.log(r.areHistoricPricesReady,"ostiau"),Object(n.useEffect)((function(){if(console.log(g,"seleccciooon"),g){console.log(g,"que webox");var e=g.name,t=g.ticker;u({type:"SET_COMPANY",payload:{name:e,ticker:t}}),j.push("/companies/overview/".concat(g.ticker))}}),[g]),Object(n.useEffect)((function(){var e=r.currentCompany,t=e.name,a=e.ticker;t&&a&&u({type:"ADD_VISITED_COMPANY",payload:{ticker:a.toUpperCase(),name:t}})}),[r.currentCompany]);var T=h.state&&h.state.background;return e?Object(k.jsx)("h4",{children:"Checking credentials"}):Object(k.jsxs)("div",{className:y.root,children:[Object(k.jsx)(qc,{}),Object(k.jsx)(b.a,{}),Object(k.jsx)(Qe,{}),Object(k.jsx)(aa,{}),Object(k.jsxs)("main",{className:y.content,children:[Object(k.jsx)("div",{className:y.toolbar}),Object(k.jsx)(p.a,{onClick:function(){j.push("/pruebaPorfolio")}}),Object(k.jsxs)(d.d,{location:T||h,children:[Object(k.jsx)(d.b,{path:"/companies",children:Object(k.jsx)(Hc,{})}),Object(k.jsx)(d.b,{path:"/news/:category",children:Object(k.jsx)(Xa,{principal:!0})}),Object(k.jsx)(d.b,{path:"/covid19",children:Object(k.jsx)(Ua,{})}),Object(k.jsx)(d.b,{path:"/indexes/:field",children:Object(k.jsx)(bc,{})}),Object(k.jsx)(d.b,{path:"/portfolio",children:Object(k.jsx)(Mc,{})}),Object(k.jsx)(d.b,{path:"/operations",children:Object(k.jsx)(Ut,{children:Object(k.jsx)(oo,{operations:r.userActivity})})}),Object(k.jsx)(d.b,{path:"/people",children:Object(k.jsx)(yo,{})}),Object(k.jsx)(d.b,{path:"/proba",children:Object(k.jsx)(Mn,{ticker:"nflx"})}),Object(k.jsx)(d.b,{path:"/feed",children:Object(k.jsx)(z.Consumer,{children:function(e){return Object(k.jsx)(Br,{children:function(t){var a=t._setIsDataReadyScroll,n=t.currentChunk,c=t.setChunkCount;return Object(k.jsx)(Lr,{valores:e,_setIsDataReadyScroll:a,currentChunk:n,setChunkCount:c})}})}})}),Object(k.jsx)(d.b,{path:"/protectedRuta",children:Object(k.jsx)(lr,{})}),Object(k.jsx)(d.b,{path:"/uploads",children:Object(k.jsx)(Ut,{children:Object(k.jsx)(Wt,{})})}),Object(k.jsx)(d.b,{path:"/privacy_policy",children:Object(k.jsx)(Wr.Policy,{})}),Object(k.jsx)(d.b,{path:"/",children:Object(k.jsx)(ga,{setSelection:m})})]}),T&&Object(k.jsxs)(k.Fragment,{children:["  ",Object(k.jsx)(d.b,{path:"/login",children:Object(k.jsx)(ir,{})}),Object(k.jsx)(d.b,{path:"/register",children:Object(k.jsx)(gr,{})})]})]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(H,{children:Object(k.jsx)(w,{children:Object(k.jsx)(R,{children:Object(k.jsx)(ye.a,{children:Object(k.jsx)(Gr,{})})})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[758,1,2]]]);
//# sourceMappingURL=main.45e435fb.chunk.js.map